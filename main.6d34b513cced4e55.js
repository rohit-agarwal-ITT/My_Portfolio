"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[179],{2011:(yt,xe,N)=>{N.d(xe,{Dh:()=>fe,GT:()=>ne,cc:()=>Te,hO:()=>je,on:()=>$,pX:()=>ie,xv:()=>he});var a=N(4650),J=N(9260),k=N(2122);yt=N.hmd(yt);const re=["ngOnDestroy"],ie=(Se,De,Ue,Ie={})=>new Proxy(Se,{get:(we,Me)=>Ue.runOutsideAngular(()=>{var Fe;if(Se[Me])return!(null===(Fe=Ie?.spy)||void 0===Fe)&&Fe.get&&Ie.spy.get(Me,Se[Me]),Se[Me];if(re.indexOf(Me)>-1)return()=>{};const Ne=De.toPromise().then(V=>{const ve=V&&V[Me];return"function"==typeof ve?ve.bind(V):ve&&ve.then?ve.then(Be=>Ue.run(()=>Be)):Ue.run(()=>ve)});return new Proxy(()=>{},{get:(V,ve)=>Ne[ve],apply:(V,ve,Be)=>Ne.then(Ze=>{var gt;const Ye=Ze&&Ze(...Be);return!(null===(gt=Ie?.spy)||void 0===gt)&&gt.apply&&Ie.spy.apply(Me,Be,Ye),Ye})})})}),ne=(Se,De)=>{De.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Ie=>{Object.defineProperty(Se.prototype,Ie,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Ie))})})};class me{constructor(De){return De}}const fe=new a.OlP("angularfire2.app.options"),he=new a.OlP("angularfire2.app.name");function $(Se,De,Ue){const we="object"==typeof Ue&&Ue||{};we.name=we.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const Fe=J.Z.apps.filter(Ne=>Ne&&Ne.name===we.name)[0]||De.runOutsideAngular(()=>J.Z.initializeApp(Se,we));try{JSON.stringify(Se)!==JSON.stringify(Fe.options)&&H("error",`${Fe.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(Fe)}const H=(Se,...De)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Se](...De)},W={provide:me,useFactory:$,deps:[fe,a.R0b,[new a.FiY,he]]};let je=(()=>{class Se{constructor(Ue){J.Z.registerVersion("angularfire",k.q4.full,"core"),J.Z.registerVersion("angularfire",k.q4.full,"app-compat"),J.Z.registerVersion("angular",a.q4F.full,Ue.toString())}static initializeApp(Ue,Ie){return{ngModule:Se,providers:[{provide:fe,useValue:Ue},{provide:he,useValue:Ie}]}}}return Se.\u0275fac=function(Ue){return new(Ue||Se)(a.LFG(a.Lbi))},Se.\u0275mod=a.oAB({type:Se}),Se.\u0275inj=a.cJS({providers:[W]}),Se})();function Te(Se,De,Ue,Ie,we){const[,Me,Fe]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===Se)||[];if(Me)return function He(Se,De){try{return Se.toString()===De.toString()}catch{return Se===De}}(we,Fe)||(ge("error",`${De} was already initialized on the ${Ue} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:we,was:Fe})),Me;{const Ne=Ie();return globalThis.\u0275AngularfireInstanceCache.push([Se,Ne,we]),Ne}}const at=!!yt.hot,ge=(Se,...De)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Se](...De)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(yt,xe,N)=>{N.d(xe,{q4:()=>Nl,iC:()=>fi,HU:()=>Uo,vb:()=>ta,JM:()=>Hr});var a=N(4650),J=N(259),k=N(5861),re=N(9681),ie=N(2090),ne=N(4859),me=N(1877),fe=N(8766);const he="@firebase/installations",$="0.6.2",H=1e4,W=`w:${$}`,je="FIS_v2",Te="https://firebaseinstallations.googleapis.com/v1",He=36e5,De=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ue(I){return I instanceof ie.ZR&&I.code.includes("request-failed")}function Ie({projectId:I}){return`${Te}/projects/${I}/installations`}function we(I){return{token:I.token,requestStatus:2,expiresIn:Ze(I.expiresIn),creationTime:Date.now()}}function Me(I,D){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,k.Z)(function*(I,D){const F=(yield D.json()).error;return De.create("request-failed",{requestName:I,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Ne({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ve(I){return Be.apply(this,arguments)}function Be(){return(Be=(0,k.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function Ze(I){return Number(I.replace("s","000"))}function xn(){return(xn=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:M}){const F=Ie(I),K=Ne(I),te=D.getImmediate({optional:!0});if(te){const ht=yield te.getHeartbeatsHeader();ht&&K.append("x-firebase-client",ht)}const Xe={method:"POST",headers:K,body:JSON.stringify({fid:M,authVersion:je,appId:I.appId,sdkVersion:W})},ct=yield ve(()=>fetch(F,Xe));if(ct.ok){const ht=yield ct.json();return{fid:ht.fid||M,registrationStatus:2,refreshToken:ht.refreshToken,authToken:we(ht.authToken)}}throw yield Me("Create Installation",ct)})).apply(this,arguments)}function mr(I){return new Promise(D=>{setTimeout(D,I)})}const ji=/^[cdef][\w-]{21}$/,ar="";function ma(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const M=function Q(I){return function Zn(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return ji.test(M)?M:ar}catch{return ar}}function Y(I){return`${I.appName}!${I.appId}`}const ue=new Map;function pe(I,D){const M=Y(I);ze(M,D),function Ht(I,D){const M=function mt(){return!ln&&"BroadcastChannel"in self&&(ln=new BroadcastChannel("[Firebase] FID Change"),ln.onmessage=I=>{ze(I.data.key,I.data.fid)}),ln}();M&&M.postMessage({key:I,fid:D}),function Wt(){0===ue.size&&ln&&(ln.close(),ln=null)}()}(M,D)}function ze(I,D){const M=ue.get(I);if(M)for(const F of M)F(D)}let ln=null;const Tn="firebase-installations-database",Ir=1,$t="firebase-installations-store";let hn=null;function Jn(){return hn||(hn=(0,fe.X3)(Tn,Ir,{upgrade:(I,D)=>{0===D&&I.createObjectStore($t)}})),hn}function Yt(I,D){return tt.apply(this,arguments)}function tt(){return(tt=(0,k.Z)(function*(I,D){const M=Y(I),K=(yield Jn()).transaction($t,"readwrite"),te=K.objectStore($t),Pe=yield te.get(M);return yield te.put(D,M),yield K.done,(!Pe||Pe.fid!==D.fid)&&pe(I,D.fid),D})).apply(this,arguments)}function Hi(I){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,k.Z)(function*(I){const D=Y(I),F=(yield Jn()).transaction($t,"readwrite");yield F.objectStore($t).delete(D),yield F.done})).apply(this,arguments)}function Sn(I,D){return ai.apply(this,arguments)}function ai(){return(ai=(0,k.Z)(function*(I,D){const M=Y(I),K=(yield Jn()).transaction($t,"readwrite"),te=K.objectStore($t),Pe=yield te.get(M),Xe=D(Pe);return void 0===Xe?yield te.delete(M):yield te.put(Xe,M),yield K.done,Xe&&(!Pe||Pe.fid!==Xe.fid)&&pe(I,Xe.fid),Xe})).apply(this,arguments)}function li(I){return fn.apply(this,arguments)}function fn(){return fn=(0,k.Z)(function*(I){let D;const M=yield Sn(I.appConfig,F=>{const K=function _n(I){return Tr(I||{fid:ma(),registrationStatus:0})}(F),te=function bt(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(De.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},F=function It(I,D){return Lr.apply(this,arguments)}(I,M);return{installationEntry:M,registrationPromise:F}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:zn(I)}:{installationEntry:D}}(I,K);return D=te.registrationPromise,te.installationEntry});return M.fid===ar?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}}),fn.apply(this,arguments)}function Lr(){return Lr=(0,k.Z)(function*(I,D){try{const M=yield function Ye(I,D){return xn.apply(this,arguments)}(I,D);return Yt(I.appConfig,M)}catch(M){throw Ue(M)&&409===M.customData.serverCode?yield Hi(I.appConfig):yield Yt(I.appConfig,{fid:D.fid,registrationStatus:0}),M}}),Lr.apply(this,arguments)}function zn(I){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,k.Z)(function*(I){let D=yield Ao(I.appConfig);for(;1===D.registrationStatus;)yield mr(100),D=yield Ao(I.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:F}=yield li(I);return F||M}return D})).apply(this,arguments)}function Ao(I){return Sn(I,D=>{if(!D)throw De.create("installation-not-found");return Tr(D)})}function Tr(I){return function ya(I){return 1===I.registrationStatus&&I.registrationTime+H<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function ci(){return(ci=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:D},M){const F=function Qt(I,{fid:D}){return`${Ie(I)}/${D}/authTokens:generate`}(I,M),K=function V(I,{refreshToken:D}){const M=Ne(I);return M.append("Authorization",function gt(I){return`${je} ${I}`}(D)),M}(I,M),te=D.getImmediate({optional:!0});if(te){const ht=yield te.getHeartbeatsHeader();ht&&K.append("x-firebase-client",ht)}const Xe={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:W,appId:I.appId}})},ct=yield ve(()=>fetch(F,Xe));if(ct.ok)return we(yield ct.json());throw yield Me("Generate Auth Token",ct)})).apply(this,arguments)}function $i(I){return un.apply(this,arguments)}function un(){return un=(0,k.Z)(function*(I,D=!1){let M;const F=yield Sn(I.appConfig,te=>{if(!qt(te))throw De.create("not-registered");const Pe=te.authToken;if(!D&&function j(I){return 2===I.requestStatus&&!function U(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+He}(I)}(Pe))return te;if(1===Pe.requestStatus)return M=function rt(I,D){return Ee.apply(this,arguments)}(I,D),te;{if(!navigator.onLine)throw De.create("app-offline");const Xe=function z(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}(te);return M=function St(I,D){return Tt.apply(this,arguments)}(I,Xe),Xe}});return M?yield M:F.authToken}),un.apply(this,arguments)}function Ee(){return(Ee=(0,k.Z)(function*(I,D){let M=yield et(I.appConfig);for(;1===M.authToken.requestStatus;)yield mr(100),M=yield et(I.appConfig);const F=M.authToken;return 0===F.requestStatus?$i(I,D):F})).apply(this,arguments)}function et(I){return Sn(I,D=>{if(!qt(D))throw De.create("not-registered");return function ye(I){return 1===I.requestStatus&&I.requestTime+H<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Tt(){return Tt=(0,k.Z)(function*(I,D){try{const M=yield function cn(I,D){return ci.apply(this,arguments)}(I,D),F=Object.assign(Object.assign({},D),{authToken:M});return yield Yt(I.appConfig,F),M}catch(M){if(!Ue(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const F=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Yt(I.appConfig,F)}else yield Hi(I.appConfig);throw M}}),Tt.apply(this,arguments)}function qt(I){return void 0!==I&&2===I.registrationStatus}function Qe(){return(Qe=(0,k.Z)(function*(I){const D=I,{installationEntry:M,registrationPromise:F}=yield li(D);return F?F.catch(console.error):$i(D).catch(console.error),M.fid})).apply(this,arguments)}function rn(){return rn=(0,k.Z)(function*(I,D=!1){const M=I;return yield function yr(I){return bn.apply(this,arguments)}(M),(yield $i(M,D)).token}),rn.apply(this,arguments)}function bn(){return(bn=(0,k.Z)(function*(I){const{registrationPromise:D}=yield li(I);D&&(yield D)})).apply(this,arguments)}function Ns(I){return De.create("missing-app-config-values",{valueName:I})}const Wu="installations",On=I=>{const D=I.getProvider("app").getImmediate(),M=function Pc(I){if(!I||!I.options)throw Ns("App Configuration");if(!I.name)throw Ns("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!I.options[M])throw Ns(M);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,re._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Oc=I=>{const D=I.getProvider("app").getImmediate(),M=(0,re._getProvider)(D,Wu).getImmediate();return{getId:()=>function ee(I){return Qe.apply(this,arguments)}(M),getToken:K=>function Ke(I){return rn.apply(this,arguments)}(M,K)}};(function nn(){(0,re._registerComponent)(new ne.wA(Wu,On,"PUBLIC")),(0,re._registerComponent)(new ne.wA("installations-internal",Oc,"PRIVATE"))})(),(0,re.registerVersion)(he,$),(0,re.registerVersion)(he,$,"esm2017");const qn="@firebase/remote-config",Sr=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ts{constructor(D,M,F,K){this.client=D,this.storage=M,this.storageCache=F,this.logger=K}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-M,K=F<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${K}.`),K}fetch(D){var M=this;return(0,k.Z)(function*(){const[F,K]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(K&&M.isCachedDataFresh(D.cacheMaxAgeMillis,F))return K;D.eTag=K&&K.eTag;const te=yield M.client.fetch(D),Pe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&Pe.push(M.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(Pe),te})()}}function Ci(I=navigator){return I.languages&&I.languages[0]||I.language}class Oo{constructor(D,M,F,K,te,Pe){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=F,this.projectId=K,this.apiKey=te,this.appId=Pe}fetch(D){var M=this;return(0,k.Z)(function*(){const[F,K]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ct={sdk_version:M.sdkVersion,app_instance_id:F,app_instance_id_token:K,app_id:M.appId,language_code:Ci()},ht={method:"POST",headers:Xe,body:JSON.stringify(ct)},Lt=fetch(Pe,ht),Ot=new Promise((xi,Bo)=>{D.signal.addEventListener(()=>{const ys=new Error("The operation was aborted.");ys.name="AbortError",Bo(ys)})});let ei;try{yield Promise.race([Lt,Ot]),ei=yield Lt}catch(xi){let Bo="fetch-client-network";throw"AbortError"===xi?.name&&(Bo="fetch-timeout"),Sr.create(Bo,{originalErrorMessage:xi?.message})}let tr=ei.status;const Ha=ei.headers.get("ETag")||void 0;let cu,na;if(200===ei.status){let xi;try{xi=yield ei.json()}catch(Bo){throw Sr.create("fetch-client-parse",{originalErrorMessage:Bo?.message})}cu=xi.entries,na=xi.state}if("INSTANCE_STATE_UNSPECIFIED"===na?tr=500:"NO_CHANGE"===na?tr=304:("NO_TEMPLATE"===na||"EMPTY_CONFIG"===na)&&(cu={}),304!==tr&&200!==tr)throw Sr.create("fetch-status",{httpStatus:tr});return{status:tr,eTag:Ha,config:cu}})()}}class Zi{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,k.Z)(function*(){const F=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,F)})()}attemptFetch(D,M){var F=this;return(0,k.Z)(function*(K,{throttleEndTimeMillis:te,backoffCount:Pe}){yield function no(I,D){return new Promise((M,F)=>{const K=Math.max(D-Date.now(),0),te=setTimeout(M,K);I.addEventListener(()=>{clearTimeout(te),F(Sr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(K.signal,te);try{const Xe=yield F.client.fetch(K);return yield F.storage.deleteThrottleMetadata(),Xe}catch(Xe){if(!function mn(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Xe))throw Xe;const ct={throttleEndTimeMillis:Date.now()+(0,ie.$s)(Pe),backoffCount:Pe+1};return yield F.storage.setThrottleMetadata(ct),F.attemptFetch(K,ct)}}).apply(this,arguments)}}class Ls{constructor(D,M,F,K,te){this.app=D,this._client=M,this._storageCache=F,this._storage=K,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ns(I,D){const M=I.target.error||void 0;return Sr.create(D,{originalErrorMessage:M&&M?.message})}const _r="app_namespace_store";class Ei{constructor(D,M,F,K=function Gr(){return new Promise((I,D)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=F=>{D(ns(F,"storage-open"))},M.onsuccess=F=>{I(F.target.result)},M.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(_r,{keyPath:"compositeKey"})}}catch(M){D(Sr.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=D,this.appName=M,this.namespace=F,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,k.Z)(function*(){const F=yield M.openDbPromise;return new Promise((K,te)=>{const Xe=F.transaction([_r],"readonly").objectStore(_r),ct=M.createCompositeKey(D);try{const ht=Xe.get(ct);ht.onerror=Lt=>{te(ns(Lt,"storage-get"))},ht.onsuccess=Lt=>{const Ot=Lt.target.result;K(Ot?Ot.value:void 0)}}catch(ht){te(Sr.create("storage-get",{originalErrorMessage:ht?.message}))}})})()}set(D,M){var F=this;return(0,k.Z)(function*(){const K=yield F.openDbPromise;return new Promise((te,Pe)=>{const ct=K.transaction([_r],"readwrite").objectStore(_r),ht=F.createCompositeKey(D);try{const Lt=ct.put({compositeKey:ht,value:M});Lt.onerror=Ot=>{Pe(ns(Ot,"storage-set"))},Lt.onsuccess=()=>{te()}}catch(Lt){Pe(Sr.create("storage-set",{originalErrorMessage:Lt?.message}))}})})()}delete(D){var M=this;return(0,k.Z)(function*(){const F=yield M.openDbPromise;return new Promise((K,te)=>{const Xe=F.transaction([_r],"readwrite").objectStore(_r),ct=M.createCompositeKey(D);try{const ht=Xe.delete(ct);ht.onerror=Lt=>{te(ns(Lt,"storage-delete"))},ht.onsuccess=()=>{K()}}catch(ht){te(Sr.create("storage-delete",{originalErrorMessage:ht?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class va{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,k.Z)(function*(){const M=D.storage.getLastFetchStatus(),F=D.storage.getLastSuccessfulFetchTimestampMillis(),K=D.storage.getActiveConfig(),te=yield M;te&&(D.lastFetchStatus=te);const Pe=yield F;Pe&&(D.lastSuccessfulFetchTimestampMillis=Pe);const Xe=yield K;Xe&&(D.activeConfig=Xe)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function ba(){return sf.apply(this,arguments)}function sf(){return(sf=(0,k.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Ii(){(0,re._registerComponent)(new ne.wA("remote-config",function I(D,{instanceIdentifier:M}){const F=D.getProvider("app").getImmediate(),K=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sr.create("registration-window");if(!(0,ie.hl)())throw Sr.create("indexed-db-unavailable");const{projectId:te,apiKey:Pe,appId:Xe}=F.options;if(!te)throw Sr.create("registration-project-id");if(!Pe)throw Sr.create("registration-api-key");if(!Xe)throw Sr.create("registration-app-id");const ct=new Ei(Xe,F.name,M=M||"firebase"),ht=new va(ct),Lt=new me.Yd(qn);Lt.logLevel=me.in.ERROR;const Ot=new Oo(K,re.SDK_VERSION,M,te,Pe,Xe),ei=new Zi(Ot,ct),tr=new ts(ei,ct,ht,Lt),Ha=new Ls(F,tr,ht,ct,Lt);return function An(I){const D=(0,ie.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Ha),Ha},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(qn,"0.4.2"),(0,re.registerVersion)(qn,"0.4.2","esm2017")}();const Fc="/firebase-messaging-sw.js",ro="/firebase-cloud-messaging-push-scope",Us="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wa="https://fcmregistrations.googleapis.com/v1",Lc="google.c.a.c_id",af="google.c.a.c_l",lf="google.c.a.ts",vg="google.c.a.e";var rs=(()=>{return(I=rs||(rs={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",rs;var I})();function zi(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bg(I){const M=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(M),K=new Uint8Array(F.length);for(let te=0;te<F.length;++te)K[te]=F.charCodeAt(te);return K}const Uc="fcm_token_details_db",Vc=5,Br="fcm_token_object_Store";function Ju(){return Ju=(0,k.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(Uc))return null;let D=null;return(yield(0,fe.X3)(Uc,Vc,{upgrade:(F=(0,k.Z)(function*(K,te,Pe,Xe){var ct;if(te<2||!K.objectStoreNames.contains(Br))return;const ht=Xe.objectStore(Br),Lt=yield ht.index("fcmSenderId").get(I);if(yield ht.clear(),Lt)if(2===te){const Ot=Lt;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;D={token:Ot.fcmToken,createTime:null!==(ct=Ot.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:zi(Ot.vapidKey)}}}else if(3===te){const Ot=Lt;D={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:zi(Ot.auth),p256dh:zi(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:zi(Ot.vapidKey)}}}else if(4===te){const Ot=Lt;D={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:zi(Ot.auth),p256dh:zi(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:zi(Ot.vapidKey)}}}}),function(te,Pe,Xe,ct){return F.apply(this,arguments)})})).close(),yield(0,fe.Lj)(Uc),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),function cf(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var F}),Ju.apply(this,arguments)}const ll="firebase-messaging-database",is=1,os="firebase-messaging-store";let cl=null;function Bs(){return cl||(cl=(0,fe.X3)(ll,is,{upgrade:(I,D)=>{0===D&&I.createObjectStore(os)}})),cl}function ul(I){return js.apply(this,arguments)}function js(){return js=(0,k.Z)(function*(I){const D=$s(I),F=yield(yield Bs()).transaction(os).objectStore(os).get(D);if(F)return F;{const K=yield function Bc(I){return Ju.apply(this,arguments)}(I.appConfig.senderId);if(K)return yield ss(I,K),K}}),js.apply(this,arguments)}function ss(I,D){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,k.Z)(function*(I,D){const M=$s(I),K=(yield Bs()).transaction(os,"readwrite");return yield K.objectStore(os).put(D,M),yield K.done,D})).apply(this,arguments)}function Hs(){return(Hs=(0,k.Z)(function*(I){const D=$s(I),F=(yield Bs()).transaction(os,"readwrite");yield F.objectStore(os).delete(D),yield F.done})).apply(this,arguments)}function $s({appConfig:I}){return I.appId}const kn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function dl(I,D){return Un.apply(this,arguments)}function Un(){return(Un=(0,k.Z)(function*(I,D){const M=yield ls(I),F=Ea(D),K={method:"POST",headers:M,body:JSON.stringify(F)};let te;try{te=yield(yield fetch(zs(I.appConfig),K)).json()}catch(Pe){throw kn.create("token-subscribe-failed",{errorInfo:Pe?.toString()})}if(te.error)throw kn.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw kn.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function as(){return(as=(0,k.Z)(function*(I,D){const M=yield ls(I),F=Ea(D.subscriptionOptions),K={method:"PATCH",headers:M,body:JSON.stringify(F)};let te;try{te=yield(yield fetch(`${zs(I.appConfig)}/${D.token}`,K)).json()}catch(Pe){throw kn.create("token-update-failed",{errorInfo:Pe?.toString()})}if(te.error)throw kn.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw kn.create("token-update-no-token");return te.token})).apply(this,arguments)}function Wn(I,D){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,k.Z)(function*(I,D){const F={method:"DELETE",headers:yield ls(I)};try{const te=yield(yield fetch(`${zs(I.appConfig)}/${D}`,F)).json();if(te.error)throw kn.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(K){throw kn.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function zs({projectId:I}){return`${wa}/projects/${I}/registrations`}function ls(I){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,k.Z)(function*({appConfig:I,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Ea({p256dh:I,auth:D,endpoint:M,vapidKey:F}){const K={web:{endpoint:M,auth:D,p256dh:I}};return F!==Us&&(K.web.applicationPubKey=F),K}const qs=6048e5;function io(){return io=(0,k.Z)(function*(I){const D=yield function $c(I,D){return Zc.apply(this,arguments)}(I.swRegistration,I.vapidKey),M={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:zi(D.getKey("auth")),p256dh:zi(D.getKey("p256dh"))},F=yield ul(I.firebaseDependencies);if(F){if(function gl(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}(F.subscriptionOptions,M))return Date.now()>=F.createTime+qs?function Pt(I,D){return fl.apply(this,arguments)}(I,{token:F.token,createTime:Date.now(),subscriptionOptions:M}):F.token;try{yield Wn(I.firebaseDependencies,F.token)}catch(K){console.warn(K)}return Xu(I.firebaseDependencies,M)}return Xu(I.firebaseDependencies,M)}),io.apply(this,arguments)}function Ta(){return Ta=(0,k.Z)(function*(I){const D=yield ul(I.firebaseDependencies);D&&(yield Wn(I.firebaseDependencies,D.token),yield function jc(I){return Hs.apply(this,arguments)}(I.firebaseDependencies));const M=yield I.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Ta.apply(this,arguments)}function fl(){return fl=(0,k.Z)(function*(I,D){try{const M=yield function Zs(I,D){return as.apply(this,arguments)}(I.firebaseDependencies,D),F=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield ss(I.firebaseDependencies,F),M}catch(M){throw yield function Ia(I){return Ta.apply(this,arguments)}(I),M}}),fl.apply(this,arguments)}function Xu(I,D){return pl.apply(this,arguments)}function pl(){return(pl=(0,k.Z)(function*(I,D){const F={token:yield dl(I,D),createTime:Date.now(),subscriptionOptions:D};return yield ss(I,F),F.token})).apply(this,arguments)}function Zc(){return(Zc=(0,k.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bg(D)})})).apply(this,arguments)}function uf(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function zc(I,D){if(!D.notification)return;I.notification={};const M=D.notification.title;M&&(I.notification.title=M);const F=D.notification.body;F&&(I.notification.body=F);const K=D.notification.image;K&&(I.notification.image=K);const te=D.notification.icon;te&&(I.notification.icon=te)}(D,I),function _e(I,D){D.data&&(I.data=D.data)}(D,I),function Xt(I,D){var M,F,K,te,Pe;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;I.fcmOptions={};const Xe=null!==(K=null===(F=D.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==K?K:null===(te=D.notification)||void 0===te?void 0:te.click_action;Xe&&(I.fcmOptions.link=Xe);const ct=null===(Pe=D.fcmOptions)||void 0===Pe?void 0:Pe.analytics_label;ct&&(I.fcmOptions.analyticsLabel=ct)}(D,I),D}function ed(I,D){const M=[];for(let F=0;F<I.length;F++)M.push(I.charAt(F)),F<D.length&&M.push(D.charAt(F));return M.join("")}function Da(I){return kn.create("missing-app-config-values",{valueName:I})}ed("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ed("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ml{constructor(D,M,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function vr(I){if(!I||!I.options)throw Da("App Configuration Object");if(!I.name)throw Da("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=I;for(const F of D)if(!M[F])throw Da(F);return{appName:I.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:K,installations:M,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Yr(I){return yl.apply(this,arguments)}function yl(){return(yl=(0,k.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Fc,{scope:ro}),I.swRegistration.update().catch(()=>{})}catch(D){throw kn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function td(){return(td=(0,k.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield Yr(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function vl(){return(vl=(0,k.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=Us)})).apply(this,arguments)}function Qr(){return Qr=(0,k.Z)(function*(I,D){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield function Gc(I,D){return vl.apply(this,arguments)}(I,D?.vapidKey),yield function _l(I,D){return td.apply(this,arguments)}(I,D?.serviceWorkerRegistration),function hl(I){return io.apply(this,arguments)}(I)}),Qr.apply(this,arguments)}function cs(){return(cs=(0,k.Z)(function*(I,D,M){const F=function qi(I){switch(I){case rs.NOTIFICATION_CLICKED:return"notification_open";case rs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:M[Lc],message_name:M[af],message_time:M[lf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xa(){return xa=(0,k.Z)(function*(I,D){const M=D.data;if(!M.isFirebaseMessaging)return;I.onMessageHandler&&M.messageType===rs.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(uf(M)):I.onMessageHandler.next(uf(M)));const F=M.data;(function qc(I){return"object"==typeof I&&!!I&&Lc in I})(F)&&"1"===F[vg]&&(yield function ko(I,D,M){return cs.apply(this,arguments)}(I,M.messageType,F))}),xa.apply(this,arguments)}const rd="@firebase/messaging",Kc=I=>{const D=new ml(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function nd(I,D){return xa.apply(this,arguments)}(D,M)),D},oo=I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:F=>function er(I,D){return Qr.apply(this,arguments)}(D,F)}};function Yc(){return od.apply(this,arguments)}function od(){return(od=(0,k.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function id(){(0,re._registerComponent)(new ne.wA("messaging",Kc,"PUBLIC")),(0,re._registerComponent)(new ne.wA("messaging-internal",oo,"PRIVATE")),(0,re.registerVersion)(rd,"0.12.2"),(0,re.registerVersion)(rd,"0.12.2","esm2017")}();const sd="analytics",jr="firebase_id",Gs="origin",Cn=6e4,us="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jc="https://www.googletagmanager.com/gtag/js",cr=new me.Yd("@firebase/analytics");function ff(I){return Promise.all(I.map(D=>D.catch(M=>M)))}function ds(){return(ds=(0,k.Z)(function*(I,D,M,F,K,te){const Pe=F[K];try{if(Pe)yield D[Pe];else{const ct=(yield ff(M)).find(ht=>ht.measurementId===K);ct&&(yield D[ct.appId])}}catch(Xe){cr.error(Xe)}I("config",K,te)})).apply(this,arguments)}function No(){return(No=(0,k.Z)(function*(I,D,M,F,K){try{let te=[];if(K&&K.send_to){let Pe=K.send_to;Array.isArray(Pe)||(Pe=[Pe]);const Xe=yield ff(M);for(const ct of Pe){const ht=Xe.find(Ot=>Ot.measurementId===ct),Lt=ht&&D[ht.appId];if(!Lt){te=[];break}te.push(Lt)}}0===te.length&&(te=Object.values(D)),yield Promise.all(te),I("event",F,K||{})}catch(te){cr.error(te)}})).apply(this,arguments)}const hi=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wl=30,ld=new class hs{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function pf(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Pa(){return(Pa=(0,k.Z)(function*(I){var D;const{appId:M,apiKey:F}=I,K={method:"GET",headers:pf(F)},te=us.replace("{app-id}",M),Pe=yield fetch(te,K);if(200!==Pe.status&&304!==Pe.status){let Xe="";try{const ct=yield Pe.json();null!==(D=ct.error)&&void 0!==D&&D.message&&(Xe=ct.error.message)}catch{}throw hi.create("config-fetch-failed",{httpStatus:Pe.status,responseMessage:Xe})}return Pe.json()})).apply(this,arguments)}function Oa(){return(Oa=(0,k.Z)(function*(I,D=ld,M){const{appId:F,apiKey:K,measurementId:te}=I.options;if(!F)throw hi.create("no-app-id");if(!K){if(te)return{measurementId:te,appId:F};throw hi.create("no-api-key")}const Pe=D.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new ka;return setTimeout((0,k.Z)(function*(){Xe.abort()}),void 0!==M?M:Cn),so({appId:F,apiKey:K,measurementId:te},Pe,Xe,D)})).apply(this,arguments)}function so(I,D,M){return ao.apply(this,arguments)}function ao(){return ao=(0,k.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:M},F,K=ld){var te;const{appId:Pe,measurementId:Xe}=I;try{yield function Ks(I,D){return new Promise((M,F)=>{const K=Math.max(D-Date.now(),0),te=setTimeout(M,K);I.addEventListener(()=>{clearTimeout(te),F(hi.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(F,D)}catch(ct){if(Xe)return cr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:Pe,measurementId:Xe};throw ct}try{const ct=yield function fs(I){return Pa.apply(this,arguments)}(I);return K.deleteThrottleMetadata(Pe),ct}catch(ct){const ht=ct;if(!function eu(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ht)){if(K.deleteThrottleMetadata(Pe),Xe)return cr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${ht?.message}]`),{appId:Pe,measurementId:Xe};throw ct}const Lt=503===Number(null===(te=ht?.customData)||void 0===te?void 0:te.httpStatus)?(0,ie.$s)(M,K.intervalMillis,wl):(0,ie.$s)(M,K.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+Lt,backoffCount:M+1};return K.setThrottleMetadata(Pe,Ot),cr.debug(`Calling attemptFetch again in ${Lt} millis`),so(I,Ot,F,K)}}),ao.apply(this,arguments)}class ka{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Cl,Lo;function Fo(){return(Fo=(0,k.Z)(function*(I,D,M,F,K){if(K&&K.global)I("event",M,F);else{const te=yield D;I("event",M,Object.assign(Object.assign({},F),{send_to:te}))}})).apply(this,arguments)}function tu(){return(tu=(0,k.Z)(function*(){if(!(0,ie.hl)())return cr.warn(hi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(I){return cr.warn(hi.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function Va(){return Va=(0,k.Z)(function*(I,D,M,F,K,te,Pe){var Xe;const ct=function Mn(I){return Oa.apply(this,arguments)}(I);ct.then(tr=>{M[tr.measurementId]=tr.appId,I.options.measurementId&&tr.measurementId!==I.options.measurementId&&cr.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${tr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(tr=>cr.error(tr)),D.push(ct);const ht=function Ua(){return tu.apply(this,arguments)}().then(tr=>{if(tr)return F.getId()}),[Lt,Ot]=yield Promise.all([ct,ht]);(function Ws(I){const D=window.document.getElementsByTagName("script");for(const M of Object.values(D))if(M.src&&M.src.includes(Jc)&&M.src.includes(I))return M;return null})(te)||function Eg(I,D){const M=document.createElement("script");M.src=`${Jc}?l=${I}&id=${D}`,M.async=!0,document.head.appendChild(M)}(te,Lt.measurementId),Lo&&(K("consent","default",Lo),function La(I){Lo=I}(void 0)),K("js",new Date);const ei=null!==(Xe=Pe?.config)&&void 0!==Xe?Xe:{};return ei[Gs]="firebase",ei.update=!0,null!=Ot&&(ei[jr]=Ot),K("config",Lt.measurementId,ei),Cl&&(K("set",Cl),function Tl(I){Cl=I}(void 0)),Lt.measurementId}),Va.apply(this,arguments)}class cd{constructor(D){this.app=D}_delete(){return delete Gi[this.app.options.appId],Promise.resolve()}}let Gi={},Dl=[];const gs={};let xl,lo,Wi="dataLayer",ud="gtag",Ti=!1;function Sl(I,D,M){!function dd(){const I=[];if((0,ie.ru)()&&I.push("This is a browser extension environment."),(0,ie.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((F,K)=>`(${K+1}) ${F}`).join(" "),M=hi.create("invalid-analytics-context",{errorInfo:D});cr.warn(M.message)}}();const F=I.options.appId;if(!F)throw hi.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw hi.create("no-api-key");cr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gi[F])throw hi.create("already-exists",{id:F});if(!Ti){!function Ig(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(Wi);const{wrappedGtag:te,gtagCore:Pe}=function Ma(I,D,M,F,K){let te=function(...Pe){window[F].push(arguments)};return window[K]&&"function"==typeof window[K]&&(te=window[K]),window[K]=function Aa(I,D,M,F){function te(){return te=(0,k.Z)(function*(Pe,Xe,ct){try{"event"===Pe?yield function Xc(I,D,M,F,K){return No.apply(this,arguments)}(I,D,M,Xe,ct):"config"===Pe?yield function Sa(I,D,M,F,K,te){return ds.apply(this,arguments)}(I,D,M,F,Xe,ct):"consent"===Pe?I("consent","update",ct):I("set",Xe)}catch(ht){cr.error(ht)}}),te.apply(this,arguments)}return function K(Pe,Xe,ct){return te.apply(this,arguments)}}(te,I,D,M),{gtagCore:te,wrappedGtag:window[K]}}(Gi,Dl,gs,Wi,ud);lo=te,xl=Pe,Ti=!0}return Gi[F]=function ps(I,D,M,F,K,te,Pe){return Va.apply(this,arguments)}(I,Dl,gs,D,xl,Wi,M),new cd(I)}function Al(){return co.apply(this,arguments)}function co(){return(co=(0,k.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const Jt="@firebase/analytics";!function Dg(){(0,re._registerComponent)(new ne.wA(sd,(D,{options:M})=>Sl(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,re._registerComponent)(new ne.wA("analytics-internal",function I(D){try{const M=D.getProvider(sd).getImmediate();return{logEvent:(F,K,te)=>function pd(I,D,M,F){I=(0,ie.m9)(I),function El(I,D,M,F,K){return Fo.apply(this,arguments)}(lo,Gi[I.app.options.appId],D,M,F).catch(K=>cr.error(K))}(M,F,K,te)}}catch(M){throw hi.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,re.registerVersion)(Jt,"0.9.2"),(0,re.registerVersion)(Jt,"0.9.2","esm2017")}();var Pl=N(4408),yf=N(7565);const _f=new class gd extends yf.v{}(class mf extends Pl.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(D,M,F):(D.flush(this),0)}});var vf=N(4986),ou=N(8505),En=N(9468),kl=N(5363);const Nl=new a.GfV("7.5.0"),su="__angularfire_symbol__analyticsIsSupportedValue",Jr="__angularfire_symbol__analyticsIsSupported",Ki="__angularfire_symbol__remoteConfigIsSupportedValue",Rl="__angularfire_symbol__remoteConfigIsSupported",ja="__angularfire_symbol__messagingIsSupportedValue",ea="__angularfire_symbol__messagingIsSupported";function Hr(I,D,M){if(D){if(1===D.length)return D[0];const te=D.filter(Pe=>Pe.app===M);if(1===te.length)return te[0]}return M.container.getProvider(I).getImmediate({optional:!0})}globalThis[Jr]||(globalThis[Jr]=Al().then(I=>globalThis[su]=I).catch(()=>globalThis[su]=!1)),globalThis[ea]||(globalThis[ea]=Yc().then(I=>globalThis[ja]=I).catch(()=>globalThis[ja]=!1)),globalThis[Rl]||(globalThis[Rl]=ba().then(I=>globalThis[Ki]=I).catch(()=>globalThis[Ki]=!1));const ta=(I,D)=>{const M=D?[D]:(0,J.C6)(),F=[];return M.forEach(K=>{K.container.getProvider(I).instances.forEach(Pe=>{F.includes(Pe)||F.push(Pe)})}),F};function Di(){}class Xr{constructor(D,M=_f){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,F){const K=this.zone;return this.delegate.schedule(function(Pe){K.runGuarded(()=>{D.apply(this,[Pe])})},M,F)}}class ms{constructor(D){this.zone=D,this.task=null}call(D,M){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Di,{},Di,Di)),M.pipe((0,ou.b)({next:F,complete:F,error:F})).subscribe(D).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Uo=(()=>{class I{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Xr(Zone.current)),this.insideAngular=M.run(()=>new Xr(Zone.current,vf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(M){return new(M||I)(a.LFG(a.R0b))},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Vo(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function fi(I){return Vo(),function Ul(I){return function(M){return(M=M.lift(new ms(I.ngZone))).pipe((0,En.R)(I.outsideAngular),(0,kl.Q)(I.insideAngular))}}(Vo())(I)}},2090:(yt,xe,N)=>{N.d(xe,{$s:()=>et,BH:()=>we,G6:()=>Zn,L:()=>fe,LL:()=>ue,Pz:()=>Ie,Sg:()=>Me,UG:()=>V,US:()=>ne,ZB:()=>H,ZR:()=>Y,aH:()=>Ue,b$:()=>Ze,eu:()=>ar,hl:()=>ji,jU:()=>ve,m9:()=>qt,ne:()=>fn,pd:()=>ai,r3:()=>Ir,ru:()=>Be,tV:()=>he,uI:()=>Ne,vZ:()=>Yt,w1:()=>Ye,xO:()=>Jo,xb:()=>hn,z$:()=>Fe,zI:()=>ma,zd:()=>Sn});const re=function(j){const U=[];let z=0;for(let ye=0;ye<j.length;ye++){let ee=j.charCodeAt(ye);ee<128?U[z++]=ee:ee<2048?(U[z++]=ee>>6|192,U[z++]=63&ee|128):55296==(64512&ee)&&ye+1<j.length&&56320==(64512&j.charCodeAt(ye+1))?(ee=65536+((1023&ee)<<10)+(1023&j.charCodeAt(++ye)),U[z++]=ee>>18|240,U[z++]=ee>>12&63|128,U[z++]=ee>>6&63|128,U[z++]=63&ee|128):(U[z++]=ee>>12|224,U[z++]=ee>>6&63|128,U[z++]=63&ee|128)}return U},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,U){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let ee=0;ee<j.length;ee+=3){const Qe=j[ee],Ke=ee+1<j.length,rn=Ke?j[ee+1]:0,yr=ee+2<j.length,bn=yr?j[ee+2]:0;let Ln=(15&rn)<<2|bn>>6,_a=63&bn;yr||(_a=64,Ke||(Ln=64)),ye.push(z[Qe>>2],z[(3&Qe)<<4|rn>>4],z[Ln],z[_a])}return ye.join("")},encodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(j):this.encodeByteArray(re(j),U)},decodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(j):function(j){const U=[];let z=0,ye=0;for(;z<j.length;){const ee=j[z++];if(ee<128)U[ye++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Qe=j[z++];U[ye++]=String.fromCharCode((31&ee)<<6|63&Qe)}else if(ee>239&&ee<365){const yr=((7&ee)<<18|(63&j[z++])<<12|(63&j[z++])<<6|63&j[z++])-65536;U[ye++]=String.fromCharCode(55296+(yr>>10)),U[ye++]=String.fromCharCode(56320+(1023&yr))}else{const Qe=j[z++],Ke=j[z++];U[ye++]=String.fromCharCode((15&ee)<<12|(63&Qe)<<6|63&Ke)}}return U.join("")}(this.decodeStringToByteArray(j,U))},decodeStringToByteArray(j,U){this.init_();const z=U?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let ee=0;ee<j.length;){const Qe=z[j.charAt(ee++)],rn=ee<j.length?z[j.charAt(ee)]:0;++ee;const bn=ee<j.length?z[j.charAt(ee)]:64;++ee;const kt=ee<j.length?z[j.charAt(ee)]:64;if(++ee,null==Qe||null==rn||null==bn||null==kt)throw Error();ye.push(Qe<<2|rn>>4),64!==bn&&(ye.push(rn<<4&240|bn>>2),64!==kt&&ye.push(bn<<6&192|kt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},fe=function(j){return function(j){const U=re(j);return ne.encodeByteArray(U,!0)}(j).replace(/\./g,"")},he=function(j){try{return ne.decodeString(j,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function H(j,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return U}for(const z in U)!U.hasOwnProperty(z)||!W(z)||(j[z]=H(j[z],U[z]));return j}function W(j){return"__proto__"!==j}const ge=()=>{try{return function je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=j&&he(j[1]);return U&&JSON.parse(U)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},Ue=()=>{var j;return null===(j=ge())||void 0===j?void 0:j.config},Ie=j=>{var U;return null===(U=ge())||void 0===U?void 0:U[`_${j}`]};class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,z)=>{this.resolve=U,this.reject=z})}wrapCallback(U){return(z,ye)=>{z?this.reject(z):this.resolve(ye),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(z):U(z,ye))}}}function Me(j,U){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=U||"demo-project",ee=j.iat||0,Qe=j.sub||j.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ke=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:ee,exp:ee+3600,auth_time:ee,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},j);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Ke)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function V(){var j;const U=null===(j=ge())||void 0===j?void 0:j.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ve(){return"object"==typeof self&&self.self===self}function Be(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){const j=Fe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Zn(){return!V()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ji(){try{return"object"==typeof indexedDB}catch{return!1}}function ar(){return new Promise((j,U)=>{try{let z=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(ye);ee.onsuccess=()=>{ee.result.close(),z||self.indexedDB.deleteDatabase(ye),j(!0)},ee.onupgradeneeded=()=>{z=!1},ee.onerror=()=>{var Qe;U((null===(Qe=ee.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(z){U(z)}})}function ma(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Y extends Error{constructor(U,z,ye){super(z),this.code=U,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,Y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ue.prototype.create)}}class ue{constructor(U,z,ye){this.service=U,this.serviceName=z,this.errors=ye}create(U,...z){const ye=z[0]||{},ee=`${this.service}/${U}`,Qe=this.errors[U],Ke=Qe?function pe(j,U){return j.replace(ke,(z,ye)=>{const ee=U[ye];return null!=ee?String(ee):`<${ye}?>`})}(Qe,ye):"Error";return new Y(ee,`${this.serviceName}: ${Ke} (${ee}).`,ye)}}const ke=/\{\$([^}]+)}/g;function Ir(j,U){return Object.prototype.hasOwnProperty.call(j,U)}function hn(j){for(const U in j)if(Object.prototype.hasOwnProperty.call(j,U))return!1;return!0}function Yt(j,U){if(j===U)return!0;const z=Object.keys(j),ye=Object.keys(U);for(const ee of z){if(!ye.includes(ee))return!1;const Qe=j[ee],Ke=U[ee];if(tt(Qe)&&tt(Ke)){if(!Yt(Qe,Ke))return!1}else if(Qe!==Ke)return!1}for(const ee of ye)if(!z.includes(ee))return!1;return!0}function tt(j){return null!==j&&"object"==typeof j}function Jo(j){const U=[];for(const[z,ye]of Object.entries(j))Array.isArray(ye)?ye.forEach(ee=>{U.push(encodeURIComponent(z)+"="+encodeURIComponent(ee))}):U.push(encodeURIComponent(z)+"="+encodeURIComponent(ye));return U.length?"&"+U.join("&"):""}function Sn(j){const U={};return j.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[ee,Qe]=ye.split("=");U[decodeURIComponent(ee)]=decodeURIComponent(Qe)}}),U}function ai(j){const U=j.indexOf("?");if(!U)return"";const z=j.indexOf("#",U);return j.substring(U,z>0?z:void 0)}function fn(j,U){const z=new _n(j,U);return z.subscribe.bind(z)}class _n{constructor(U,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{U(this)}).catch(ye=>{this.error(ye)})}next(U){this.forEachObserver(z=>{z.next(U)})}error(U){this.forEachObserver(z=>{z.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,z,ye){let ee;if(void 0===U&&void 0===z&&void 0===ye)throw new Error("Missing Observer.");ee=function It(j,U){if("object"!=typeof j||null===j)return!1;for(const z of U)if(z in j&&"function"==typeof j[z])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:z,complete:ye},void 0===ee.next&&(ee.next=Lr),void 0===ee.error&&(ee.error=Lr),void 0===ee.complete&&(ee.complete=Lr);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Qe}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,U)}sendOne(U,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{z(this.observers[U])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lr(){}const $i=1e3,un=2,rt=144e5,Ee=.5;function et(j,U=$i,z=un){const ye=U*Math.pow(z,j),ee=Math.round(Ee*ye*(Math.random()-.5)*2);return Math.min(rt,ye+ee)}function qt(j){return j&&j._delegate?j._delegate:j}},7034:(yt,xe,N)=>{var a=N(4650);let J=null;function k(){return J}class ie{}const ne=new a.OlP("DocumentToken");let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function fe(){return(0,a.LFG)($)}()},providedIn:"platform"}),n})();const he=new a.OlP("Location Initialized");let $=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){H()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){H()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function W(){return new $((0,a.LFG)(ne))}()},providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let at=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Se)},providedIn:"root"}),n})();const ge=new a.OlP("appBaseHref");let Se=(()=>{class n extends at{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+He(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const u=this.prepareExternalUrl(i+He(l));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,l){const u=this.prepareExternalUrl(i+He(l));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(me),a.LFG(ge,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),De=(()=>{class n extends at{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=je(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let u=this.prepareExternalUrl(i+He(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,l){let u=this.prepareExternalUrl(i+He(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(me),a.LFG(ge,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Fe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Te(Me(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+He(r))}normalize(t){return n.stripTrailingSlash(function we(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Me(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=He,n.joinWithSlash=je,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(a.LFG(at))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ie(){return new Ue((0,a.LFG)(at))}()},providedIn:"root"}),n})();function Me(n){return n.replace(/\/index.html$/,"")}function es(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}const ui=/\s+/,Je=[];let Rt=(()=>{class n{constructor(t,r,i,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=l,this.initialClasses=Je,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ui):Je}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ui):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ui).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Gn{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Gn(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===l?void 0:l);else if(null!==l){const p=r.get(l);r.move(p,u),An(p,i)}});for(let i=0,l=r.length;i<l;i++){const p=r.get(i).context;p.index=i,p.count=l,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{An(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function An(n,e){n.context.$implicit=e.item}let Ar=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){kc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){kc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Bt{constructor(){this.$implicit=null,this.ngIf=null}}function kc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class di{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Yu{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Ls=new Yu,ns=new di;let _r=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,a.QGY)(t))return Ls;if((0,a.F4k)(t))return ns;throw function Zi(n,e){return new a.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Uc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Br="server";function ll(n){return n===Br}let Bs=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new ul((0,a.LFG)(ne),window)}),n})();class ul{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ss(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const u=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=js(this.window.history)||js(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function js(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class jc{}class No extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Aa extends No{static makeCurrent(){!function re(n){J||(J=n)}(new Aa)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ws(){return Ma=Ma||document.querySelector("base"),Ma?Ma.getAttribute("href"):null}();return null==t?null:function hi(n){Ro=Ro||document.createElement("a"),Ro.setAttribute("href",n);const e=Ro.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return es(document.cookie,e)}}let Ro,Ma=null;const wl=new a.OlP("TRANSITION_ID"),hs=[{provide:a.ip1,useFactory:function ad(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[wl,ne,a.zs3],multi:!0}];let pf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const fs=new a.OlP("EventManagerPlugins");let Pa=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const u=i[l];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fs),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Mn{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Oa=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let l=i.get(t)??0;return l+=r,l>0?i.set(t,l):i.delete(t),l}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),so=(()=>{class n extends Oa{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(l=>l.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const l=this.styleRef.get(r);l?l.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const ao={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ks=/%COMP%/g,Ys=new a.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ra(n,e){return e.flat(100).map(t=>t.replace(Ks,n))}function Il(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let br=(()=>{class n{constructor(t,r,i,l){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=l,this.rendererByCompId=new Map,this.defaultRenderer=new Fa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof tu?i.applyToHost(t):i instanceof Ua&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let l=i.get(r.id);if(!l){const u=this.eventManager,p=this.sharedStylesHost,y=this.removeStylesOnCompDestory;switch(r.encapsulation){case a.ifc.Emulated:l=new tu(u,p,r,this.appId,y);break;case a.ifc.ShadowDom:return new Tl(u,p,t,r);default:l=new Ua(u,p,r,y)}l.onDestroy=()=>i.delete(r.id),i.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pa),a.LFG(so),a.LFG(a.AFp),a.LFG(Ys))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Fa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ao[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(La(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(La(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=ao[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ao[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,i&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Il(r)):this.eventManager.addEventListener(e,t,Il(r))}}function La(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Tl extends Fa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ra(i.id,i.styles);for(const u of l){const p=document.createElement("style");p.textContent=u,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ua extends Fa{constructor(e,t,r,i,l=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Ra(l,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class tu extends Ua{constructor(e,t,r,i,l){const u=i+"-"+r.id;super(e,t,r,l,u),this.contentAttr=function Qs(n){return"_ngcontent-%COMP%".replace(Ks,n)}(u),this.hostAttr=function Na(n){return"_nghost-%COMP%".replace(Ks,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let ps=(()=>{class n extends Mn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Va=["alt","control","meta","shift"],cd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Dl=(()=>{class n extends Mn{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),u=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,l.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let u="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),u="code."),Va.forEach(C=>{const T=r.indexOf(C);T>-1&&(r.splice(T,1),u+=C+".")}),u+=l,0!=r.length||0===l.length)return null;const y={};return y.domEventName=i,y.fullKey=u,y}static matchEventFullKeyCode(t,r){let i=cd[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Va.forEach(u=>{u!==i&&(0,Gi[u])(t)&&(l+=u+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const hd=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function Ti(){Aa.makeCurrent()},multi:!0},{provide:ne,useFactory:function dd(){return(0,a.RDi)(document),document},deps:[]}]),nu=new a.OlP(""),Al=[{provide:a.rWj,useClass:class ld{addToWindow(e){a.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const i=a.dqk.getAllAngularTestabilities();let l=i.length,u=!1;const p=function(y){u=u||y,l--,0==l&&r(u)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],co=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Tg(){return new a.qLn},deps:[]},{provide:fs,useClass:ps,multi:!0,deps:[ne,a.R0b,a.Lbi]},{provide:fs,useClass:Dl,multi:!0,deps:[ne]},{provide:br,useClass:br,deps:[Pa,so,a.AFp,Ys]},{provide:a.FYo,useExisting:br},{provide:Oa,useExisting:so},{provide:so,useClass:so,deps:[ne]},{provide:Pa,useClass:Pa,deps:[fs,a.R0b]},{provide:jc,useClass:pf,deps:[]},[]];let Xs=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:wl,useExisting:a.AFp},hs]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(nu,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...co,...Al],imports:[Uc,a.hGG]}),n})(),pd=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ba(){return new pd((0,a.LFG)(ne))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;class ta{}class Di{}const Xr="*";function ms(n,e){return{type:7,name:n,definitions:e,options:{}}}function Uo(n,e=null){return{type:4,styles:e,timings:n}}function Ll(n,e=null){return{type:2,steps:n,options:e}}function Nn(n){return{type:6,styles:n,offset:null}}function au(n,e,t){return{type:0,name:n,styles:e,options:t}}function fi(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function M(n){Promise.resolve().then(n)}class F{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){M(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class K{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?M(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==l&&this._onFinish()}),u.onDestroy(()=>{++r==l&&this._onDestroy()}),u.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((u,p)=>Math.max(u,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const te="!";function Xe(n){return new a.vHH(3e3,!1)}function i_(){return typeof window<"u"&&typeof window.document<"u"}function Tf(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ra(n){switch(n.length){case 0:return new F;case 1:return n[0];default:return new K(n)}}function Df(n,e,t,r,i=new Map,l=new Map){const u=[],p=[];let y=-1,C=null;if(r.forEach(T=>{const A=T.get("offset"),L=A==y,B=L&&C||new Map;T.forEach((Z,se)=>{let Ce=se,$e=Z;if("offset"!==se)switch(Ce=e.normalizePropertyName(Ce,u),$e){case te:$e=i.get(se);break;case Xr:$e=l.get(se);break;default:$e=e.normalizeStyleValue(se,Ce,$e,u)}B.set(Ce,$e)}),L||p.push(B),C=B,y=A}),u.length)throw function Cf(n){return new a.vHH(3502,!1)}();return p}function $a(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&xf(t,"start",n)));break;case"done":n.onDone(()=>r(t&&xf(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&xf(t,"destroy",n)))}}function xf(n,e,t){const l=uu(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(l._data=u),l}function uu(n,e,t,r,i="",l=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!u}}function Si(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function yd(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Sf=(n,e)=>!1,_d=(n,e,t)=>[],ti=null;function Bl(n){const e=n.parentNode||n.host;return e===ti?null:e}(Tf()||typeof Element<"u")&&(i_()?(ti=(()=>document.documentElement)(),Sf=(n,e)=>{for(;e;){if(e===n)return!0;e=Bl(e)}return!1}):Sf=(n,e)=>n.contains(e),_d=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Vn=null,jl=!1;const Mf=Sf,s_=_d;let Ug=(()=>{class n{validateStyleProperty(t){return function Fg(n){Vn||(Vn=function Lg(){return typeof document<"u"?document.body:null}()||{},jl=!!Vn.style&&"WebkitAppearance"in Vn.style);let e=!0;return Vn.style&&!function Af(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Vn.style,!e&&jl&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Vn.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Mf(t,r)}getParentElement(t){return Bl(t)}query(t,r,i){return s_(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,u,p=[],y){return new F(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),vd=(()=>{class n{}return n.NOOP=new Ug,n})();const Pf=1e3,hu="ng-enter",bd="ng-leave",jo="ng-trigger",wd=".ng-trigger",Bg="ng-animating",za=".ng-animating";function ho(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Cd(parseFloat(e[1]),e[2])}function Cd(n,e){return"s"===e?n*Pf:n}function _s(n,e,t){return n.hasOwnProperty("duration")?n:function Of(n,e,t){let i,l=0,u="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(Xe()),{duration:0,delay:0,easing:""};i=Cd(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(l=Cd(parseFloat(y),p[4]));const C=p[5];C&&(u=C)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function ct(){return new a.vHH(3100,!1)}()),p=!0),l<0&&(e.push(function ht(){return new a.vHH(3101,!1)}()),p=!0),p&&e.splice(y,0,Xe())}return{duration:i,delay:l,easing:u}}(n,e,t)}function Hl(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function kf(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ia(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Ed(n,e,t){return t?e+":"+t+";":""}function Id(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Ed(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Ed(0,Ga(t),n.style[t]));n.setAttribute("style",e)}function Ho(n,e,t){n.style&&(e.forEach((r,i)=>{const l=Sd(i);t&&!t.has(i)&&t.set(i,n.style[l]),n.style[l]=r}),Tf()&&Id(n))}function qa(n,e){n.style&&(e.forEach((t,r)=>{const i=Sd(r);n.style[i]=""}),Tf()&&Id(n))}function vs(n){return Array.isArray(n)?1==n.length?n[0]:Ll(n):n}const Td=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dd(n){let e=[];if("string"==typeof n){let t;for(;t=Td.exec(n);)e.push(t[1]);Td.lastIndex=0}return e}function $l(n,e,t){const r=n.toString(),i=r.replace(Td,(l,u)=>{let p=e[u];return null==p&&(t.push(function Ot(n){return new a.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function xd(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Hg=/-+([a-z0-9])/g;function Sd(n){return n.replace(Hg,(...e)=>e[1].toUpperCase())}function Ga(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ei(n){return new a.vHH(3004,!1)}()}}function a_(n,e){return window.getComputedStyle(n)[e]}const Ka="*";function zl(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function qg(n,e,t){if(":"==n[0]){const y=function ni(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function n_(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Pg(n){return new a.vHH(3015,!1)}()),e;const i=r[1],l=r[2],u=r[3];e.push(ql(i,u));"<"==l[0]&&!(i==Ka&&u==Ka)&&e.push(ql(u,i))}(r,t,e)):t.push(n),t}const $o=new Set(["true","1"]),Ya=new Set(["false","0"]);function ql(n,e){const t=$o.has(n)||Ya.has(n),r=$o.has(e)||Ya.has(e);return(i,l)=>{let u=n==Ka||n==i,p=e==Ka||e==l;return!u&&t&&"boolean"==typeof i&&(u=i?$o.has(n):Ya.has(n)),!p&&r&&"boolean"==typeof l&&(p=l?$o.has(e):Ya.has(e)),u&&p}}const kd=new RegExp("s*:selfs*,?","g");function Ff(n,e,t,r){return new l_(n).build(e,t,r)}class l_{constructor(e){this._driver=e}build(e,t,r){const i=new Nd(t);return this._resetContextStyleTimingState(i),pi(this,vs(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function Ha(){return new a.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,C=y.name;C.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,l.push(this.visitState(y,t))}),y.name=C}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,u.push(y)}else t.errors.push(function cu(){return new a.vHH(3007,!1)}())}),{type:7,name:e.name,states:l,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,u=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(y=>{Dd(y).forEach(C=>{u.hasOwnProperty(C)||l.add(C)})})}),l.size&&(xd(l.values()),t.errors.push(function na(n,e){return new a.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=pi(this,vs(e.animation),t);return{type:1,matchers:zl(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:oa(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>pi(this,r,t)),options:oa(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(u=>{t.currentTime=r;const p=pi(this,u,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:l,options:oa(e.options)}}visitAnimate(e,t){const r=function Gl(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return $r(_s(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=$r(0,0,"");return l.dynamic=!0,l.strValue=t,l}const i=_s(t,e);return $r(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:Nn({});if(5==l.type)i=this.visitKeyframes(l,t);else{let u=e.styles,p=!1;if(!u){p=!0;const C={};r.easing&&(C.easing=r.easing),u=Nn(C)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(u,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===Xr?r.push(p):t.errors.push(new a.vHH(3002,!1)):r.push(kf(p));let l=!1,u=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(u=p.get("easing"),p.delete("easing")),!l))for(let y of p.values())if(y.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((p,y)=>{const C=t.collectedStyles.get(t.currentQuerySelector),T=C.get(y);let A=!0;T&&(l!=i&&l>=T.startTime&&i<=T.endTime&&(t.errors.push(function ys(n,e,t,r,i){return new a.vHH(3010,!1)}()),A=!1),l=T.startTime),A&&C.set(y,{startTime:l,endTime:i}),t.options&&function Nf(n,e,t){const r=e.params||{},i=Dd(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function Lt(n){return new a.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function xg(){return new a.vHH(3011,!1)}()),r;let l=0;const u=[];let p=!1,y=!1,C=0;const T=e.steps.map($e=>{const dt=this._makeStyleAst($e,t);let ft=null!=dt.offset?dt.offset:function Vf(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(dt.styles),st=0;return null!=ft&&(l++,st=dt.offset=ft),y=y||st<0||st>1,p=p||st<C,C=st,u.push(st),dt});y&&t.errors.push(function t_(){return new a.vHH(3012,!1)}()),p&&t.errors.push(function Sg(){return new a.vHH(3200,!1)}());const A=e.steps.length;let L=0;l>0&&l<A?t.errors.push(function Ag(){return new a.vHH(3202,!1)}()):0==l&&(L=1/(A-1));const B=A-1,Z=t.currentTime,se=t.currentAnimateTimings,Ce=se.duration;return T.forEach(($e,dt)=>{const ft=L>0?dt==B?1:L*dt:u[dt],st=ft*Ce;t.currentTime=Z+se.delay+st,se.duration=st,this._validateStyleAst($e,t),$e.offset=ft,r.styles.push($e)}),r}visitReference(e,t){return{type:8,animation:pi(this,vs(e.animation),t),options:oa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:oa(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:oa(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,u]=function bs(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(kd,"")),n=n.replace(/@\*/g,wd).replace(/@\w+/g,t=>wd+"-"+t.slice(1)).replace(/:animating/g,za),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Si(t.collectedStyles,t.currentQuerySelector,new Map);const p=pi(this,vs(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:p,originalSelector:e.selector,options:oa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Mg(){return new a.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:_s(e.timings,t.errors,!0);return{type:12,animation:pi(this,vs(e.animation),t),timings:r,options:null}}}class Nd{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function oa(n){return n?(n=Hl(n)).params&&(n.params=function Uf(n){return n?Hl(n):null}(n.params)):n={},n}function $r(n,e,t){return{duration:n,delay:e,easing:t}}function Rd(n,e,t,r,i,l,u=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:u,subTimeline:p}}class Wl{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Kl=new RegExp(":enter","g"),Fd=new RegExp(":leave","g");function Ld(n,e,t,r,i,l=new Map,u=new Map,p,y,C=[]){return(new Ud).buildKeyframes(n,e,t,r,i,l,u,p,y,C)}class Ud{buildKeyframes(e,t,r,i,l,u,p,y,C,T=[]){C=C||new Wl;const A=new Vd(e,t,C,i,l,T,[]);A.options=y;const L=y.delay?ho(y.delay):0;A.currentTimeline.delayNextStep(L),A.currentTimeline.setStyles([u],null,A.errors,y),pi(this,r,A);const B=A.timelines.filter(Z=>Z.containsAnimation());if(B.length&&p.size){let Z;for(let se=B.length-1;se>=0;se--){const Ce=B[se];if(Ce.element===t){Z=Ce;break}}Z&&!Z.allowOnlyTimelineStyles()&&Z.setStyles([p],null,A.errors,y)}return B.length?B.map(Z=>Z.buildKeyframes()):[Rd(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);l!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const l=i?.delay;if(l){const u="number"==typeof l?l:ho($l(l,i?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const u=null!=r.duration?ho(r.duration):null,p=null!=r.delay?ho(r.delay):null;return 0!==u&&e.forEach(y=>{const C=t.appendInstructionToTimeline(y,u,p);l=Math.max(l,C.duration+C.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),pi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=gu);const u=ho(l.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>pi(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?ho(e.options.delay):0;e.steps.forEach(u=>{const p=t.createSubContext(e.options);l&&p.delayNextStep(l),pi(this,u,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return _s(t.params?$l(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*l),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?ho(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=gu);let u=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((C,T)=>{t.currentQueryIndex=T;const A=t.createSubContext(e.options,C);l&&A.delayNextStep(l),C===t.element&&(y=A.currentTimeline),pi(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,u=Math.abs(l.duration),p=u*(t.currentQueryTotal-1);let y=u*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const A=T.currentTime;pi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const gu={};class Vd{constructor(e,t,r,i,l,u,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=u,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Bd(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ho(r.duration)),null!=r.delay&&(i.delay=ho(r.delay));const l=r.params;if(l){let u=i.params;u||(u=this.options.params={}),Object.keys(l).forEach(p=>{(!t||!u.hasOwnProperty(p))&&(u[p]=$l(l[p],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new Vd(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=gu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},l=new c_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,u){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(Kl,"."+this._enterClassName)).replace(Fd,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),p.push(...C)}return!l&&0==p.length&&u.push(function Pb(n){return new a.vHH(3014,!1)}()),p}}class Bd{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Bd(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Xr),this._currentKeyframe.set(t,Xr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const l=i&&i.params||{},u=function f(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let l of r)t.set(l,Xr)}else ia(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,y]of u){const C=$l(y,l,r);this._pendingStyles.set(p,C),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Xr),this._updateStyle(p,C)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const C=ia(p,new Map,this._backFill);C.forEach((T,A)=>{T===te?e.add(A):T===Xr&&t.add(A)}),r||C.set("offset",y/this.duration),i.push(C)});const l=e.size?xd(e.values()):[],u=t.size?xd(t.values()):[];if(r){const p=i[0],y=new Map(p);p.set("offset",0),y.set("offset",1),i=[p,y]}return Rd(this.element,i,l,u,this.duration,this.startTime,this.easing,!1)}}class c_ extends Bd{constructor(e,t,r,i,l,u,p=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],u=r+t,p=t/u,y=ia(e[0]);y.set("offset",0),l.push(y);const C=ia(e[0]);C.set("offset",v(p)),l.push(C);const T=e.length-1;for(let A=1;A<=T;A++){let L=ia(e[A]);const B=L.get("offset");L.set("offset",v((t+B*r)/u)),l.push(L)}r=u,t=0,i="",e=l}return Rd(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function v(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class b{}const O=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class G extends b{normalizePropertyName(e,t){return Sd(e)}normalizeStyleValue(e,t,r,i){let l="";const u=r.toString().trim();if(O.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function tr(n,e){return new a.vHH(3005,!1)}())}return u+l}}function ce(n,e,t,r,i,l,u,p,y,C,T,A,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:u,timelines:p,queriedElements:y,preStyleProps:C,postStyleProps:T,totalTime:A,errors:L}}const Ve={};class lt{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function ot(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,l,u,p,y,C,T){const A=[],L=this.ast.options&&this.ast.options.params||Ve,Z=this.buildStyles(r,p&&p.params||Ve,A),se=y&&y.params||Ve,Ce=this.buildStyles(i,se,A),$e=new Set,dt=new Map,ft=new Map,st="void"===i,Ct={params:on(se,L),delay:this.ast.options?.delay},Nt=T?[]:Ld(e,t,this.ast.animation,l,u,Z,Ce,Ct,C,A);let dn=0;if(Nt.forEach(qu=>{dn=Math.max(qu.duration+qu.delay,dn)}),A.length)return ce(t,this._triggerName,r,i,st,Z,Ce,[],[],dt,ft,dn,A);Nt.forEach(qu=>{const Gu=qu.element,sN=Si(dt,Gu,new Set);qu.preStyleProps.forEach(yg=>sN.add(yg));const Ab=Si(ft,Gu,new Set);qu.postStyleProps.forEach(yg=>Ab.add(yg)),Gu!==t&&$e.add(Gu)});const So=xd($e.values());return ce(t,this._triggerName,r,i,st,Z,Ce,Nt,So,dt,ft,dn)}}function on(n,e){const t=Hl(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Ai{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Hl(this.defaultParams);return Object.keys(e).forEach(l=>{const u=e[l];null!==u&&(i[l]=u)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,p)=>{u&&(u=$l(u,i,t));const y=this.normalizer.normalizePropertyName(p,t);u=this.normalizer.normalizeStyleValue(p,y,u,t),r.set(p,u)})}),r}}class Ql{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Ai(i.style,i.options&&i.options.params||{},r))}),fo(this.states,"true","1"),fo(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new lt(e,i,this.states))}),this.fallbackTransition=function mu(n,e,t){return new lt(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function fo(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Jl=new Wl;class jd{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],l=Ff(this._driver,t,r,i);if(r.length)throw function Nb(n){return new a.vHH(3503,!1)}();this._animations.set(e,l)}_buildPlayer(e,t,r){const i=e.element,l=Df(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations.get(e);let u;const p=new Map;if(l?(u=Ld(this._driver,t,l,hu,bd,new Map,new Map,r,Jl,i),u.forEach(T=>{const A=Si(p,T.element,new Map);T.postStyleProps.forEach(L=>A.set(L,null))})):(i.push(function Rb(){return new a.vHH(3300,!1)}()),u=[]),i.length)throw function Fb(n){return new a.vHH(3504,!1)}();p.forEach((T,A)=>{T.forEach((L,B)=>{T.set(B,this._driver.computeStyle(A,B,Xr))})});const C=ra(u.map(T=>{const A=p.get(T.element);return this._buildPlayer(T,new Map,A)}));return this._playersById.set(e,C),C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Lb(n){return new a.vHH(3301,!1)}();return t}listen(e,t,r,i){const l=uu(t,"","","");return $a(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Hd="ng-animate-queued",$d="ng-animate-disabled",Hf=[],JI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},po="__ng_removed";class d_{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function f_(n){return n??null}(r?e.value:e),r){const l=Hl(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const $f="void",h_=new d_($f);class XI{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,go(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Ub(n,e){return new a.vHH(3302,!1)}();if(null==r||0==r.length)throw function Ef(n){return new a.vHH(3303,!1)}();if(!function wr(n){return"start"==n||"done"==n}(r))throw function Og(n,e){return new a.vHH(3400,!1)}();const l=Si(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};l.push(u);const p=Si(this._engine.statesByElement,e,new Map);return p.has(t)||(go(e,jo),go(e,jo+"-"+t),p.set(t,h_)),()=>{this._engine.afterFlush(()=>{const y=l.indexOf(u);y>=0&&l.splice(y,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function If(n){return new a.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),u=new Zd(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(go(e,jo),go(e,jo+"-"+t),this._engine.statesByElement.set(e,p=new Map));let y=p.get(t);const C=new d_(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&C.absorbOptions(y.options),p.set(t,C),y||(y=h_),C.value!==$f&&y.value===C.value){if(!function Zb(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(y.params,C.params)){const se=[],Ce=l.matchStyles(y.value,y.params,se),$e=l.matchStyles(C.value,C.params,se);se.length?this._engine.reportError(se):this._engine.afterFlush(()=>{qa(e,Ce),Ho(e,$e)})}return}const L=Si(this._engine.playersByElement,e,[]);L.forEach(se=>{se.namespaceId==this.id&&se.triggerName==t&&se.queued&&se.destroy()});let B=l.matchTransition(y.value,C.value,e,C.params),Z=!1;if(!B){if(!i)return;B=l.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:y,toState:C,player:u,isFallbackTransition:Z}),Z||(go(e,Hd),u.onStart(()=>{zd(e,Hd)})),u.onDone(()=>{let se=this.players.indexOf(u);se>=0&&this.players.splice(se,1);const Ce=this._engine.playersByElement.get(e);if(Ce){let $e=Ce.indexOf(u);$e>=0&&Ce.splice($e,1)}}),this.players.push(u),L.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,wd,!0);r.forEach(i=>{if(i[po])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),u=new Map;if(l){const p=[];if(l.forEach((y,C)=>{if(u.set(C,y.value),this._triggers.has(C)){const T=this.trigger(e,C,$f,i);T&&p.push(T)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&ra(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const u=l.name;if(i.has(u))return;i.add(u);const y=this._triggers.get(u).fallbackTransition,C=r.get(u)||h_,T=new d_($f),A=new Zd(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:y,fromState:C,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[po];(!l||l===JI)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){go(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,u=this._elementListeners.get(l);u&&u.forEach(p=>{if(p.name==r.triggerName){const y=uu(l,r.triggerName,r.fromState.value,r.toState.value);y._data=e,$a(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==l||0==u?l-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Bb{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new XI(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const C=r.indexOf(y);r.splice(C+1,0,e),u=!0;break}p=this.driver.getParentElement(p)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const l=this._fetchNamespace(i.namespaceId);l&&t.add(l)}return t}trigger(e,t,r,i){if(Gg(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Gg(t))return;const l=t[po];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),go(e,$d)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),zd(e,$d))}removeNode(e,t,r,i){if(Gg(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[po]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return Gg(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,wd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,za,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ra(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[po];if(t&&t.setForRemoval){if(e[po]=JI,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains($d)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)go(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ra(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function kg(n){return new a.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Wl,i=[],l=new Map,u=[],p=new Map,y=new Map,C=new Map,T=new Set;this.disabledNodes.forEach(vt=>{T.add(vt);const Mt=this.driver.query(vt,".ng-animate-queued",!0);for(let Ft=0;Ft<Mt.length;Ft++)T.add(Mt[Ft])});const A=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=Wg(L,this.collectedEnterElements),Z=new Map;let se=0;B.forEach((vt,Mt)=>{const Ft=hu+se++;Z.set(Mt,Ft),vt.forEach(gn=>go(gn,Ft))});const Ce=[],$e=new Set,dt=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const Mt=this.collectedLeaveElements[vt],Ft=Mt[po];Ft&&Ft.setForRemoval&&(Ce.push(Mt),$e.add(Mt),Ft.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(gn=>$e.add(gn)):dt.add(Mt))}const ft=new Map,st=Wg(L,Array.from($e));st.forEach((vt,Mt)=>{const Ft=bd+se++;ft.set(Mt,Ft),vt.forEach(gn=>go(gn,Ft))}),e.push(()=>{B.forEach((vt,Mt)=>{const Ft=Z.get(Mt);vt.forEach(gn=>zd(gn,Ft))}),st.forEach((vt,Mt)=>{const Ft=ft.get(Mt);vt.forEach(gn=>zd(gn,Ft))}),Ce.forEach(vt=>{this.processLeaveNode(vt)})});const Ct=[],Nt=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(t).forEach(Ft=>{const gn=Ft.player,bi=Ft.element;if(Ct.push(gn),this.collectedEnterElements.length){const Xi=bi[po];if(Xi&&Xi.setForMove){if(Xi.previousTriggersValues&&Xi.previousTriggersValues.has(Ft.triggerName)){const _g=Xi.previousTriggersValues.get(Ft.triggerName),ga=this.statesByElement.get(Ft.element);if(ga&&ga.has(Ft.triggerName)){const QI=ga.get(Ft.triggerName);QI.value=_g,ga.set(Ft.triggerName,QI)}}return void gn.destroy()}}const Mc=!A||!this.driver.containsElement(A,bi),ks=ft.get(bi),tf=Z.get(bi),gr=this._buildInstruction(Ft,r,tf,ks,Mc);if(gr.errors&&gr.errors.length)return void Nt.push(gr);if(Mc)return gn.onStart(()=>qa(bi,gr.fromStyles)),gn.onDestroy(()=>Ho(bi,gr.toStyles)),void i.push(gn);if(Ft.isFallbackTransition)return gn.onStart(()=>qa(bi,gr.fromStyles)),gn.onDestroy(()=>Ho(bi,gr.toStyles)),void i.push(gn);const cN=[];gr.timelines.forEach(Xi=>{Xi.stretchStartingKeyframe=!0,this.disabledNodes.has(Xi.element)||cN.push(Xi)}),gr.timelines=cN,r.append(bi,gr.timelines),u.push({instruction:gr,player:gn,element:bi}),gr.queriedElements.forEach(Xi=>Si(p,Xi,[]).push(gn)),gr.preStyleProps.forEach((Xi,_g)=>{if(Xi.size){let ga=y.get(_g);ga||y.set(_g,ga=new Set),Xi.forEach((QI,bA)=>ga.add(bA))}}),gr.postStyleProps.forEach((Xi,_g)=>{let ga=C.get(_g);ga||C.set(_g,ga=new Set),Xi.forEach((QI,bA)=>ga.add(bA))})});if(Nt.length){const vt=[];Nt.forEach(Mt=>{vt.push(function Ng(n,e){return new a.vHH(3505,!1)}())}),Ct.forEach(Mt=>Mt.destroy()),this.reportError(vt)}const dn=new Map,So=new Map;u.forEach(vt=>{const Mt=vt.element;r.has(Mt)&&(So.set(Mt,Mt),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,dn))}),i.forEach(vt=>{const Mt=vt.element;this._getPreviousPlayers(Mt,!1,vt.namespaceId,vt.triggerName,null).forEach(gn=>{Si(dn,Mt,[]).push(gn),gn.destroy()})});const qu=Ce.filter(vt=>rT(vt,y,C)),Gu=new Map;Hb(Gu,this.driver,dt,C,Xr).forEach(vt=>{rT(vt,y,C)&&qu.push(vt)});const Ab=new Map;B.forEach((vt,Mt)=>{Hb(Ab,this.driver,new Set(vt),y,te)}),qu.forEach(vt=>{const Mt=Gu.get(vt),Ft=Ab.get(vt);Gu.set(vt,new Map([...Array.from(Mt?.entries()??[]),...Array.from(Ft?.entries()??[])]))});const yg=[],aN=[],lN={};u.forEach(vt=>{const{element:Mt,player:Ft,instruction:gn}=vt;if(r.has(Mt)){if(T.has(Mt))return Ft.onDestroy(()=>Ho(Mt,gn.toStyles)),Ft.disabled=!0,Ft.overrideTotalTime(gn.totalTime),void i.push(Ft);let bi=lN;if(So.size>1){let ks=Mt;const tf=[];for(;ks=ks.parentNode;){const gr=So.get(ks);if(gr){bi=gr;break}tf.push(ks)}tf.forEach(gr=>So.set(gr,bi))}const Mc=this._buildAnimation(Ft.namespaceId,gn,dn,l,Ab,Gu);if(Ft.setRealPlayer(Mc),bi===lN)yg.push(Ft);else{const ks=this.playersByElement.get(bi);ks&&ks.length&&(Ft.parentPlayer=ra(ks)),i.push(Ft)}}else qa(Mt,gn.fromStyles),Ft.onDestroy(()=>Ho(Mt,gn.toStyles)),aN.push(Ft),T.has(Mt)&&i.push(Ft)}),aN.forEach(vt=>{const Mt=l.get(vt.element);if(Mt&&Mt.length){const Ft=ra(Mt);vt.setRealPlayer(Ft)}}),i.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<Ce.length;vt++){const Mt=Ce[vt],Ft=Mt[po];if(zd(Mt,bd),Ft&&Ft.hasAnimation)continue;let gn=[];if(p.size){let Mc=p.get(Mt);Mc&&Mc.length&&gn.push(...Mc);let ks=this.driver.query(Mt,za,!0);for(let tf=0;tf<ks.length;tf++){let gr=p.get(ks[tf]);gr&&gr.length&&gn.push(...gr)}}const bi=gn.filter(Mc=>!Mc.destroyed);bi.length?tT(this,Mt,bi):this.processLeaveNode(Mt)}return Ce.length=0,yg.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const Mt=this.players.indexOf(vt);this.players.splice(Mt,1)}),vt.play()}),yg}elementContainsData(e,t){let r=!1;const i=t[po];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let u=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(u=p)}else{const p=this.playersByElement.get(e);if(p){const y=!l||l==$f;p.forEach(C=>{C.queued||!y&&C.triggerName!=i||u.push(C)})}}return(r||i)&&(u=u.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),u}_beforeAnimationBuild(e,t,r){const l=t.element,u=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const C=y.element,T=C!==l,A=Si(r,C,[]);this._getPreviousPlayers(C,T,u,p,t.toState).forEach(B=>{const Z=B.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),B.destroy(),A.push(B)})}qa(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,u){const p=t.triggerName,y=t.element,C=[],T=new Set,A=new Set,L=t.timelines.map(Z=>{const se=Z.element;T.add(se);const Ce=se[po];if(Ce&&Ce.removedBeforeQueried)return new F(Z.duration,Z.delay);const $e=se!==y,dt=function nT(n){const e=[];return $b(n,e),e}((r.get(se)||Hf).map(dn=>dn.getRealPlayer())).filter(dn=>!!dn.element&&dn.element===se),ft=l.get(se),st=u.get(se),Ct=Df(0,this._normalizer,0,Z.keyframes,ft,st),Nt=this._buildPlayer(Z,Ct,dt);if(Z.subTimeline&&i&&A.add(se),$e){const dn=new Zd(e,p,se);dn.setRealPlayer(Nt),C.push(dn)}return Nt});C.forEach(Z=>{Si(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function eT(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Z.element,Z))}),T.forEach(Z=>go(Z,Bg));const B=ra(L);return B.onDestroy(()=>{T.forEach(Z=>zd(Z,Bg)),Ho(y,t.toStyles)}),A.forEach(Z=>{Si(i,Z,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new F(e.duration,e.delay)}}class Zd{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new F,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>$a(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Si(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Gg(n){return n&&1===n.nodeType}function jb(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Hb(n,e,t,r,i){const l=[];t.forEach(y=>l.push(jb(y)));const u=[];r.forEach((y,C)=>{const T=new Map;y.forEach(A=>{const L=e.computeStyle(C,A,i);T.set(A,L),(!L||0==L.length)&&(C[po]=wA,u.push(C))}),n.set(C,T)});let p=0;return t.forEach(y=>jb(y,l[p++])),u}function Wg(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const r=1,i=new Set(e),l=new Map;function u(p){if(!p)return r;let y=l.get(p);if(y)return y;const C=p.parentNode;return y=t.has(C)?C:i.has(C)?r:u(C),l.set(p,y),y}return e.forEach(p=>{const y=u(p);y!==r&&t.get(y).push(p)}),t}function go(n,e){n.classList?.add(e)}function zd(n,e){n.classList?.remove(e)}function tT(n,e,t){ra(t).onDone(()=>n.processLeaveNode(e))}function $b(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof K?$b(r.players,e):e.push(r)}}function rT(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class p_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new Bb(e,t,r),this._timelineEngine=new jd(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const u=e+"-"+i;let p=this._triggerCache[u];if(!p){const y=[],C=[],T=Ff(this._driver,l,y,C);if(y.length)throw function kb(n,e){return new a.vHH(3404,!1)}();p=function Yl(n,e,t){return new Ql(n,e,t)}(i,T,this._normalizer),this._triggerCache[u]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,u]=yd(r);this._timelineEngine.command(l,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[u,p]=yd(r);return this._timelineEngine.listen(u,t,p,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let g_=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Ho(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ho(this._element,this._initialStyles),this._endStyles&&(Ho(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(qa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qa(this._element,this._endStyles),this._endStyles=null),Ho(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Kg(n){let e=null;return n.forEach((t,r)=>{(function zb(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class m_{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:a_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class iT{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Mf(e,t)}getParentElement(e){return Bl(e)}query(e,t,r){return s_(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,u=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(y.easing=l);const C=new Map,T=u.filter(B=>B instanceof m_);(function Zl(n,e){return 0===n||0===e})(r,i)&&T.forEach(B=>{B.currentSnapshot.forEach((Z,se)=>C.set(se,Z))});let A=function fu(n){return n.length?n[0]instanceof Map?n:n.map(e=>kf(e)):[]}(t).map(B=>ia(B));A=function $g(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((l,u)=>{r.has(u)||i.push(u),r.set(u,l)}),i.length)for(let l=1;l<e.length;l++){let u=e[l];i.forEach(p=>u.set(p,a_(n,p)))}}return e}(e,A,C);const L=function Zf(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Kg(e[0]),e.length>1&&(r=Kg(e[e.length-1]))):e instanceof Map&&(t=Kg(e)),t||r?new g_(n,t,r):null}(e,A);return new m_(e,A,y,L)}}let oT=(()=>{class n extends ta{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Ll(t):t;return Yg(this._renderer,null,r,"register",[i]),new qb(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(ne))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class qb extends Di{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Gb(this._id,e,t||{},this._renderer)}}class Gb{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Yg(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Yg(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Qg="@.disabled";let sT=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,u)=>{const p=u?.parentNode(l);p&&u.removeChild(p,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(l);return T||(T=new Jg("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,T)),T}const u=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(u,p,t,T.name,T)};return r.data.animation.forEach(y),new Wb(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[u,p]=l;u(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(p_),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Jg{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?l=>t.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Qg?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Wb extends Jg{constructor(e,t,r,i,l){super(t,r,i,l),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Qg?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Kb(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.slice(1),u="";return"@"!=l.charAt(0)&&([l,u]=function _u(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,u,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let aT=(()=>{class n extends p_{constructor(t,r,i,l){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ne),a.LFG(vd),a.LFG(b),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Yb=[{provide:ta,useClass:oT},{provide:b,useFactory:function __(){return new G}},{provide:p_,useClass:aT},{provide:a.FYo,useFactory:function Xg(n,e,t){return new sT(n,e,t)},deps:[br,p_,a.R0b]}],zf=[{provide:vd,useFactory:()=>new iT},{provide:a.QbO,useValue:"BrowserAnimations"},...Yb],qf=[{provide:vd,useClass:Ug},{provide:a.QbO,useValue:"NoopAnimations"},...Yb];let vu=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?qf:zf}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:zf,imports:[Xs]}),n})();var Rn=N(8996),Cs=N(9751);const{isArray:qd}=Array,{getPrototypeOf:cT,prototype:uT,keys:dT}=Object;function em(n){if(1===n.length){const e=n[0];if(qd(e))return{args:e,keys:null};if(function hT(n){return n&&"object"==typeof n&&cT(n)===uT}(e)){const t=dT(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Gf=N(8421),Gd=N(7669),ri=N(5403),Dt=N(4004);const{isArray:fT}=Array;function Jb(n){return(0,Dt.U)(e=>function Wf(n,e){return fT(e)?n(...e):n(e)}(n,e))}function bu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Xb=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Xl=(()=>{class n extends Xb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const sa=new a.OlP("NgValueAccessor"),tw={provide:sa,useExisting:(0,a.Gpc)(()=>ec),multi:!0},v_=new a.OlP("CompositionEventMode");let ec=(()=>{class n extends Xb{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nw(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(v_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[a._Bn([tw]),a.qOj]}),n})();const gT=!1;function aa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Wd(n){return null!=n&&"number"==typeof n.length}const gi=new a.OlP("NgValidators"),tc=new a.OlP("NgAsyncValidators"),mT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class la{static min(e){return function b_(n){return e=>{if(aa(e.value)||aa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function rw(n){return e=>{if(aa(e.value)||aa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function iw(n){return aa(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function wu(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function ca(n){return aa(n.value)||mT.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ow(n){return e=>aa(e.value)||!Wd(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return sw(e)}static pattern(e){return yT(e)}static nullValidator(e){return null}static compose(e){return aw(e)}static composeAsync(e){return Zo(e)}}function sw(n){return e=>Wd(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function yT(n){if(!n)return w_;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(aa(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function w_(n){return null}function C_(n){return null!=n}function _T(n){const e=(0,a.QGY)(n)?(0,Rn.D)(n):n;if(gT&&!(0,a.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new a.vHH(-1101,t)}return e}function E_(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function I_(n,e){return e.map(t=>t(n))}function T_(n){return n.map(e=>function vT(n){return!n.validate}(e)?e:t=>e.validate(t))}function aw(n){if(!n)return null;const e=n.filter(C_);return 0==e.length?null:function(t){return E_(I_(t,e))}}function D_(n){return null!=n?aw(T_(n)):null}function Zo(n){if(!n)return null;const e=n.filter(C_);return 0==e.length?null:function(t){return function Kf(...n){const e=(0,Gd.jO)(n),{args:t,keys:r}=em(n),i=new Cs.y(l=>{const{length:u}=t;if(!u)return void l.complete();const p=new Array(u);let y=u,C=u;for(let T=0;T<u;T++){let A=!1;(0,Gf.Xf)(t[T]).subscribe((0,ri.x)(l,L=>{A||(A=!0,C--),p[T]=L},()=>y--,void 0,()=>{(!y||!A)&&(C||l.next(r?bu(r,p):p),l.complete())}))}});return e?i.pipe(Jb(e)):i}(I_(t,e).map(_T)).pipe((0,Dt.U)(E_))}}function x_(n){return null!=n?Zo(T_(n)):null}function S_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function lw(n){return n._rawValidators}function cw(n){return n._rawAsyncValidators}function A_(n){return n?Array.isArray(n)?n:[n]:[]}function tm(n,e){return Array.isArray(n)?n.includes(e):n===e}function M_(n,e){const t=A_(e);return A_(n).forEach(i=>{tm(t,i)||t.push(i)}),t}function uw(n,e){return A_(e).filter(t=>!tm(n,t))}class dw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=D_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=x_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Mi extends dw{get formDirective(){return null}get path(){return null}}class At extends dw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class P_{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let nm=(()=>{class n extends P_{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(At,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]}),n})(),rm=(()=>{class n extends P_{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Mi,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]}),n})();function DT(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const sm=!1,am="VALID",lm="INVALID",Es="PENDING",Yf="DISABLED";function cm(n){return(dm(n)?n.validators:n)||null}function k_(n,e){return(dm(e)?e.asyncValidators:n)||null}function dm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function mw(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new a.vHH(1e3,sm?function IA(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new a.vHH(1001,sm?function TA(n,e){return`Cannot find form control ${DT(n,e)}`}(e,t):"")}function yw(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new a.vHH(1002,sm?function xT(n,e){return`Must supply a value for form control ${DT(n,e)}`}(e,i):"")})}class hm{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===am}get invalid(){return this.status===lm}get pending(){return this.status==Es}get disabled(){return this.status===Yf}get enabled(){return this.status!==Yf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(M_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(M_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uw(e,this._rawAsyncValidators))}hasValidator(e){return tm(this._rawValidators,e)}hasAsyncValidator(e){return tm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Es,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Yf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=am,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===am||this.status===Es)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yf:am}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Es,this._hasOwnPendingAsyncValidator=!0;const t=_T(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Yf:this.errors?lm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Es)?Es:this._anyControlsHaveStatus(lm)?lm:am}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function um(n){return Array.isArray(n)?D_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function gw(n){return Array.isArray(n)?x_(n):n||null}(this._rawAsyncValidators)}}class Qf extends hm{constructor(e,t,r){super(cm(t),k_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){yw(this,!0,e),Object.keys(e).forEach(r=>{mw(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class N_ extends Qf{}const nc=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>R_}),R_="always";function Jf(n,e,t=R_){L_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function MT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ep(n,e)})}(n,e),function Qd(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function PT(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ep(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function _w(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function F_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Xf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qa(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function L_(n,e){const t=lw(n);null!==e.validator?n.setValidators(S_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=cw(n);null!==e.asyncValidator?n.setAsyncValidators(S_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Qa(e._rawValidators,i),Qa(e._rawAsyncValidators,i)}function Xf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=lw(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(u=>u!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=cw(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(u=>u!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Qa(e._rawValidators,r),Qa(e._rawAsyncValidators,r),t}function ep(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ew(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Iw(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ii=class extends hm{constructor(e=null,t,r){super(cm(t),k_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Iw(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ew(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ew(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Iw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let vm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Is=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const H_=new a.OlP("NgModelWithFormControlWarning"),$_={provide:Mi,useExisting:(0,a.Gpc)(()=>Xd)};let Xd=(()=>{class n extends Mi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Jf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){F_(t.control||null,t,!1),function OT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function mm(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(F_(r||null,t),(n=>n instanceof ii)(i)&&(Jf(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function fm(n,e){L_(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function tp(n,e){return Xf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){L_(this.form,this),this._oldForm&&Xf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(gi,10),a.Y36(tc,10),a.Y36(nc,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([$_]),a.qOj,a.TTD]}),n})();const Z_={provide:At,useExisting:(0,a.Gpc)(()=>wm)};let wm=(()=>{class n extends At{set isDisabled(t){}constructor(t,r,i,l,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function U_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===ec?t=l:function Cw(n){return Object.getPrototypeOf(n.constructor)===Xl}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){this._added||this._setUpControl(),function np(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Yd(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(Mi,13),a.Y36(gi,10),a.Y36(tc,10),a.Y36(sa,10),a.Y36(H_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Z_]),a.qOj,a.TTD]}),n})();let Cu=(()=>{class n{constructor(){this._validator=w_}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):w_,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const KT={provide:gi,useExisting:(0,a.Gpc)(()=>Eu),multi:!0};let Eu=(()=>{class n extends Cu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function W_(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>sw(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[a._Bn([KT]),a.qOj]}),n})();const YT={provide:gi,useExisting:(0,a.Gpc)(()=>op),multi:!0};let op=(()=>{class n extends Cu{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>yT(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[a._Bn([YT]),a.qOj]}),n})(),QT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Is]}),n})();class Vw extends hm{constructor(e,t,r){super(cm(t),k_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){yw(this,!1,e),e.forEach((r,i)=>{mw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Bw(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let jw=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let l={};return Bw(r)?l=r:null!==r&&(l.validators=r.validator,l.asyncValidators=r.asyncValidator),new Qf(i,l)}record(t,r=null){const i=this._reduceControls(t);return new N_(i,r)}control(t,r,i){let l={};return this.useNonNullable?(Bw(r)?l=r:(l.validators=r,l.asyncValidators=i),new ii(t,{...l,nonNullable:!0})):new ii(t,r,i)}array(t,r,i){const l=t.map(u=>this._createControl(u));return new Vw(l,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof ii||t instanceof hm?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:H_,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:nc,useValue:t.callSetDisabledState??R_}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[QT]}),n})();function _t(...n){const e=(0,Gd.yG)(n);return(0,Rn.D)(n,e)}var Pi=N(5577),zo=N(576);function qo(n,e){return(0,zo.m)(e)?(0,Pi.z)(n,e,1):(0,Pi.z)(n,1)}var yn=N(4482);function Or(n,e){return(0,yn.e)((t,r)=>{let i=0;t.subscribe((0,ri.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}class Iu{}class Yi{}class Ts{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(u):this.headers.set(l,[u])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(l=>l.toString()),i.length>0){const l=t.toLowerCase();this.headers.set(l,i),this.maybeSetNormalizedName(t,l)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ts?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ts;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ts?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let u=this.headers.get(t);if(!u)return;u=u.filter(p=>-1===l.indexOf(p)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class nh{encodeKey(e){return Tu(e)}encodeValue(e){return Tu(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ih=/%(\d[a-f0-9])/gi,oh={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Tu(n){return encodeURIComponent(n).replace(ih,(e,t)=>oh[t]??e)}function Xa(n){return`${n}`}class mo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new nh,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rh(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[u,p]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],y=t.get(u)||[];y.push(p),t.set(u,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Xa):[Xa(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new mo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Xa(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Xa(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Hw{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Q_(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function J_(n){return typeof Blob<"u"&&n instanceof Blob}function X_(n){return typeof FormData<"u"&&n instanceof FormData}class sh{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function $w(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Ts),this.context||(this.context=new Hw),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+u}}else this.params=new mo,this.urlWithParams=t}serializeBody(){return null===this.body?null:Q_(this.body)||J_(this.body)||X_(this.body)||function Zw(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof mo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X_(this.body)?null:J_(this.body)?this.body.type||null:Q_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,C=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((A,L)=>A.set(L,e.setHeaders[L]),y)),e.setParams&&(C=Object.keys(e.setParams).reduce((A,L)=>A.set(L,e.setParams[L]),C)),new sh(t,r,l,{params:C,headers:y,context:T,reportProgress:p,responseType:i,withCredentials:u})}}var ur=(()=>((ur=ur||{})[ur.Sent=0]="Sent",ur[ur.UploadProgress=1]="UploadProgress",ur[ur.ResponseHeader=2]="ResponseHeader",ur[ur.DownloadProgress=3]="DownloadProgress",ur[ur.Response=4]="Response",ur[ur.User=5]="User",ur))();class Dm{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ts,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ev extends Dm{constructor(e={}){super(e),this.type=ur.ResponseHeader}clone(e={}){return new ev({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xm extends Dm{constructor(e={}){super(e),this.type=ur.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new xm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class tv extends Dm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function nv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let rv=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof sh)l=t;else{let y,C;y=i.headers instanceof Ts?i.headers:new Ts(i.headers),i.params&&(C=i.params instanceof mo?i.params:new mo({fromObject:i.params})),l=new sh(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:C,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=_t(l).pipe(qo(y=>this.handler.handle(y)));if(t instanceof sh||"events"===i.observe)return u;const p=u.pipe(Or(y=>y instanceof xm));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return p.pipe((0,Dt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return p.pipe((0,Dt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return p.pipe((0,Dt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return p.pipe((0,Dt.U)(y=>y.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new mo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,nv(i,r))}post(t,r,i={}){return this.request("POST",t,nv(i,r))}put(t,r,i={}){return this.request("PUT",t,nv(i,r))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Iu))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Sm(n,e){return e(n)}function iv(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Am=new a.OlP("HTTP_INTERCEPTORS"),rc=new a.OlP("HTTP_INTERCEPTOR_FNS");function ov(){let n=null;return(e,t)=>(null===n&&(n=((0,a.f3M)(Am,{optional:!0})??[]).reduceRight(iv,Sm)),n(e,t))}let zw=(()=>{class n extends Iu{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(rc)));this.chain=r.reduceRight((i,l)=>function nD(n,e,t){return(r,i)=>t.runInContext(()=>e(r,l=>n(l,i)))}(i,l,this.injector),Sm)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Yi),a.LFG(a.lqb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ww=/^\)\]\}',?\n/;let uv=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Cs.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((B,Z)=>i.setRequestHeader(B,Z.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&i.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();i.responseType="json"!==B?B:"text"}const l=t.serializeBody();let u=null;const p=()=>{if(null!==u)return u;const B=i.statusText||"OK",Z=new Ts(i.getAllResponseHeaders()),se=function Kw(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new ev({headers:Z,status:i.status,statusText:B,url:se}),u},y=()=>{let{headers:B,status:Z,statusText:se,url:Ce}=p(),$e=null;204!==Z&&($e=typeof i.response>"u"?i.responseText:i.response),0===Z&&(Z=$e?200:0);let dt=Z>=200&&Z<300;if("json"===t.responseType&&"string"==typeof $e){const ft=$e;$e=$e.replace(Ww,"");try{$e=""!==$e?JSON.parse($e):null}catch(st){$e=ft,dt&&(dt=!1,$e={error:st,text:$e})}}dt?(r.next(new xm({body:$e,headers:B,status:Z,statusText:se,url:Ce||void 0})),r.complete()):r.error(new tv({error:$e,headers:B,status:Z,statusText:se,url:Ce||void 0}))},C=B=>{const{url:Z}=p(),se=new tv({error:B,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Z||void 0});r.error(se)};let T=!1;const A=B=>{T||(r.next(p()),T=!0);let Z={type:ur.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(Z.total=B.total),"text"===t.responseType&&i.responseText&&(Z.partialText=i.responseText),r.next(Z)},L=B=>{let Z={type:ur.UploadProgress,loaded:B.loaded};B.lengthComputable&&(Z.total=B.total),r.next(Z)};return i.addEventListener("load",y),i.addEventListener("error",C),i.addEventListener("timeout",C),i.addEventListener("abort",C),t.reportProgress&&(i.addEventListener("progress",A),null!==l&&i.upload&&i.upload.addEventListener("progress",L)),i.send(l),r.next({type:ur.Sent}),()=>{i.removeEventListener("error",C),i.removeEventListener("abort",C),i.removeEventListener("load",y),i.removeEventListener("timeout",C),t.reportProgress&&(i.removeEventListener("progress",A),null!==l&&i.upload&&i.upload.removeEventListener("progress",L)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(jc))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const dv=new a.OlP("XSRF_ENABLED"),Yw=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Mm=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class hv{}let Jw=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=es(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ne),a.LFG(a.Lbi),a.LFG(Yw))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Xw(n,e){const t=n.url.toLowerCase();if(!(0,a.f3M)(dv)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,a.f3M)(hv).getToken(),i=(0,a.f3M)(Mm);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var nr=(()=>((nr=nr||{})[nr.Interceptors=0]="Interceptors",nr[nr.LegacyInterceptors=1]="LegacyInterceptors",nr[nr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",nr[nr.NoXsrfProtection=3]="NoXsrfProtection",nr[nr.JsonpSupport=4]="JsonpSupport",nr[nr.RequestsMadeViaParent=5]="RequestsMadeViaParent",nr))();function Du(n,e){return{\u0275kind:n,\u0275providers:e}}function eC(...n){const e=[rv,uv,zw,{provide:Iu,useExisting:zw},{provide:Yi,useExisting:uv},{provide:rc,useValue:Xw,multi:!0},{provide:dv,useValue:!0},{provide:hv,useClass:Jw}];for(const t of n)e.push(...t.\u0275providers);return(0,a.MR2)(e)}const lp=new a.OlP("LEGACY_INTERCEPTOR_FN");let dD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[eC(Du(nr.LegacyInterceptors,[{provide:lp,useFactory:ov},{provide:rc,useExisting:lp,multi:!0}]))]}),n})();var ua=N(2011),hD=N(4986),oi=N(2122),lh=N(8189);function dr(...n){return function fD(){return(0,lh.J)(1)}()((0,Rn.D)(n,(0,Gd.yG)(n)))}function cp(...n){const e=(0,Gd.yG)(n);return(0,yn.e)((t,r)=>{(e?dr(n,t,e):dr(n,t)).subscribe(r)})}function fv(){return(0,yn.e)((n,e)=>{let t,r=!1;n.subscribe((0,ri.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function ch(n,e){return(0,yn.e)(function pD(n,e,t,r,i){return(l,u)=>{let p=t,y=e,C=0;l.subscribe((0,ri.x)(u,T=>{const A=C++;y=p?n(y,T,A):(p=!0,T),r&&u.next(y)},i&&(()=>{p&&u.next(y),u.complete()})))}}(n,e,arguments.length>=2,!0))}var up=N(4671);function oC(n,e){return n===e}N(4383);var it,gD=N(3942),ae=N(5861),oc=N(9681),Pm=N(4859),el=N(1877),pn=N(2090),pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ds={},gv=gv||{},jt=pv||self;function yo(){}function Qi(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Oi(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Om="closure_uid_"+(1e9*Math.random()>>>0),mD=0;function yD(n,e,t){return n.call.apply(n.bind,arguments)}function _D(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function mi(n,e,t){return(mi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yD:_D).apply(null,arguments)}function uh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,l){for(var u=Array(arguments.length-2),p=2;p<arguments.length;p++)u[p-2]=arguments[p];return e.prototype[i].apply(r,u)}}function sc(){this.s=this.s,this.o=this.o}sc.prototype.s=!1,sc.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function sC(n){Object.prototype.hasOwnProperty.call(n,Om)&&n[Om]||(n[Om]=++mD)}(this)},sc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function mv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function yv(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Qi(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let u=0;u<l;u++)n[i+u]=r[u]}else n.push(r)}}function si(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}si.prototype.h=function(){this.defaultPrevented=!0};var km=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",yo,e),jt.removeEventListener("test",yo,e)}catch{}return n}();function Nm(n){return/^[\s\xa0]*$/.test(n)}var _v=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Rm(n,e){return n<e?-1:n>e?1:0}function dh(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function _o(n){return-1!=dh().indexOf(n)}function Fm(n){return Fm[" "](n),n}Fm[" "]=yo;var Um,n,uC=_o("Opera"),xu=_o("Trident")||_o("MSIE"),vv=_o("Edge"),Lm=vv||xu,bv=_o("Gecko")&&!(-1!=dh().toLowerCase().indexOf("webkit")&&!_o("Edge"))&&!(_o("Trident")||_o("MSIE"))&&!_o("Edge"),dC=-1!=dh().toLowerCase().indexOf("webkit")&&!_o("Edge");function hC(){var n=jt.document;return n?n.documentMode:void 0}e:{var wv="",Cv=(n=dh(),bv?/rv:([^\);]+)(\)|;)/.exec(n):vv?/Edge\/([\d\.]+)/.exec(n):xu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):dC?/WebKit\/(\S+)/.exec(n):uC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Cv&&(wv=Cv?Cv[1]:""),xu){var Ev=hC();if(null!=Ev&&Ev>parseFloat(wv)){Um=String(Ev);break e}}Um=wv}var vD={};var wD=jt.document&&xu&&(hC()||parseInt(Um,10))||void 0;function hp(n,e){if(si.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(bv){e:{try{Fm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:CD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hp.X.h.call(this)}}hr(hp,si);var CD={2:"touch",3:"pen",4:"mouse"};hp.prototype.h=function(){hp.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var fp="closure_listenable_"+(1e6*Math.random()|0),ED=0;function ID(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++ED,this.ba=this.ea=!1}function Vm(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Tv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function pC(n){const e={};for(const t in n)e[t]=n[t];return e}const Dv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xv(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<Dv.length;l++)t=Dv[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function pp(n){this.src=n,this.g={},this.h=0}function Bm(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=lC(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(Vm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function jm(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return i}return-1}pp.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var u=jm(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new ID(e,this.src,l,!!r,i)).ea=t,n.push(e)),e};var Hm="closure_lm_"+(1e6*Math.random()|0),$m={};function Sv(n,e,t,r,i){if(r&&r.once)return Mv(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Sv(n,e[l],t,r,i);return null}return t=_C(t),n&&n[fp]?n.N(e,t,Oi(r)?!!r.capture:!!r,i):Av(n,e,t,!1,r,i)}function Av(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var u=Oi(i)?!!i.capture:!!i,p=yC(n);if(p||(n[Hm]=p=new pp(n)),(t=p.add(e,t,r,u,l)).proxy)return t;if(r=function gC(){const e=hh;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)km||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(mC(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Mv(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Mv(n,e[l],t,r,i);return null}return t=_C(t),n&&n[fp]?n.O(e,t,Oi(r)?!!r.capture:!!r,i):Av(n,e,t,!0,r,i)}function ac(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)ac(n,e[l],t,r,i);else r=Oi(r)?!!r.capture:!!r,t=_C(t),n&&n[fp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=jm(l=n.g[e],t,r,i))&&(Vm(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=yC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=jm(e,t,r,i)),(t=-1<n?e[n]:null)&&Pv(t))}function Pv(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[fp])Bm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(mC(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=yC(e))?(Bm(t,n),0==t.h&&(t.src=null,e[Hm]=null)):Vm(n)}}}function mC(n){return n in $m?$m[n]:$m[n]="on"+n}function hh(n,e){if(n.ba)n=!0;else{e=new hp(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Pv(n),n=t.call(r,e)}return n}function yC(n){return(n=n[Hm])instanceof pp?n:null}var gp="__closure_events_fn_"+(1e9*Math.random()>>>0);function _C(n){return"function"==typeof n?n:(n[gp]||(n[gp]=function(e){return n.handleEvent(e)}),n[gp])}function kr(){sc.call(this),this.i=new pp(this),this.P=this,this.I=null}function Zr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new si(e,n);else if(e instanceof si)e.target=e.target||n;else{var i=e;xv(e=new si(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var u=e.g=t[l];i=Ov(u,r,!0,e)&&i}if(i=Ov(u=e.g=n,r,!0,e)&&i,i=Ov(u,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Ov(u=e.g=t[l],r,!1,e)&&i}function Ov(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var u=e[l];if(u&&!u.ba&&u.capture==t){var p=u.listener,y=u.ha||u.src;u.ea&&Bm(n.i,u),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}hr(kr,sc),kr.prototype[fp]=!0,kr.prototype.removeEventListener=function(n,e,t,r){ac(this,n,e,t,r)},kr.prototype.M=function(){if(kr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Vm(t[r]);delete n.g[e],n.h--}}this.I=null},kr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},kr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Et=jt.JSON.stringify;function TD(){var n=kv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ph,vC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new fh,n=>n.reset());class fh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function xD(n){jt.setTimeout(()=>{throw n},0)}function mp(n,e){ph||function rr(){var n=jt.Promise.resolve(void 0);ph=function(){n.then(wC)}}(),bC||(ph(),bC=!0),kv.add(n,e)}var bC=!1,kv=new class DD{constructor(){this.h=this.g=null}add(e,t){const r=vC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function wC(){for(var n;n=TD();){try{n.h.call(n.g)}catch(t){xD(t)}var e=vC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}bC=!1}function Zm(n,e){kr.call(this),this.h=n||1,this.g=e||jt,this.j=mi(this.lb,this),this.l=Date.now()}function zm(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function qm(n,e,t){if("function"==typeof n)t&&(n=mi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=mi(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function Nv(n){n.g=qm(()=>{n.g=null,n.i&&(n.i=!1,Nv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hr(Zm,kr),(it=Zm.prototype).ca=!1,it.R=null,it.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Zr(this,"tick"),this.ca&&(zm(this),this.start()))}},it.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){Zm.X.M.call(this),zm(this),delete this.g};class CC extends sc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Nv(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yp(n){sc.call(this),this.h=n,this.g={}}hr(yp,sc);var EC=[];function IC(n,e,t,r){Array.isArray(t)||(t&&(EC[0]=t.toString()),t=EC);for(var i=0;i<t.length;i++){var l=Sv(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function gh(n){Tv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Pv(e)},n),n.g={}}function Gm(){this.g=!0}function tl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function DC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<i.length;u++)i[u]=""}}}return Et(t)}catch{return e}}(n,t)+(r?" "+r:"")})}yp.prototype.M=function(){yp.X.M.call(this),gh(this)},yp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gm.prototype.Aa=function(){this.g=!1},Gm.prototype.info=function(){};var lc={},xC=null;function cc(){return xC=xC||new kr}function mh(n){si.call(this,lc.Pa,n)}function _p(n){const e=cc();Zr(e,new mh(e))}function SC(n,e){si.call(this,lc.STAT_EVENT,n),this.stat=e}function ki(n){const e=cc();Zr(e,new SC(e,n))}function Rv(n,e){si.call(this,lc.Qa,n),this.size=e}function yh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}lc.Pa="serverreachability",hr(mh,si),lc.STAT_EVENT="statevent",hr(SC,si),lc.Qa="timingevent",hr(Rv,si);var vp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},AC={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Wm(){}function PC(){}Wm.prototype.h=null;var NC,Km={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function OC(){si.call(this,"d")}function kC(){si.call(this,"c")}function bp(){}function uc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new yp(this),this.O=MD,this.T=new Zm(n=Lm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new RC}function RC(){this.i=null,this.g="",this.h=!1}hr(OC,si),hr(kC,si),hr(bp,Wm),bp.prototype.g=function(){return new XMLHttpRequest},bp.prototype.i=function(){return{}},NC=new bp;var MD=45e3,Ym={},dc={};function Fv(n,e,t){n.K=1,n.v=Xm(Ss(e)),n.s=t,n.P=!0,FC(n,null)}function FC(n,e){n.F=Date.now(),wp(n),n.A=Ss(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Hv(t.i,"t",r),n.C=0,t=n.l.H,n.h=new RC,n.g=a0(n.l,t?e:null,!n.s),0<n.N&&(n.L=new CC(mi(n.La,n,n.g),n.N)),IC(n.S,n.g,"readystatechange",n.ib),e=n.H?pC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),_p(),function SD(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var u="",p=l.split("&"),y=0;y<p.length;y++){var C=p[y].split("=");if(1<C.length){var T=C[0];C=C[1];var A=T.split("_");u=2<=A.length&&"type"==A[1]?u+(T+"=")+C+"&":u+(T+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function LC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function UC(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=UA(n,t),i==dc){4==e&&(n.o=4,ki(14),r=!1),tl(n.j,n.m,null,"[Incomplete Response]");break}if(i==Ym){n.o=4,ki(15),tl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}tl(n.j,n.m,i,null),Uv(n,i)}LC(n)&&i!=dc&&i!=Ym&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ki(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),r0(e),e.K=!0,ki(11))):(tl(n.j,n.m,t,"[Invalid Chunked Response]"),xs(n),Cp(n))}function UA(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?dc:(t=Number(e.substring(t,r)),isNaN(t)?Ym:(r+=1)+t>e.length?dc:(e=e.substr(r,t),n.C=r+t,e))}function wp(n){n.V=Date.now()+n.O,Lv(n,n.O)}function Lv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=yh(mi(n.gb,n),e)}function Qm(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function Cp(n){0==n.l.G||n.I||rE(n.l,n)}function xs(n){Qm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,zm(n.T),gh(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Uv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Dp(t.h,n)))if(!n.J&&Dp(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;ry(t),e0(t)}n0(t),ki(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=yh(mi(t.cb,t),6e3));if(1>=zC(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else fc(t,11)}else if((n.J||t.g==n)&&ry(t),!Nm(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let C=i[e];if(t.T=C[0],C=C[1],2==t.G)if("c"==C[0]){t.I=C[1],t.ka=C[2];const T=C[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const A=C[4];null!=A&&(t.Ca=A,t.j.info("SVER="+t.Ca));const L=C[5];null!=L&&"number"==typeof L&&0<L&&(t.J=r=1.5*L,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const Z=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var l=r.h;l.g||-1==Z.indexOf("spdy")&&-1==Z.indexOf("quic")&&-1==Z.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(xp(l,l.h),l.h=null))}if(r.D){const se=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;se&&(r.za=se,Bn(r.F,r.D,se))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=s0(r,r.H?r.ka:null,r.V),u.J){Zv(r.h,u);var p=u,y=r.J;y&&p.setTimeout(y),p.B&&(Qm(p),wp(p)),r.g=u}else tE(r);0<t.i.length&&ny(t)}else"stop"!=C[0]&&"close"!=C[0]||fc(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?fc(t,7):Xv(t):"noop"!=C[0]&&t.l&&t.l.wa(C),t.A=0)}_p()}catch{}}function Vv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Qi(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function PD(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Qi(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function VC(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Qi(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(it=uc.prototype).setTimeout=function(n){this.O=n},it.ib=function(n){n=n.target;const e=this.L;e&&3==nl(n)?e.l():this.La(n)},it.La=function(n){try{if(n==this.g)e:{const T=nl(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>T)&&(3!=T||Lm||this.g&&(this.h.h||this.g.fa()||YC(this.g)))){this.I||4!=T||7==e||_p(),Qm(this);var t=this.g.aa();this.Y=t;t:if(LC(this)){var r=YC(this.g);n="";var i=r.length,l=4==nl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xs(this),Cp(this);var u="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function AD(n,e,t,r,i,l,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+u})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nm(p)){var C=p;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,ki(12),xs(this),Cp(this);break e}tl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Uv(this,t)}this.P?(UC(this,T,u),Lm&&this.i&&3==T&&(IC(this.S,this.T,"tick",this.hb),this.T.start())):(tl(this.j,this.m,u,null),Uv(this,u)),4==T&&xs(this),this.i&&!this.I&&(4==T?rE(this.l,this):(this.i=!1,wp(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,ki(12)):(this.o=0,ki(13)),xs(this),Cp(this)}}}catch{}},it.hb=function(){if(this.g){var n=nl(this.g),e=this.g.fa();this.C<e.length&&(Qm(this),UC(this,n,e),this.i&&4!=n&&wp(this))}},it.cancel=function(){this.I=!0,xs(this)},it.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function TC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(_p(),ki(17)),xs(this),this.o=2,Cp(this)):Lv(this,this.V-n)};var BC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Su(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Su){this.h=void 0!==e?e:n.h,Jm(this,n.j),this.s=n.s,this.g=n.g,Ep(this,n.m),this.l=n.l,e=n.i;var t=new Tp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Bv(this,t),this.o=n.o}else n&&(t=String(n).match(BC))?(this.h=!!e,Jm(this,t[1]||"",!0),this.s=Ip(t[2]||""),this.g=Ip(t[3]||"",!0),Ep(this,t[4]),this.l=Ip(t[5]||"",!0),Bv(this,t[6]||"",!0),this.o=Ip(t[7]||"")):(this.h=!!e,this.i=new Tp(null,this.h))}function Ss(n){return new Su(n)}function Jm(n,e,t){n.j=t?Ip(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ep(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Bv(n,e,t){e instanceof Tp?(n.i=e,function LD(n,e){e&&!n.j&&(hc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(HC(this,r),Hv(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Au(e,RD)),n.i=new Tp(e,n.h))}function Bn(n,e,t){n.i.set(e,t)}function Xm(n){return Bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ip(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Au(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,OD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function OD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Su.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Au(e,jv,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Au(e,jv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Au(t,"/"==t.charAt(0)?ND:kD,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Au(t,FD)),n.join("")};var jv=/[#\/\?@]/g,kD=/[#\?:]/g,ND=/[#\?]/g,RD=/[#\?@]/g,FD=/#/g;function Tp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function hc(n){n.g||(n.g=new Map,n.h=0,n.i&&function jC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function HC(n,e){hc(n),e=Mu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function $C(n,e){return hc(n),e=Mu(n,e),n.g.has(e)}function Hv(n,e,t){HC(n,e),0<t.length&&(n.i=null,n.g.set(Mu(n,e),mv(t)),n.h+=t.length)}function Mu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function $v(n){this.l=n||VD,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ga&&jt.g.Ga()&&jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=Tp.prototype).add=function(n,e){hc(this),this.i=null,n=Mu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},it.forEach=function(n,e){hc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},it.oa=function(){hc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},it.W=function(n){hc(this);let e=[];if("string"==typeof n)$C(this,n)&&(e=e.concat(this.g.get(Mu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},it.set=function(n,e){return hc(this),this.i=null,$C(this,n=Mu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},it.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=l;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var VD=10;function ZC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zC(n){return n.h?1:n.g?n.g.size:0}function Dp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function xp(n,e){n.g?n.g.add(e):n.h=e}function Zv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ey(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return mv(n.i)}function zv(){}function BD(){this.g=new zv}function qv(n,e,t){const r=t||"";try{Vv(n,function(i,l){let u=i;Oi(i)&&(u=Et(i)),e.push(r+l+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function da(n){this.l=n.ac||null,this.j=n.jb||!1}function Ap(n,e){kr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$v.prototype.cancel=function(){if(this.i=ey(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},zv.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},zv.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},hr(da,Wm),da.prototype.g=function(){return new Ap(this.l,this.j)},da.prototype.i=function(n){return function(){return n}}({}),hr(Ap,kr);var Gv=0;function HD(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function _h(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Pu(n)}function Pu(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=Ap.prototype).open=function(n,e){if(this.readyState!=Gv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Pu(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||jt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_h(this)),this.readyState=Gv},it.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Pu(this)),this.g&&(this.readyState=3,Pu(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HD(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},it.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?_h(this):Pu(this),3==this.readyState&&HD(this)}},it.Va=function(n){this.g&&(this.response=this.responseText=n,_h(this))},it.Ua=function(n){this.g&&(this.response=n,_h(this))},it.ga=function(){this.g&&_h(this)},it.setRequestHeader=function(n,e){this.v.append(n,e)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ap.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $D=jt.JSON.parse;function jn(n){kr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qC,this.K=this.L=!1}hr(jn,kr);var qC="",GC=/^https?$/i,Wv=["POST","PUT"];function Kv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Yv(n),ty(n)}function Yv(n){n.D||(n.D=!0,Zr(n,"complete"),Zr(n,"error"))}function Qv(n){if(n.h&&typeof gv<"u"&&(!n.C[1]||4!=nl(n)||2!=n.aa()))if(n.v&&4==nl(n))qm(n.Ha,0,n);else if(Zr(n,"readystatechange"),4==nl(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(BC)[1]||null;if(!i&&jt.self&&jt.self.location){var l=jt.self.location.protocol;i=l.substr(0,l.length-1)}r=!GC.test(i?i.toLowerCase():"")}t=r}if(t)Zr(n,"complete"),Zr(n,"success");else{n.m=6;try{var u=2<nl(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",Yv(n)}}finally{ty(n)}}}function ty(n,e){if(n.g){KC(n);const t=n.g,r=n.C[0]?yo:null;n.g=null,n.C=null,e||Zr(n,"ready");try{t.onreadystatechange=r}catch{}}}function KC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function nl(n){return n.g?n.g.readyState:0}function YC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case qC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Jv(n){let e="";return Tv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function QC(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Jv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Bn(n,e,t))}function vh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function JC(n){this.Ca=0,this.i=[],this.j=new Gm,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=vh("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=vh("baseRetryDelayMs",5e3,n),this.bb=vh("retryDelaySeedMs",1e4,n),this.$a=vh("forwardChannelMaxRetries",2,n),this.ta=vh("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new $v(n&&n.concurrentRequestLimit),this.Fa=new BD,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Xv(n){if(XC(n),3==n.G){var e=n.U++,t=Ss(n.F);Bn(t,"SID",n.I),Bn(t,"RID",e),Bn(t,"TYPE","terminate"),Mp(n,t),(e=new uc(n,n.j,e,void 0)).K=2,e.v=Xm(Ss(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon&&(t=jt.navigator.sendBeacon(e.v.toString(),"")),!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=a0(e.l,null),e.g.da(e.v)),e.F=Date.now(),wp(e)}o0(n)}function e0(n){n.g&&(r0(n),n.g.cancel(),n.g=null)}function XC(n){e0(n),n.u&&(jt.clearTimeout(n.u),n.u=null),ry(n),n.h.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function ny(n){ZC(n.h)||n.m||(n.m=!0,mp(n.Ja,n),n.C=0)}function t0(n,e){var t;t=e?e.m:n.U++;const r=Ss(n.F);Bn(r,"SID",n.I),Bn(r,"RID",t),Bn(r,"AID",n.T),Mp(n,r),n.o&&n.s&&QC(r,n.o,n.s),t=new uc(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=eE(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),xp(n.h,t),Fv(t,r,e)}function Mp(n,e){n.ia&&Tv(n.ia,function(t,r){Bn(e,r,t)}),n.l&&Vv({},function(t,r){Bn(e,r,t)})}function eE(n,e,t){t=Math.min(n.i.length,t);var r=n.l?mi(n.l.Ra,n.l,n):null;e:{var i=n.i;let l=-1;for(;;){const u=["count="+t];-1==l?0<t?(l=i[0].h,u.push("ofs="+l)):l=0:u.push("ofs="+l);let p=!0;for(let y=0;y<t;y++){let C=i[y].h;const T=i[y].g;if(C-=l,0>C)l=Math.max(0,i[y].h-100),p=!1;else try{qv(T,u,"req"+C+"_")}catch{r&&r(T)}}if(p){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function tE(n){n.g||n.u||(n.Z=1,mp(n.Ia,n),n.A=0)}function n0(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=yh(mi(n.Ia,n),bh(n,n.A)),n.A++,0))}function r0(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function nE(n){n.g=new uc(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ss(n.sa);Bn(e,"RID","rpc"),Bn(e,"SID",n.I),Bn(e,"CI",n.L?"0":"1"),Bn(e,"AID",n.T),Bn(e,"TYPE","xmlhttp"),Mp(n,e),n.o&&n.s&&QC(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Xm(Ss(e)),t.s=null,t.P=!0,FC(t,n)}function ry(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function rE(n,e){var t=null;if(n.g==e){ry(n),r0(n),n.g=null;var r=2}else{if(!Dp(n.h,e))return;t=e.D,Zv(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Zr(r=cc(),new Rv(r,t)),ny(n)}else tE(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function ZD(n,e){return!(zC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=yh(mi(n.Ja,n,e),bh(n,n.C)),n.C++,0)))}(n,e)||2==r&&n0(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:fc(n,5);break;case 4:fc(n,10);break;case 3:fc(n,6);break;default:fc(n,2)}}function bh(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function fc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=mi(n.kb,n);t||(t=new Su("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||Jm(t,"https"),Xm(t)),function jD(n,e){const t=new Gm;if(jt.Image){const r=new Image;r.onload=uh(Sp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=uh(Sp,t,r,"TestLoadImage: error",!1,e),r.onabort=uh(Sp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=uh(Sp,t,r,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ki(2);n.G=0,n.l&&n.l.va(e),o0(n),XC(n)}function o0(n){if(n.G=0,n.la=[],n.l){const e=ey(n.h);(0!=e.length||0!=n.i.length)&&(yv(n.la,e),yv(n.la,n.i),n.h.i.length=0,mv(n.i),n.i.length=0),n.l.ua()}}function s0(n,e,t){var r=t instanceof Su?Ss(t):new Su(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Ep(r,r.m);else{var i=jt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new Su(null,void 0);r&&Jm(l,r),e&&(l.g=e),i&&Ep(l,i),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&Bn(r,t,e),Bn(r,"VER",n.ma),Mp(n,r),r}function a0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jn(t&&n.Da&&!n.ra?new da({jb:!0}):n.ra)).Ka(n.H),e}function l0(){}function Pp(){if(xu&&!(10<=Number(wD)))throw Error("Environmental error: no available transport.")}function vo(n,e){kr.call(this),this.g=new JC(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Nm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new wh(this)}function zD(n){OC.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function c0(){kC.call(this),this.status=1}function wh(n){this.g=n}(it=jn.prototype).Ka=function(n){this.L=n},it.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():NC.g(),this.C=function MC(n){return n.h||(n.h=n.i())}(this.u?this.u:NC),this.g.onreadystatechange=mi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Kv(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=jt.FormData&&n instanceof jt.FormData,!(0<=lC(Wv,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,u]of t)this.g.setRequestHeader(l,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{KC(this),0<this.B&&((this.K=function WC(n){return xu&&function bD(){return function cC(n){var e=vD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=_v(String(Um)).split("."),t=_v("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",l=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Rm(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Rm(0==i[2].length,0==l[2].length)||Rm(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mi(this.qa,this)):this.A=qm(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Kv(this,l)}},it.qa=function(){typeof gv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zr(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zr(this,"complete"),Zr(this,"abort"),ty(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ty(this,!0)),jn.X.M.call(this)},it.Ha=function(){this.s||(this.F||this.v||this.l?Qv(this):this.fb())},it.fb=function(){Qv(this)},it.aa=function(){try{return 2<nl(this)?this.g.status:-1}catch{return-1}},it.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},it.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),$D(e)}},it.Ea=function(){return this.m},it.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=JC.prototype).ma=8,it.G=1,it.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new uc(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=pC(l),xv(l,this.S)):l=this.S),null!==this.o||this.N||(i.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eE(this,i,e),Bn(t=Ss(this.F),"RID",n),Bn(t,"CVER",22),this.D&&Bn(t,"X-HTTP-Session-Id",this.D),Mp(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(Jv(l)))+"&"+e:this.o&&QC(t,this.o,l)),xp(this.h,i),this.Ya&&Bn(t,"TYPE","init"),this.O?(Bn(t,"$req",e),Bn(t,"SID","null"),i.Z=!0,Fv(i,t,null)):Fv(i,t,e),this.G=2}}else 3==this.G&&(n?t0(this,n):0==this.i.length||ZC(this.h)||t0(this))},it.Ia=function(){if(this.u=null,nE(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=yh(mi(this.eb,this),n)}},it.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ki(10),e0(this),nE(this))},it.cb=function(){null!=this.v&&(this.v=null,e0(this),n0(this),ki(19))},it.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ki(2)):(this.j.info("Failed to ping google.com"),ki(1))},(it=l0.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Ra=function(){},Pp.prototype.g=function(n,e){return new vo(n,e)},hr(vo,kr),vo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;ki(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=s0(n,null,n.V),ny(n)},vo.prototype.close=function(){Xv(this.g)},vo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Et(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&ny(e)},vo.prototype.M=function(){this.g.l=null,delete this.j,Xv(this.g),delete this.g,vo.X.M.call(this)},hr(zD,OC),hr(c0,kC),hr(wh,l0),wh.prototype.xa=function(){Zr(this.g,"a")},wh.prototype.wa=function(n){Zr(this.g,new zD(n))},wh.prototype.va=function(n){Zr(this.g,new c0)},wh.prototype.ua=function(){Zr(this.g,"b")},Pp.prototype.createWebChannel=Pp.prototype.g,vo.prototype.send=vo.prototype.u,vo.prototype.open=vo.prototype.m,vo.prototype.close=vo.prototype.close,vp.NO_ERROR=0,vp.TIMEOUT=8,vp.HTTP_ERROR=6,AC.COMPLETE="complete",PC.EventType=Km,Km.OPEN="a",Km.CLOSE="b",Km.ERROR="c",Km.MESSAGE="d",kr.prototype.listen=kr.prototype.N,jn.prototype.listenOnce=jn.prototype.O,jn.prototype.getLastError=jn.prototype.Oa,jn.prototype.getLastErrorCode=jn.prototype.Ea,jn.prototype.getStatus=jn.prototype.aa,jn.prototype.getResponseJson=jn.prototype.Sa,jn.prototype.getResponseText=jn.prototype.fa,jn.prototype.send=jn.prototype.da,jn.prototype.setWithCredentials=jn.prototype.Ka;var qD=Ds.createWebChannelTransport=function(){return new Pp},GD=Ds.getStatEventTarget=function(){return cc()},u0=Ds.ErrorCode=vp,Op=Ds.EventType=AC,WD=Ds.Event=lc,iy=Ds.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ha=Ds.FetchXmlHttpFactory=da,oy=Ds.WebChannel=PC,d0=Ds.XhrIo=jn;const Ch="@firebase/firestore";class zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let Eh="9.17.0";const pc=new el.Yd("@firebase/firestore");function Ih(){return pc.logLevel}function Re(n,...e){if(pc.logLevel<=el.in.DEBUG){const t=e.map(ay);pc.debug(`Firestore (${Eh}): ${n}`,...t)}}function fr(n,...e){if(pc.logLevel<=el.in.ERROR){const t=e.map(ay);pc.error(`Firestore (${Eh}): ${n}`,...t)}}function gc(n,...e){if(pc.logLevel<=el.in.WARN){const t=e.map(ay);pc.warn(`Firestore (${Eh}): ${n}`,...t)}}function ay(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function nt(n="Unexpected state"){const e=`FIRESTORE (${Eh}) INTERNAL ASSERTION FAILED: `+n;throw fr(e),new Error(e)}function pt(n,e){n||nt()}function qe(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends pn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zr.UNAUTHENTICATED))}shutdown(){}}class YD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class QD{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=C=>this.i!==i?(i=this.i,t(C)):Promise.resolve();let u=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pr,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const C=u;e.enqueueRetryable((0,ae.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},y=C=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(C=>y(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?y(C):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt("string"==typeof r.accessToken),new iE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pt(null===e||"string"==typeof e),new zr(e)}}class oE{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(pt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class f0{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new oE(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JD{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.A;return this.A=l.token,Re("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?i(l):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt("string"==typeof t.token),this.A=t.token,new p0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sE(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class aE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sE(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Ut(n,e){return n<e?-1:n>e?1:0}function Ou(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function lE(n){return n+"\0"}class Fn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fn.fromMillis(Date.now())}static fromDate(e){return Fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Fn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new Fn(0,0))}static max(){return new wt(new Fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Nr{constructor(e,t,r){void 0===t?t=0:t>e.length&&nt(),void 0===r?r=e.length-t:r>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Nr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),u=t.get(i);if(l<u)return-1;if(l>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kt extends Nr{construct(e,t,r){return new Kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Kt(t)}static emptyPath(){return new Kt([])}}const e1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends Nr{construct(e,t,r){return new ir(e,t,r)}static isValidIdentifier(e){return e1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ir(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ae(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Ae(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ae(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(u=!u,i++):"."!==p||u?(r+=p,i++):(l(),i++)}if(l(),u)throw new Ae(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(t)}static emptyPath(){return new ir([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(Kt.fromString(e))}static fromName(e){return new We(Kt.fromString(e).popFirst(5))}static empty(){return new We(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new Kt(e.slice()))}}class g0{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function ly(n){return n.fields.find(e=>2===e.kind)}function rl(n){return n.fields.filter(e=>2!==e.kind)}g0.UNKNOWN_ID=-1;class cy{constructor(e,t){this.fieldPath=e,this.kind=t}}class Np{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Np(0,bo.min())}}function y0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=wt.fromTimestamp(1e9===r?new Fn(t+1,0):new Fn(t,r));return new bo(i,We.empty(),e)}function cE(n){return new bo(n.readTime,n.key,-1)}class bo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new bo(wt.min(),We.empty(),-1)}static max(){return new bo(wt.max(),We.empty(),-1)}}function _0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=We.comparator(n.documentKey,e.documentKey),0!==t?t:Ut(n.largestBatchId,e.largestBatchId))}const uy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function il(n){return Th.apply(this,arguments)}function Th(){return Th=(0,ae.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==uy)throw n;Re("LocalStore","Unexpectedly lost primary lease")}),Th.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let i=0,l=0,u=!1;e.forEach(p=>{++i,p.next(()=>{++l,u&&l===i&&t()},y=>r(y))}),u=!0,l===i&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(i=>i?oe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,i)=>{const l=e.length,u=new Array(l);let p=0;for(let y=0;y<l;y++){const C=y;t(e[C]).next(T=>{u[C]=T,++p,p===l&&r(u)},T=>i(T))}})}static doWhile(e,t){return new oe((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class b0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new pr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Dh(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=uE(r.target.error);this.P.reject(new Dh(e,i))}}static open(e,t,r,i){try{return new b0(t,e.transaction(i,r))}catch(l){throw new Dh(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new n1(t)}}class Go{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Go.D((0,pn.z$)())&&fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Re("SimpleDb","Removing database:",e),mc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,pn.hl)())return!1;if(Go.N())return!0;const e=(0,pn.z$)(),t=Go.D(e),r=0<t&&t<10,i=Go.k(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ae.Z)(function*(){return t.db||(Re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=u=>{r(u.target.result)},l.onblocked=()=>{i(new Dh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const p=u.target.error;i("VersionError"===p.name?new Ae(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Ae(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Dh(e,p))},l.onupgradeneeded=u=>{Re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,l.transaction,u.oldVersion,t.version).next(()=>{Re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,ae.Z)(function*(){const u="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.F(e);const y=b0.open(l.db,e,u?"readonly":"readwrite",r),C=i(y).next(T=>(y.V(),T)).catch(T=>(y.abort(T),oe.reject(T))).toPromise();return C.catch(()=>{}),yield y.v,C}catch(y){const C=y,T="FirebaseError"!==C.name&&p<3;if(Re("SimpleDb","Transaction failed with error:",C.message,"Retrying:",T),l.close(),!T)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class t1{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return mc(this.q.delete())}}class Dh extends Ae{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wo(n){return"IndexedDbTransactionError"===n.name}class n1{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Re("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),mc(r)}add(e){return Re("SimpleDb","ADD",this.store.name,e,e),mc(this.store.add(e))}get(e){return mc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Re("SimpleDb","DELETE",this.store.name,e),mc(this.store.delete(e))}count(){return Re("SimpleDb","COUNT",this.store.name),mc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.H(i,(u,p)=>{l.push(p)}).next(()=>l)}{const i=this.store.getAll(r.range);return new oe((l,u)=>{i.onerror=p=>{u(p.target.error)},i.onsuccess=p=>{l(p.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new oe((i,l)=>{r.onerror=u=>{l(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){Re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(l,u,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new oe((r,i)=>{t.onerror=l=>{const u=uE(l.target.error);i(u)},t.onsuccess=l=>{const u=l.target.result;u?e(u.primaryKey,u.value).next(p=>{p?u.continue():r()}):r()}})}H(e,t){const r=[];return new oe((i,l)=>{e.onerror=u=>{l(u.target.error)},e.onsuccess=u=>{const p=u.target.result;if(!p)return void i();const y=new t1(p),C=t(p.primaryKey,p.value,y);if(C instanceof oe){const T=C.catch(A=>(y.done(),oe.reject(A)));r.push(T)}y.isDone?i():null===y.G?p.continue():p.continue(y.G)}}).next(()=>oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mc(n){return new oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=uE(r.target.error);t(i)}})}let dy=!1;function uE(n){const e=Go.D((0,pn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dy||(dy=!0,setTimeout(()=>{throw r},0)),r}}return n}class r1{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ae.Z)(function*(){t.task=null;try{Re("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){wo(r)?Re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield il(r)}yield t.nt(6e4)}))}}class VA{constructor(e,t){this.localStore=e,this.persistence=t}st(){var e=this;return(0,ae.Z)(function*(t=50){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.it(r,t))}).apply(this,arguments)}it(e,t){const r=new Set;let i=t,l=!0;return oe.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Re("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(p=>{i-=p,r.add(u)});l=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,l)).next(p=>(Re("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,l)=>{const u=cE(l);_0(u,r)>0&&(r=u)}),new bo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Co=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class i1{constructor(e,t,r,i,l,u,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class yc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}function w0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _c(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xh(n){return null==n}function Sh(n){return 0===n&&1/n==-1/0}function hE(n){return"number"==typeof n&&Number.isInteger(n)&&!Sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Cr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const s1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ol(n){if(pt(!!n),"string"==typeof n){let e=0;const t=s1.exec(n);if(pt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kn(n.seconds),nanos:Kn(n.nanos)}}function Kn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vc(n){return"string"==typeof n?Cr.fromBase64String(n):Cr.fromUint8Array(n)}function hy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fE(n){const e=n.mapValue.fields.__previous_value__;return hy(e)?fE(e):e}function Rp(n){const e=ol(n.mapValue.fields.__local_write_time__.timestampValue);return new Fn(e.seconds,e.nanos)}const ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fp={nullValue:"NULL_VALUE"};function Ah(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hy(n)?4:l1(n)?9007199254740991:10:nt()}function sl(n,e){if(n===e)return!0;const t=Ah(n);if(t!==Ah(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rp(n).isEqual(Rp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=ol(r.timestampValue),u=ol(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,vc(n.bytesValue).isEqual(vc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Kn(r.geoPointValue.latitude)===Kn(i.geoPointValue.latitude)&&Kn(r.geoPointValue.longitude)===Kn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Kn(r.integerValue)===Kn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Kn(r.doubleValue),u=Kn(i.doubleValue);return l===u?Sh(l)===Sh(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Ou(n.arrayValue.values||[],e.arrayValue.values||[],sl);case 10:return function(r,i){const l=r.mapValue.fields||{},u=i.mapValue.fields||{};if(w0(l)!==w0(u))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===u[p]||!sl(l[p],u[p])))return!1;return!0}(n,e);default:return nt()}var i}function fy(n,e){return void 0!==(n.values||[]).find(t=>sl(t,e))}function Nu(n,e){if(n===e)return 0;const t=Ah(n),r=Ah(e);if(t!==r)return Ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,e.booleanValue);case 2:return function(i,l){const u=Kn(i.integerValue||i.doubleValue),p=Kn(l.integerValue||l.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(n,e);case 3:return a1(n.timestampValue,e.timestampValue);case 4:return a1(Rp(n),Rp(e));case 5:return Ut(n.stringValue,e.stringValue);case 6:return function(i,l){const u=vc(i),p=vc(l);return u.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const u=i.split("/"),p=l.split("/");for(let y=0;y<u.length&&y<p.length;y++){const C=Ut(u[y],p[y]);if(0!==C)return C}return Ut(u.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const u=Ut(Kn(i.latitude),Kn(l.latitude));return 0!==u?u:Ut(Kn(i.longitude),Kn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const u=i.values||[],p=l.values||[];for(let y=0;y<u.length&&y<p.length;++y){const C=Nu(u[y],p[y]);if(C)return C}return Ut(u.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===ku.mapValue&&l===ku.mapValue)return 0;if(i===ku.mapValue)return 1;if(l===ku.mapValue)return-1;const u=i.fields||{},p=Object.keys(u),y=l.fields||{},C=Object.keys(y);p.sort(),C.sort();for(let T=0;T<p.length&&T<C.length;++T){const A=Ut(p[T],C[T]);if(0!==A)return A;const L=Nu(u[p[T]],y[C[T]]);if(0!==L)return L}return Ut(p.length,C.length)}(n.mapValue,e.mapValue);default:throw nt()}}function a1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ut(n,e);const t=ol(n),r=ol(e),i=Ut(t.seconds,r.seconds);return 0!==i?i:Ut(t.nanos,r.nanos)}function Lp(n){return pE(n)}function pE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ol(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vc(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const u of r.values||[])l?l=!1:i+=",",i+=pE(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const p of i)u?u=!1:l+=",",l+=`${p}:${pE(r.fields[p])}`;return l+"}"}(n.mapValue):nt();var e}function Mh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ph(n){return!!n&&"integerValue"in n}function py(n){return!!n&&"arrayValue"in n}function C0(n){return!!n&&"nullValue"in n}function Up(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vp(n){return!!n&&"mapValue"in n}function Oh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return _c(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Oh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function l1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function E0(n){return"nullValue"in n?Fp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Mh(yc.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:nt()}function gE(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Mh(yc.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ku:nt()}function mE(n,e){const t=Nu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function c1(n,e){const t=Nu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class bc{constructor(e,t){this.position=e,this.inclusive=t}}function yE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],u=n.position[i];if(r=l.field.isKeyField()?We.comparator(We.fromName(u.referenceValue),t.key):Nu(u,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function _E(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sl(n.position[t],e.position[t]))return!1;return!0}class Bp{}class tn extends Bp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new CE(e,t,r):"array-contains"===t?new x0(e,r):"in"===t?new IE(e,r):"not-in"===t?new jA(e,r):"array-contains-any"===t?new Wo(e,r):new tn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new BA(e,r):new As(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nu(t,this.value)):null!==t&&Ah(this.value)===Ah(t)&&this.matchesComparison(Nu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class In extends Bp{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new In(e,t)}matches(e){return jp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function jp(n){return"and"===n.op}function vE(n){return"or"===n.op}function I0(n){return bE(n)&&jp(n)}function bE(n){for(const e of n.filters)if(e instanceof In)return!1;return!0}function T0(n){if(n instanceof tn)return n.field.canonicalString()+n.op.toString()+Lp(n.value);if(I0(n))return n.filters.map(e=>T0(e)).join(",");{const e=n.filters.map(t=>T0(t)).join(",");return`${n.op}(${e})`}}function u1(n,e){return n instanceof tn?(t=n,(r=e)instanceof tn&&t.op===r.op&&t.field.isEqual(r.field)&&sl(t.value,r.value)):n instanceof In?function(t,r){return r instanceof In&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,l,u)=>i&&u1(l,r.filters[u]),!0)}(n,e):void nt();var t,r}function wE(n,e){const t=n.filters.concat(e);return In.create(t,n.op)}function D0(n){return n instanceof tn?`${(e=n).field.canonicalString()} ${e.op} ${Lp(e.value)}`:n instanceof In?function(e){return e.op.toString()+" {"+e.getFilters().map(D0).join(" ,")+"}"}(n):"Filter";var e}class CE extends tn{constructor(e,t,r){super(e,t,r),this.key=We.fromName(r.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.matchesComparison(t)}}class BA extends tn{constructor(e,t){super(e,"in",t),this.keys=EE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class As extends tn{constructor(e,t){super(e,"not-in",t),this.keys=EE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function EE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>We.fromName(r.referenceValue))}class x0 extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return py(t)&&fy(t.arrayValue,this.value)}}class IE extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fy(this.value.arrayValue,t)}}class jA extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(fy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fy(this.value.arrayValue,t)}}class Wo extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!py(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fy(this.value.arrayValue,r))}}class kh{constructor(e,t="asc"){this.field=e,this.dir=t}}function S0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class or{constructor(e,t){this.comparator=e,this.root=t||Rr.EMPTY}insert(e,t){return new or(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rr.BLACK,null,null))}remove(e){return new or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gy(this.root,e,this.comparator,!1)}getReverseIterator(){return new gy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gy(this.root,e,this.comparator,!0)}}class gy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rr{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??Rr.RED,this.left=i??Rr.EMPTY,this.right=l??Rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Rr(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}Rr.EMPTY=null,Rr.RED=!0,Rr.BLACK=!1,Rr.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Rr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vn{constructor(e){this.comparator=e,this.data=new or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new A0(this.data.getIterator())}getIteratorFrom(e){return new A0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vn(this.comparator);return t.data=e,t}}class A0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Nh(n){return n.hasNext()?n.getNext():void 0}class Ni{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new Ni([])}unionWith(e){let t=new vn(ir.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ni(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ou(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class qr{constructor(e){this.value=e}static empty(){return new qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(t)}setAll(e){let t=ir.emptyPath(),r={},i=[];e.forEach((u,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}u?r[p.lastSegment()]=Oh(u):i.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());Vp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){_c(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new qr(Oh(this.value))}}function TE(n){const e=[];return _c(n.fields,(t,r)=>{const i=new ir([t]);if(Vp(r)){const l=TE(r.mapValue).fields;if(0===l.length)e.push(i);else for(const u of l)e.push(i.child(u))}else e.push(i)}),new Ni(e)}class Pn{constructor(e,t,r,i,l,u,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=l,this.data=u,this.documentState=p}static newInvalidDocument(e){return new Pn(e,0,wt.min(),wt.min(),wt.min(),qr.empty(),0)}static newFoundDocument(e,t,r,i){return new Pn(e,1,t,wt.min(),r,i,0)}static newNoDocument(e,t){return new Pn(e,2,t,wt.min(),wt.min(),qr.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,wt.min(),wt.min(),qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class d1{constructor(e,t=null,r=[],i=[],l=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=u,this.endAt=p,this.ft=null}}function Hp(n,e=null,t=[],r=[],i=null,l=null,u=null){return new d1(n,e,t,r,i,l,u)}function Ri(n){const e=qe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>T0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Lp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Lp(r)).join(",")),e.ft=t}return e.ft}function Ko(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!S0(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!u1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_E(n.startAt,e.startAt)&&_E(n.endAt,e.endAt)}function $p(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Rh(n,e){return n.filters.filter(t=>t instanceof tn&&t.field.isEqual(e))}function M0(n,e,t){let r=Fp,i=!0;for(const l of Rh(n,e)){let u=Fp,p=!0;switch(l.op){case"<":case"<=":u=E0(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,p=!1;break;case"!=":case"not-in":u=Fp}mE({value:r,inclusive:i},{value:u,inclusive:p})<0&&(r=u,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];mE({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function DE(n,e,t){let r=ku,i=!0;for(const l of Rh(n,e)){let u=ku,p=!0;switch(l.op){case">=":case">":u=gE(l.value),p=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,p=!1;break;case"!=":case"not-in":u=ku}c1({value:r,inclusive:i},{value:u,inclusive:p})>0&&(r=u,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];c1({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class wc{constructor(e,t=null,r=[],i=[],l=null,u="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=u,this.startAt=p,this.endAt=y,this.dt=null,this._t=null}}function xE(n,e,t,r,i,l,u,p){return new wc(n,e,t,r,i,l,u,p)}function Fh(n){return new wc(n)}function SE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function P0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Zp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function AE(n){return null!==n.collectionGroup}function Cc(n){const e=qe(n);if(null===e.dt){e.dt=[];const t=Zp(e),r=P0(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new kh(t)),e.dt.push(new kh(ir.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.dt.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new kh(ir.keyField(),l))}}}return e.dt}function Fi(n){const e=qe(n);if(!e._t)if("F"===e.limitType)e._t=Hp(e.path,e.collectionGroup,Cc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Cc(e))t.push(new kh(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new bc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new bc(e.startAt.position,e.startAt.inclusive):null;e._t=Hp(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function my(n,e){e.getFirstInequalityField(),Zp(n);const t=n.filters.concat([e]);return new wc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function O0(n,e,t){return new wc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ru(n,e){return Ko(Fi(n),Fi(e))&&n.limitType===e.limitType}function k0(n){return`${Ri(Fi(n))}|lt:${n.limitType}`}function yy(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>D0(r)).join(", ")}]`),xh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Lp(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Lp(r)).join(",")),`Target(${t})`}(Fi(n))}; limitType=${n.limitType})`}function Lh(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):We.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Cc(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,u){const p=yE(i,l,u);return i.inclusive?p<=0:p<0}(t.startAt,Cc(t),r)||t.endAt&&!function(i,l,u){const p=yE(i,l,u);return i.inclusive?p>=0:p>0}(t.endAt,Cc(t),r)));var t,r}function N0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function R0(n){return(e,t)=>{let r=!1;for(const i of Cc(n)){const l=_y(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function _y(n,e,t){const r=n.field.isKeyField()?We.comparator(e.key,t.key):function(i,l,u){const p=l.data.field(i),y=u.data.field(i);return null!==p&&null!==y?Nu(p,y):nt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}function zp(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function F0(n){return{integerValue:""+n}}function ME(n,e){return hE(e)?F0(e):zp(n,e)}class vy{constructor(){this._=void 0}}function HA(n,e,t){return n instanceof Fu?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Lu?PE(n,e):n instanceof Uu?f1(n,e):function(r,i){const l=h1(r,i),u=p1(l)+p1(r.gt);return Ph(l)&&Ph(r.gt)?F0(u):zp(r.yt,u)}(n,e)}function $A(n,e,t){return n instanceof Lu?PE(n,e):n instanceof Uu?f1(n,e):t}function h1(n,e){return n instanceof qp?Ph(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Fu extends vy{}class Lu extends vy{constructor(e){super(),this.elements=e}}function PE(n,e){const t=g1(e);for(const r of n.elements)t.some(i=>sl(i,r))||t.push(r);return{arrayValue:{values:t}}}class Uu extends vy{constructor(e){super(),this.elements=e}}function f1(n,e){let t=g1(e);for(const r of n.elements)t=t.filter(i=>!sl(i,r));return{arrayValue:{values:t}}}class qp extends vy{constructor(e,t){super(),this.yt=e,this.gt=t}}function p1(n){return Kn(n.integerValue||n.doubleValue)}function g1(n){return py(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class by{constructor(e,t){this.field=e,this.transform=t}}class wy{constructor(e,t){this.version=e,this.transformResults=t}}class Hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Gp{}function Ec(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Kp(n.key,Hn.none()):new Ic(n.key,n.data,Hn.none());{const t=n.data,r=qr.empty();let i=new vn(ir.comparator);for(let l of e.fields)if(!i.has(l)){let u=t.field(l);null===u&&l.length>1&&(l=l.popLast(),u=t.field(l)),null===u?r.delete(l):r.set(l,u),i=i.add(l)}return new Ms(n.key,r,new Ni(i.toArray()),Hn.none())}}function OE(n,e,t){n instanceof Ic?function(r,i,l){const u=r.value.clone(),p=y1(r.fieldTransforms,i,l.transformResults);u.setAll(p),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ms?function(r,i,l){if(!Cy(r.precondition,i))return void i.convertToUnknownDocument(l.version);const u=y1(r.fieldTransforms,i,l.transformResults),p=i.data;p.setAll(Wp(r)),p.setAll(u),i.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Vu(n,e,t,r){return n instanceof Ic?function(i,l,u,p){if(!Cy(i.precondition,l))return u;const y=i.value.clone(),C=_1(i.fieldTransforms,p,l);return y.setAll(C),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ms?function(i,l,u,p){if(!Cy(i.precondition,l))return u;const y=_1(i.fieldTransforms,p,l),C=l.data;return C.setAll(Wp(i)),C.setAll(y),l.convertToFoundDocument(l.version,C).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(u=t,Cy(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u);var l,u}function L0(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=h1(r.transform,i||null);null!=l&&(null===t&&(t=qr.empty()),t.set(r.field,l))}return t||null}function kE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ou(t,r,(i,l)=>function m1(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Lu&&r instanceof Lu||t instanceof Uu&&r instanceof Uu?Ou(t.elements,r.elements,sl):t instanceof qp&&r instanceof qp?sl(t.gt,r.gt):t instanceof Fu&&r instanceof Fu);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ic extends Gp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ms extends Gp{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Wp(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function y1(n,e,t){const r=new Map;pt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],u=l.transform,p=e.data.field(l.field);r.set(l.field,$A(u,p,t[i]))}return r}function _1(n,e,t){const r=new Map;for(const i of n){const l=i.transform,u=t.data.field(i.field);r.set(i.field,HA(l,u,e))}return r}class Kp extends Gp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NE extends Gp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RE{constructor(e){this.count=e}}var Er,sn;function FE(n){switch(n){default:return nt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function LE(n){if(void 0===n)return fr("GRPC error has no .code"),de.UNKNOWN;switch(n){case Er.OK:return de.OK;case Er.CANCELLED:return de.CANCELLED;case Er.UNKNOWN:return de.UNKNOWN;case Er.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Er.INTERNAL:return de.INTERNAL;case Er.UNAVAILABLE:return de.UNAVAILABLE;case Er.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Er.NOT_FOUND:return de.NOT_FOUND;case Er.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Er.ABORTED:return de.ABORTED;case Er.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Er.DATA_LOSS:return de.DATA_LOSS;default:return nt()}}(sn=Er||(Er={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";class al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_c(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return dE(this.inner)}size(){return this.innerSize}}const UE=new or(We.comparator);function Li(){return UE}const VE=new or(We.comparator);function Yp(...n){let e=VE;for(const t of n)e=e.insert(t.key,t);return e}function U0(n){let e=VE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yo(){return Uh()}function v1(){return Uh()}function Uh(){return new al(n=>n.toString(),(n,e)=>n.isEqual(e))}const V0=new or(We.comparator),b1=new vn(We.comparator);function zt(...n){let e=b1;for(const t of n)e=e.add(t);return e}const ZA=new vn(Ut);function B0(){return ZA}class Qp{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Jp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Qp(wt.min(),i,B0(),Li(),zt())}}class Jp{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Jp(r,t,zt(),zt(),zt())}}class Ey{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class w1{constructor(e,t){this.targetId=e,this.Et=t}}class C1{constructor(e,t,r=Cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class E1{constructor(){this.At=0,this.Rt=I1(),this.bt=Cr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=zt(),t=zt(),r=zt();return this.Rt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:nt()}}),new Jp(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=I1()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class zA{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Li(),this.qt=BE(),this.Ut=new vn(Ut)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const l=i.target;if($p(l))if(0===r){const u=new We(l.path);this.Qt(t,u,Pn.newNoDocument(u,wt.min()))}else pt(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((l,u)=>{const p=this.Yt(u);if(p){if(l.current&&$p(p.target)){const y=new We(p.target.path);null!==this.Lt.get(y)||this.te(u,y)||this.Qt(u,y,Pn.newNoDocument(y,e))}l.St&&(t.set(u,l.Ct()),l.xt())}});let r=zt();this.qt.forEach((l,u)=>{let p=!0;u.forEachWhile(y=>{const C=this.Yt(y);return!C||2===C.purpose||(p=!1,!1)}),p&&(r=r.add(l))}),this.Lt.forEach((l,u)=>u.setReadTime(e));const i=new Qp(e,t,this.Ut,this.Lt,r);return this.Lt=Li(),this.qt=BE(),this.Ut=new vn(Ut),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new E1,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new vn(Ut),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new E1),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function BE(){return new or(We.comparator)}function I1(){return new or(We.comparator)}const qA={asc:"ASCENDING",desc:"DESCENDING"},GA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WA={and:"AND",or:"OR"};class KA{constructor(e,t){this.databaseId=e,this.wt=t}}function Xp(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o(n,e){return n.wt?e.toBase64():e.toUint8Array()}function s(n,e){return Xp(n,e.toTimestamp())}function c(n){return pt(!!n),wt.fromTimestamp(function(e){const t=ol(e);return new Fn(t.seconds,t.nanos)}(n))}function d(n,e){return(t=n,new Kt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function h(n){const e=Kt.fromString(n);return pt(JA(e)),e}function g(n,e){return d(n.databaseId,e.path)}function _(n,e){const t=h(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(P(t))}function w(n,e){return d(n.databaseId,e)}function E(n){const e=h(n);return 4===e.length?Kt.emptyPath():P(e)}function S(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function P(n){return pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function R(n,e,t){return{name:g(n,e),fields:t.value.mapValue.fields}}function q(n,e,t){const r=_(n,e.name),i=c(e.updateTime),l=e.createTime?c(e.createTime):wt.min(),u=new qr({mapValue:{fields:e.fields}}),p=Pn.newFoundDocument(r,i,l,u);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function Le(n,e){let t;if(e instanceof Ic)t={update:R(n,e.key,e.value)};else if(e instanceof Kp)t={delete:g(n,e.key)};else if(e instanceof Ms)t={update:R(n,e.key,e.data),updateMask:gN(e.fieldMask)};else{if(!(e instanceof NE))return nt();t={verify:g(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const u=l.transform;if(u instanceof Fu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Lu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Uu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof qp)return{fieldPath:l.field.canonicalString(),increment:u.gt};throw nt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:s(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:nt()),t;var i}function Ge(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Hn.updateTime(c(i.updateTime)):void 0!==i.exists?Hn.exists(i.exists):Hn.none():Hn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let p=null;"setToServerValue"in u?(pt("REQUEST_TIME"===u.setToServerValue),p=new Fu):"appendMissingElements"in u?p=new Lu(u.appendMissingElements.values||[]):"removeAllFromArray"in u?p=new Uu(u.removeAllFromArray.values||[]):"increment"in u?p=new qp(l,u.increment):nt();const y=ir.fromServerFormat(u.fieldPath);return new by(y,p)}(n,i)):[];var i;if(e.update){const i=_(n,e.update.name),l=new qr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Ni((e.updateMask.fieldPaths||[]).map(C=>ir.fromServerFormat(C)));return new Ms(i,l,u,t,r)}return new Ic(i,l,t,r)}if(e.delete){const i=_(n,e.delete);return new Kp(i,t)}if(e.verify){const i=_(n,e.verify);return new NE(i,t)}return nt()}function xt(n,e){return{documents:[w(n,e.path)]}}function Oe(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=w(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=w(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return QA(In.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const l=function(y){if(0!==y.length)return y.map(C=>{return{field:Iy((T=C).field),direction:YA(T.dir)};var T})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=(C=e.limit,n.wt||xh(C)?C:{value:C});var C,p,y;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function Vt(n){let e=E(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){pt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let l=[];t.where&&(l=function(T){const A=sr(T);return A instanceof In&&I0(A)?A.getFilters():[A]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(T=>{return new kh(Ty((A=T).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let p=null;t.limit&&(p=function(T){let A;return A="object"==typeof T?T.value:T,xh(A)?null:A}(t.limit));let y=null;var T;t.startAt&&(y=new bc((T=t.startAt).values||[],!!T.before));let C=null;return t.endAt&&(C=function(T){return new bc(T.values||[],!T.before)}(t.endAt)),xE(e,i,u,l,p,"F",y,C)}function sr(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ty(e.unaryFilter.field);return tn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Ty(e.unaryFilter.field);return tn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ty(e.unaryFilter.field);return tn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ty(e.unaryFilter.field);return tn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(n):void 0!==n.fieldFilter?tn.create(Ty((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return In.create(e.compositeFilter.filters.map(t=>sr(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return nt()}}(e.compositeFilter.op))}(n):nt();var e}function YA(n){return qA[n]}function fN(n){return GA[n]}function pN(n){return WA[n]}function Iy(n){return{fieldPath:n.canonicalString()}}function Ty(n){return ir.fromServerFormat(n.fieldPath)}function QA(n){return n instanceof tn?function(e){if("=="===e.op){if(Up(e.value))return{unaryFilter:{field:Iy(e.field),op:"IS_NAN"}};if(C0(e.value))return{unaryFilter:{field:Iy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Up(e.value))return{unaryFilter:{field:Iy(e.field),op:"IS_NOT_NAN"}};if(C0(e.value))return{unaryFilter:{field:Iy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iy(e.field),op:fN(e.op),value:e.value}}}(n):n instanceof In?function(e){const t=e.getFilters().map(r=>QA(r));return 1===t.length?t[0]:{compositeFilter:{op:pN(e.op),filters:t}}}(n):nt()}function gN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function JA(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Eo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=XA(e)),e=mN(n.get(t),e);return XA(e)}function mN(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function XA(n){return n+"\x01\x01"}function Tc(n){const e=n.length;if(pt(e>=2),2===e)return pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Kt.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const u=n.indexOf("\x01",l);switch((u<0||u>t)&&nt(),n.charAt(u+1)){case"\x01":const p=n.substring(l,u);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(l,u),i+="\0";break;case"\x11":i+=n.substring(l,u+1);break;default:nt()}l=u+2}return new Kt(r)}const eM=["userId","batchId"];function jE(n,e){return[n,Eo(e)]}function tM(n,e,t){return[n,Eo(e),t]}const yN={},_N=["prefixPath","collectionGroup","readTime","documentId"],vN=["prefixPath","collectionGroup","documentId"],bN=["collectionGroup","readTime","prefixPath","documentId"],wN=["canonicalId","targetId"],CN=["targetId","path"],EN=["path","targetId"],IN=["collectionId","parent"],TN=["indexId","uid"],DN=["uid","sequenceNumber"],xN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],SN=["indexId","uid","orderedDocumentKey"],AN=["userId","collectionPath","documentId"],MN=["userId","collectionPath","largestBatchId"],PN=["userId","collectionGroup","largestBatchId"],nM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ON=[...nM,"documentOverlays"],rM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iM=rM,kN=[...iM,"indexConfiguration","indexState","indexEntries"];class T1 extends v0{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function yi(n,e){const t=qe(n);return Go.M(t.se,e)}class D1{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&OE(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Vu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=v1();return this.mutations.forEach(i=>{const l=e.get(i.key),u=l.overlayedDocument;let p=this.applyToLocalView(u,l.mutatedFields);p=t.has(i.key)?null:p;const y=Ec(u,p);null!==y&&r.set(i.key,y),u.isValidDocument()||u.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zt())}isEqual(e){return this.batchId===e.batchId&&Ou(this.mutations,e.mutations,(t,r)=>kE(t,r))&&Ou(this.baseMutations,e.baseMutations,(t,r)=>kE(t,r))}}class x1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pt(e.mutations.length===r.length);let i=V0;const l=e.mutations;for(let u=0;u<l.length;u++)i=i.insert(l[u].key,r[u].version);return new x1(e,t,r,i)}}class S1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vh{constructor(e,t,r,i,l=wt.min(),u=wt.min(),p=Cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p}withSequenceNumber(e){return new Vh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Vh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class oM{constructor(e){this.ie=e}}function sM(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:HE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:g(i=n.ie,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Xp(i,l.version.toTimestamp()),createTime:Xp(i,l.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:eg(e.version)};else{if(!e.isUnknownDocument())return nt();r.unknownDocument={path:t.path.toArray(),version:eg(e.version)}}var i,l;return r}function HE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function eg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tg(n){const e=new Fn(n.seconds,n.nanoseconds);return wt.fromTimestamp(e)}function ng(n,e){const t=(e.baseMutations||[]).map(l=>Ge(n.ie,l));for(let l=0;l<e.mutations.length-1;++l)l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(e.mutations[l].updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l);const r=e.mutations.map(l=>Ge(n.ie,l)),i=Fn.fromMillis(e.localWriteTimeMs);return new D1(e.batchId,i,t,r)}function j0(n){const e=tg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?tg(n.lastLimboFreeSnapshotVersion):wt.min();let r;var i;return void 0!==n.query.documents?(pt(1===(i=n.query).documents.length),r=Fi(Fh(E(i.documents[0])))):r=Fi(Vt(n.query)),new Vh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Cr.fromBase64String(n.resumeToken))}function aM(n,e){const t=eg(e.snapshotVersion),r=eg(e.lastLimboFreeSnapshotVersion);let i;i=$p(e.target)?xt(n.ie,e.target):Oe(n.ie,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ri(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function A1(n){const e=Vt({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?O0(e,e.limit,"L"):e}function M1(n,e){return new S1(e.largestBatchId,Ge(n.ie,e.overlayMutation))}function lM(n,e){const t=e.path.lastSegment();return[n,Eo(e.path.popLast()),t]}function cM(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:eg(r.readTime),documentKey:Eo(r.documentKey.path),largestBatchId:r.largestBatchId}}class RN{getBundleMetadata(e,t){return uM(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:tg(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return uM(e).put({bundleId:(r=t).id,createTime:eg(c(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return dM(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:A1(i.bundledQuery),readTime:tg(i.readTime)};var i})}saveNamedQuery(e,t){return dM(e).put({name:(r=t).name,readTime:eg(c(r.readTime)),bundledQuery:r.bundledQuery});var r}}function uM(n){return yi(n,"bundles")}function dM(n){return yi(n,"namedQueries")}class $E{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new $E(e,t.uid||"")}getOverlay(e,t){return H0(e).get(lM(this.userId,t)).next(r=>r?M1(this.yt,r):null)}getOverlays(e,t){const r=Yo();return oe.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,u)=>{const p=new S1(t,u);i.push(this.oe(e,p))}),oe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Eo(u.getCollectionPath())));const l=[];return i.forEach(u=>{const p=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);l.push(H0(e).Y("collectionPathOverlayIndex",p))}),oe.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Yo(),l=Eo(t),u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return H0(e).W("collectionPathOverlayIndex",u).next(p=>{for(const y of p){const C=M1(this.yt,y);i.set(C.getKey(),C)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Yo();let u;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return H0(e).Z({index:"collectionGroupOverlayIndex",range:p},(y,C,T)=>{const A=M1(this.yt,C);l.size()<i||A.largestBatchId===u?(l.set(A.getKey(),A),u=A.largestBatchId):T.done()}).next(()=>l)}oe(e,t){return H0(e).put(function(r,i,l){const[u,p,y]=lM(i,l.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Le(r.ie,l.mutation)}}(this.yt,this.userId,t))}}function H0(n){return yi(n,"documentOverlays")}class rg{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Kn(e.integerValue));else if("doubleValue"in e){const r=Kn(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),Sh(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(vc(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?l1(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):nt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),We.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function FN(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function hM(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=FN(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}rg.Ie=new rg;class LN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=hM(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=hM(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class UN{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class VN{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class $0{constructor(){this.$e=new LN,this.Be=new UN(this.$e),this.Le=new VN(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class ig{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ig(this.indexId,this.documentKey,this.arrayValue,r)}}function Bh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=fM(n.arrayValue,e.arrayValue),0!==t?t:(t=fM(n.directionalValue,e.directionalValue),0!==t?t:We.comparator(n.documentKey,e.documentKey)))}function fM(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class BN{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){pt(e.collectionGroup===this.collectionId);const t=ly(e);if(void 0!==t&&!this.We(t))return!1;const r=rl(e);let i=0,l=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const u=r[i];if(!this.ze(this.Qe,u)||!this.He(this.Ke[l++],u))return!1;++i}for(;i<r.length;++i)if(l>=this.Ke.length||!this.He(this.Ke[l++],r[i]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function pM(n){var e,t;if(pt(n instanceof tn||n instanceof In),n instanceof tn){if(n instanceof IE){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>tn.create(n.field,"==",l)))||[];return In.create(i,"or")}return n}const r=n.filters.map(i=>pM(i));return In.create(r,n.op)}function jN(n){if(0===n.getFilters().length)return[];const e=k1(pM(n));return pt(gM(e)),P1(e)||O1(e)?[e]:e.getFilters()}function P1(n){return n instanceof tn}function O1(n){return n instanceof In&&I0(n)}function gM(n){return P1(n)||O1(n)||function(e){if(e instanceof In&&vE(e)){for(const t of e.getFilters())if(!P1(t)&&!O1(t))return!1;return!0}return!1}(n)}function k1(n){if(pt(n instanceof tn||n instanceof In),n instanceof tn)return n;if(1===n.filters.length)return k1(n.filters[0]);const e=n.filters.map(r=>k1(r));let t=In.create(e,n.op);return t=ZE(t),gM(t)?t:(pt(t instanceof In),pt(jp(t)),pt(t.filters.length>1),t.filters.reduce((r,i)=>N1(r,i)))}function N1(n,e){let t;return pt(n instanceof tn||n instanceof In),pt(e instanceof tn||e instanceof In),t=n instanceof tn?e instanceof tn?In.create([n,e],"and"):mM(n,e):e instanceof tn?mM(e,n):function(r,i){if(pt(r.filters.length>0&&i.filters.length>0),jp(r)&&jp(i))return wE(r,i.getFilters());const l=vE(r)?r:i,u=vE(r)?i:r,p=l.filters.map(y=>N1(y,u));return In.create(p,"or")}(n,e),ZE(t)}function mM(n,e){if(jp(e))return wE(e,n.getFilters());{const t=e.filters.map(r=>N1(n,r));return In.create(t,"or")}}function ZE(n){if(pt(n instanceof tn||n instanceof In),n instanceof tn)return n;const e=n.getFilters();if(1===e.length)return ZE(e[0]);if(bE(n))return n;const t=e.map(i=>ZE(i)),r=[];return t.forEach(i=>{i instanceof tn?r.push(i):i instanceof In&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:In.create(r,n.op)}class HN{constructor(){this.Je=new R1}addToCollectionParentIndex(e,t){return this.Je.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(bo.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(bo.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class R1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new vn(Kt.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vn(Kt.comparator)).toArray()}}const zE=new Uint8Array(0);class $N{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new R1,this.Xe=new al(r=>Ri(r),(r,i)=>Ko(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const l={collectionId:r,parent:Eo(i)};return yM(e).put(l)}return oe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[lE(t),""],!1,!0);return yM(e).W(i).next(l=>{for(const u of l){if(u.collectionId!==t)break;r.push(Tc(u.parent))}return r})}addFieldIndex(e,t){const r=qE(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var u;delete i.indexId;const l=r.add(i);if(t.indexState){const u=z0(e);return l.next(p=>{u.put(cM(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=qE(e),i=z0(e),l=Z0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Z0(e);let i=!0;const l=new Map;return oe.forEach(this.Ze(t),u=>this.tn(e,u).next(p=>{i&&(i=!!p),l.set(u,p)})).next(()=>{if(i){let u=zt();const p=[];return oe.forEach(l,(y,C)=>{var T;Re("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(ft=>`${ft.fieldPath}:${ft.kind}`).join(",")}`} to execute ${Ri(t)}`);const A=function(ft,st){const Ct=ly(st);if(void 0===Ct)return null;for(const Nt of Rh(ft,Ct.fieldPath))switch(Nt.op){case"array-contains-any":return Nt.value.arrayValue.values||[];case"array-contains":return[Nt.value]}return null}(C,y),L=function(ft,st){const Ct=new Map;for(const Nt of rl(st))for(const dn of Rh(ft,Nt.fieldPath))switch(dn.op){case"==":case"in":Ct.set(Nt.fieldPath.canonicalString(),dn.value);break;case"not-in":case"!=":return Ct.set(Nt.fieldPath.canonicalString(),dn.value),Array.from(Ct.values())}return null}(C,y),B=function(ft,st){const Ct=[];let Nt=!0;for(const dn of rl(st)){const So=0===dn.kind?M0(ft,dn.fieldPath,ft.startAt):DE(ft,dn.fieldPath,ft.startAt);Ct.push(So.value),Nt&&(Nt=So.inclusive)}return new bc(Ct,Nt)}(C,y),Z=function(ft,st){const Ct=[];let Nt=!0;for(const dn of rl(st)){const So=0===dn.kind?DE(ft,dn.fieldPath,ft.endAt):M0(ft,dn.fieldPath,ft.endAt);Ct.push(So.value),Nt&&(Nt=So.inclusive)}return new bc(Ct,Nt)}(C,y),se=this.en(y,C,B),Ce=this.en(y,C,Z),$e=this.nn(y,C,L),dt=this.sn(y.indexId,A,se,B.inclusive,Ce,Z.inclusive,$e);return oe.forEach(dt,ft=>r.J(ft,t.limit).next(st=>{st.forEach(Ct=>{const Nt=We.fromSegments(Ct.documentKey);u.has(Nt)||(u=u.add(Nt),p.push(Nt))})}))}).next(()=>p)}return oe.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:jN(In.create(e.filters,"and")).map(r=>Hp(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,l,u,p){const y=(null!=t?t.length:1)*Math.max(r.length,l.length),C=y/(null!=t?t.length:1),T=[];for(let A=0;A<y;++A){const L=t?this.rn(t[A/C]):zE,B=this.on(e,L,r[A%C],i),Z=this.un(e,L,l[A%C],u),se=p.map(Ce=>this.on(e,L,Ce,!0));T.push(...this.createRange(B,Z,se))}return T}on(e,t,r,i){const l=new ig(e,We.empty(),t,r);return i?l:l.Ue()}un(e,t,r,i){const l=new ig(e,We.empty(),t,r);return i?l.Ue():l}tn(e,t){const r=new BN(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let u=null;for(const p of l)r.je(p)&&(!u||p.fields.length>u.fields.length)&&(u=p);return u})}getIndexType(e,t){let r=2;const i=this.Ze(t);return oe.forEach(i,l=>this.tn(e,l).next(u=>{u?0!==r&&u.fields.length<function(p){let y=new vn(ir.comparator),C=!1;for(const T of p.filters)for(const A of T.getFlattenedFilters())A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?C=!0:y=y.add(A.field));for(const T of p.orderBy)T.field.isKeyField()||(y=y.add(T.field));return y.size+(C?1:0)}(l)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new $0;for(const i of rl(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const u=r.qe(i.kind);rg.Ie.ue(l,u)}return r.Fe()}rn(e){const t=new $0;return rg.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new $0;return rg.Ie.ue(Mh(this.databaseId,t),r.qe(function(i){const l=rl(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new $0);let l=0;for(const u of rl(e)){const p=r[l++];for(const y of i)if(this.hn(t,u.fieldPath)&&py(p))i=this.ln(i,u,p);else{const C=y.qe(u.kind);rg.Ie.ue(p,C)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],l=[];for(const u of r.arrayValue.values||[])for(const p of i){const y=new $0;y.seed(p.Fe()),rg.Ie.ue(u,y.qe(t.kind)),l.push(y)}return l}hn(e,t){return!!e.filters.find(r=>r instanceof tn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=qE(e),i=z0(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const u=[];return oe.forEach(l,p=>i.get([p.indexId,this.uid]).next(y=>{u.push(function(C,T){const A=T?new Np(T.sequenceNumber,new bo(tg(T.readTime),new We(Tc(T.documentKey)),T.largestBatchId)):Np.empty(),L=C.fields.map(([B,Z])=>new cy(ir.fromServerFormat(B),Z));return new g0(C.indexId,C.collectionGroup,L,A)}(p,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Ut(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=qE(e),l=z0(e);return this.dn(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>oe.forEach(p,y=>l.put(cM(y.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return oe.forEach(t,(i,l)=>{const u=r.get(i.collectionGroup);return(u?oe.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),oe.forEach(p,y=>this._n(e,i,y).next(C=>{const T=this.wn(l,y);return C.isEqual(T)?oe.resolve():this.mn(e,l,y,C,T)}))))})}gn(e,t,r,i){return Z0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return Z0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=Z0(e);let l=new vn(Bh);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(u,p)=>{l=l.add(new ig(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>l)}wn(e,t){let r=new vn(Bh);const i=this.cn(t,e);if(null==i)return r;const l=ly(t);if(null!=l){const u=e.data.field(l.fieldPath);if(py(u))for(const p of u.arrayValue.values||[])r=r.add(new ig(t.indexId,e.key,this.rn(p),i))}else r=r.add(new ig(t.indexId,e.key,zE,i));return r}mn(e,t,r,i,l){Re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(p,y,C,T,A){const L=p.getIterator(),B=y.getIterator();let Z=Nh(L),se=Nh(B);for(;Z||se;){let Ce=!1,$e=!1;if(Z&&se){const dt=C(Z,se);dt<0?$e=!0:dt>0&&(Ce=!0)}else null!=Z?$e=!0:Ce=!0;Ce?(T(se),se=Nh(B)):$e?(A(Z),Z=Nh(L)):(Z=Nh(L),se=Nh(B))}}(i,l,Bh,p=>{u.push(this.gn(e,t,r,p))},p=>{u.push(this.yn(e,t,r,p))}),oe.waitFor(u)}dn(e){let t=1;return z0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,p)=>Bh(u,p)).filter((u,p,y)=>!p||0!==Bh(u,y[p-1]));const i=[];i.push(e);for(const u of r){const p=Bh(u,e),y=Bh(u,t);if(0===p)i[0]=e.Ue();else if(p>0&&y<0)i.push(u),i.push(u.Ue());else if(y>0)break}i.push(t);const l=[];for(let u=0;u<i.length;u+=2){if(this.pn(i[u],i[u+1]))return[];l.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,zE,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,zE,[]]))}return l}pn(e,t){return Bh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(_M)}getMinOffset(e,t){return oe.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||nt())).next(_M)}}function yM(n){return yi(n,"collectionParents")}function Z0(n){return yi(n,"indexEntries")}function qE(n){return yi(n,"indexConfiguration")}function z0(n){return yi(n,"indexState")}function _M(n){pt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;_0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new bo(e.readTime,e.documentKey,t)}const vM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Qo(e,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bM(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],u=IDBKeyRange.only(t.batchId);let p=0;const y=r.Z({range:u},(T,A,L)=>(p++,L.delete()));l.push(y.next(()=>{pt(1===p)}));const C=[];for(const T of t.mutations){const A=tM(e,T.key.path,t.batchId);l.push(i.delete(A)),C.push(T.key)}return oe.waitFor(l).next(()=>C)}function GE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw nt();e=n.noDocument}return JSON.stringify(e).length}Qo.DEFAULT_COLLECTION_PERCENTILE=10,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qo.DEFAULT=new Qo(41943040,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qo.DISABLED=new Qo(-1,0,0);class WE{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){pt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new WE(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jh(e).Z({index:"userMutationsIndex",range:r},(i,l,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=Dy(e),u=jh(e);return u.add({}).next(p=>{pt("number"==typeof p);const y=new D1(p,t,r,i),C=function(L,B,Z){const se=Z.baseMutations.map($e=>Le(L.ie,$e)),Ce=Z.mutations.map($e=>Le(L.ie,$e));return{userId:B,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:se,mutations:Ce}}(this.yt,this.userId,y),T=[];let A=new vn((L,B)=>Ut(L.canonicalString(),B.canonicalString()));for(const L of i){const B=tM(this.userId,L.key.path,p);A=A.add(L.key.path.popLast()),T.push(u.put(C)),T.push(l.put(B,yN))}return A.forEach(L=>{T.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.In[p]=y.keys()}),oe.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return jh(e).get(t).next(r=>r?(pt(r.userId===this.userId),ng(this.yt,r)):null)}Tn(e,t){return this.In[t]?oe.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return jh(e).Z({index:"userMutationsIndex",range:i},(u,p,y)=>{p.userId===this.userId&&(pt(p.batchId>=r),l=ng(this.yt,p)),y.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return jh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,u)=>{r=l.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jh(e).W("userMutationsIndex",t).next(r=>r.map(i=>ng(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=jE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return Dy(e).Z({range:i},(u,p,y)=>{const[C,T,A]=u,L=Tc(T);if(C===this.userId&&t.path.isEqual(L))return jh(e).get(A).next(B=>{if(!B)throw nt();pt(B.userId===this.userId),l.push(ng(this.yt,B))});y.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vn(Ut);const i=[];return t.forEach(l=>{const u=jE(this.userId,l.path),p=IDBKeyRange.lowerBound(u),y=Dy(e).Z({range:p},(C,T,A)=>{const[L,B,Z]=C,se=Tc(B);L===this.userId&&l.path.isEqual(se)?r=r.add(Z):A.done()});i.push(y)}),oe.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=jE(this.userId,r),u=IDBKeyRange.lowerBound(l);let p=new vn(Ut);return Dy(e).Z({range:u},(y,C,T)=>{const[A,L,B]=y,Z=Tc(L);A===this.userId&&r.isPrefixOf(Z)?Z.length===i&&(p=p.add(B)):T.done()}).next(()=>this.En(e,p))}En(e,t){const r=[],i=[];return t.forEach(l=>{i.push(jh(e).get(l).next(u=>{if(null===u)throw nt();pt(u.userId===this.userId),r.push(ng(this.yt,u))}))}),oe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return bM(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),oe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Dy(e).Z({range:r},(l,u,p)=>{if(l[0]===this.userId){const y=Tc(l[1]);i.push(y)}else p.done()}).next(()=>{pt(0===i.length)})})}containsKey(e,t){return wM(e,this.userId,t)}Rn(e){return CM(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wM(n,e,t){const r=jE(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let u=!1;return Dy(n).Z({range:l,X:!0},(p,y,C)=>{const[T,A,L]=p;T===e&&A===i&&(u=!0),C.done()}).next(()=>u)}function jh(n){return yi(n,"mutations")}function Dy(n){return yi(n,"documentMutations")}function CM(n){return yi(n,"mutationQueues")}class og{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new og(0)}static vn(){return new og(-1)}}class ZN{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new og(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>wt.fromTimestamp(new Fn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>xy(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(pt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return xy(e).Z((u,p)=>{const y=j0(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,l.push(this.removeTargetData(e,y)))}).next(()=>oe.waitFor(l)).next(()=>i)}forEachTarget(e,t){return xy(e).Z((r,i)=>{const l=j0(i);t(l)})}Vn(e){return EM(e).get("targetGlobalKey").next(t=>(pt(null!==t),t))}Sn(e,t){return EM(e).put("targetGlobalKey",t)}Dn(e,t){return xy(e).put(aM(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ri(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return xy(e).Z({range:i,index:"queryTargetsIndex"},(u,p,y)=>{const C=j0(p);Ko(t,C.target)&&(l=C,y.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Hh(e);return t.forEach(u=>{const p=Eo(u.path);i.push(l.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,u))}),oe.waitFor(i)}removeMatchingKeys(e,t,r){const i=Hh(e);return oe.forEach(t,l=>{const u=Eo(l.path);return oe.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Hh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Hh(e);let l=zt();return i.Z({range:r,X:!0},(u,p,y)=>{const C=Tc(u[1]),T=new We(C);l=l.add(T)}).next(()=>l)}containsKey(e,t){const r=Eo(t.path),i=IDBKeyRange.bound([r],[lE(r)],!1,!0);let l=0;return Hh(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,p],y,C)=>{0!==u&&(l++,C.done())}).next(()=>l>0)}ne(e,t){return xy(e).get(t).next(r=>r?j0(r):null)}}function xy(n){return yi(n,"targets")}function EM(n){return yi(n,"targetGlobal")}function Hh(n){return yi(n,"targetDocuments")}function IM([n,e],[t,r]){const i=Ut(n,t);return 0===i?Ut(e,r):i}class zN{constructor(e){this.xn=e,this.buffer=new vn(IM),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();IM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ae.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){wo(r)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield il(r)}yield t.Fn(3e5)}))}}class GN{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return oe.resolve(Co.at);const r=new zN(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(vM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vM):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,l,u,p,y,C;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,u=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,p=Date.now(),this.removeTargets(e,r,t))).next(A=>(l=A,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(C=Date.now(),Ih()<=el.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${i} in `+(p-u)+`ms\n\tRemoved ${l} targets in `+(y-p)+`ms\n\tRemoved ${A} documents in `+(C-y)+`ms\nTotal Duration: ${C-T}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:A})))}}class WN{constructor(e,t){this.db=e,this.garbageCollector=new GN(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return KE(e,r)}removeReference(e,t,r){return KE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return KE(e,t)}Gn(e,t){return function(r,i){let l=!1;return CM(r).tt(u=>wM(r,u,i).next(p=>(p&&(l=!0),oe.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Kn(e,(u,p)=>{if(p<=t){const y=this.Gn(e,u).next(C=>{if(!C)return l++,r.getEntry(e,u).next(()=>(r.removeEntry(u,wt.min()),Hh(e).delete([0,Eo(u.path)])))});i.push(y)}}).next(()=>oe.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return KE(e,t)}Kn(e,t){const r=Hh(e);let i,l=Co.at;return r.Z({index:"documentTargetsIndex"},([u,p],{path:y,sequenceNumber:C})=>{0===u?(l!==Co.at&&t(new We(Tc(i)),l),l=C,i=y):l=Co.at}).next(()=>{l!==Co.at&&t(new We(Tc(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function KE(n,e){return Hh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Eo(e.path),sequenceNumber:r}));var r}class TM{constructor(){this.changes=new al(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KN{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sg(e).put(r)}removeEntry(e,t,r){return sg(e).delete(function(i,l){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],HE(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Pn.newInvalidDocument(t);return sg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(q0(t))},(i,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:Pn.newInvalidDocument(t)};return sg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(q0(t))},(i,l)=>{r={document:this.jn(t,l),size:GE(l)}}).next(()=>r)}getEntries(e,t){let r=Li();return this.zn(e,t,(i,l)=>{const u=this.jn(i,l);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=Li(),i=new or(We.comparator);return this.zn(e,t,(l,u)=>{const p=this.jn(l,u);r=r.insert(l,p),i=i.insert(l,GE(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return oe.resolve();let i=new vn(AM);t.forEach(y=>i=i.add(y));const l=IDBKeyRange.bound(q0(i.first()),q0(i.last())),u=i.getIterator();let p=u.getNext();return sg(e).Z({index:"documentKeyIndex",range:l},(y,C,T)=>{const A=We.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;p&&AM(p,A)<0;)r(p,null),p=u.getNext();p&&p.isEqual(A)&&(r(p,C),p=u.hasNext()?u.getNext():null),p?T.j(q0(p)):T.done()}).next(()=>{for(;p;)r(p,null),p=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),HE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sg(e).W(IDBKeyRange.bound(u,p,!0)).next(y=>{let C=Li();for(const T of y){const A=this.jn(We.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);A.isFoundDocument()&&(Lh(t,A)||i.has(A.key))&&(C=C.insert(A.key,A))}return C})}getAllFromCollectionGroup(e,t,r,i){let l=Li();const u=SM(t,r),p=SM(t,bo.max());return sg(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,p,!0)},(y,C,T)=>{const A=this.jn(We.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);l=l.insert(A.key,A),l.size===i&&T.done()}).next(()=>l)}newChangeBuffer(e){return new YN(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return xM(e).get("remoteDocumentGlobalKey").next(t=>(pt(!!t),t))}Qn(e,t){return xM(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function NN(n,e){let t;if(e.document)t=q(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=We.fromSegments(e.noDocument.path),i=tg(e.noDocument.readTime);t=Pn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return nt();{const r=We.fromSegments(e.unknownDocument.path),i=tg(e.unknownDocument.version);t=Pn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Fn(r[0],r[1]);return wt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(wt.min()))return r}return Pn.newInvalidDocument(e)}}function DM(n){return new KN(n)}class YN extends TM{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new al(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new vn((l,u)=>Ut(l.canonicalString(),u.canonicalString()));return this.changes.forEach((l,u)=>{const p=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,p.readTime)),u.isValidDocument()){const y=sM(this.Yn.yt,u);i=i.add(l.path.popLast());const C=GE(y);r+=C-p.size,t.push(this.Yn.addEntry(e,l,y))}else if(r-=p.size,this.trackRemovals){const y=sM(this.Yn.yt,u.convertToNoDocument(wt.min()));t.push(this.Yn.addEntry(e,l,y))}}),i.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),oe.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((l,u)=>{this.Xn.set(l,{size:u,readTime:r.get(l).readTime})}),r))}}function xM(n){return yi(n,"remoteDocumentGlobal")}function sg(n){return yi(n,"remoteDocumentsV14")}function q0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function SM(n,e){const t=e.documentKey.path.toArray();return[n,HE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function AM(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Ut(t[l],r[l]),i)return i;return i=Ut(t.length,r.length),i||(i=Ut(t[t.length-2],r[r.length-2]),i||Ut(t[t.length-1],r[r.length-1]))}class QN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class MM{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Vu(r.mutation,i,Ni.empty(),Fn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=zt()){const i=Yo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let u=Yp();return l.forEach((p,y)=>{u=u.insert(p,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,zt()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((u,p)=>{t.set(u,p)})})}computeViews(e,t,r,i){let l=Li();const u=Uh(),p=Uh();return t.forEach((y,C)=>{const T=r.get(C.key);i.has(C.key)&&(void 0===T||T.mutation instanceof Ms)?l=l.insert(C.key,C):void 0!==T?(u.set(C.key,T.mutation.getFieldMask()),Vu(T.mutation,C,T.mutation.getFieldMask(),Fn.now())):u.set(C.key,Ni.empty())}),this.recalculateAndSaveOverlays(e,l).next(y=>(y.forEach((C,T)=>u.set(C,T)),t.forEach((C,T)=>{var A;return p.set(C,new QN(T,null!==(A=u.get(C))&&void 0!==A?A:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Uh();let i=new or((u,p)=>u-p),l=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const p of u)p.keys().forEach(y=>{const C=t.get(y);if(null===C)return;let T=r.get(y)||Ni.empty();T=p.applyToLocalView(C,T),r.set(y,T);const A=(i.get(p.batchId)||zt()).add(y);i=i.insert(p.batchId,A)})}).next(()=>{const u=[],p=i.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),C=y.key,T=y.value,A=v1();T.forEach(L=>{if(!l.has(L)){const B=Ec(t.get(L),r.get(L));null!==B&&A.set(L,B),l=l.add(L)}}),u.push(this.documentOverlayCache.saveOverlays(e,C,A))}return oe.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return We.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):AE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const u=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):oe.resolve(Yo());let p=-1,y=l;return u.next(C=>oe.forEach(C,(T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),l.get(T)?oe.resolve():this.remoteDocumentCache.getEntry(e,T).next(L=>{y=y.insert(T,L)}))).next(()=>this.populateOverlays(e,C,l)).next(()=>this.computeViews(e,y,C,zt())).next(T=>({batchId:p,changes:U0(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new We(t)).next(r=>{let i=Yp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=Yp();return this.indexManager.getCollectionParents(e,i).next(u=>oe.forEach(u,p=>{const y=(C=t,T=p.child(i),new wc(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(C=>{C.forEach((T,A)=>{l=l.insert(T,A)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(l=>{i.forEach((p,y)=>{const C=y.getKey();null===l.get(C)&&(l=l.insert(C,Pn.newInvalidDocument(C)))});let u=Yp();return l.forEach((p,y)=>{const C=i.get(p);void 0!==C&&Vu(C.mutation,y,Ni.empty(),Fn.now()),Lh(t,y)&&(u=u.insert(p,y))}),u})}}class JN{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return oe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:c(r.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:A1(r.bundledQuery),readTime:c(r.readTime)}),oe.resolve();var r}}class XN{constructor(){this.overlays=new or(We.comparator),this.es=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Yo();return oe.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.oe(e,t,l)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const i=Yo(),l=t.length+1,u=new We(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const y=p.getNext().value,C=y.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===l&&y.largestBatchId>r&&i.set(y.getKey(),y)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new or((C,T)=>C-T);const u=this.overlays.getIterator();for(;u.hasNext();){const C=u.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let T=l.get(C.largestBatchId);null===T&&(T=Yo(),l=l.insert(C.largestBatchId,T)),T.set(C.getKey(),C)}}const p=Yo(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((C,T)=>p.set(C,T)),!(p.size()>=i)););return oe.resolve(p)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new S1(t,r));let l=this.es.get(t);void 0===l&&(l=zt(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class F1{constructor(){this.ns=new vn(_i.ss),this.rs=new vn(_i.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new _i(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new _i(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new We(new Kt([])),r=new _i(t,e),i=new _i(t,e+1),l=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),l.push(u.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new We(new Kt([])),r=new _i(t,e),i=new _i(t,e+1);let l=zt();return this.rs.forEachInRange([r,i],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new _i(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class _i{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return We.comparator(e.key,t.key)||Ut(e._s,t._s)}static os(e,t){return Ut(e._s,t._s)||We.comparator(e.key,t.key)}}class eR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new vn(_i.ss)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const u=new D1(l,t,r,i);this.mutationQueue.push(u);for(const p of i)this.gs=this.gs.add(new _i(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,t){return oe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),l=i<0?0:i;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new _i(t,0),i=new _i(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,i],u=>{const p=this.ys(u._s);l.push(p)}),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vn(Ut);return t.forEach(i=>{const l=new _i(i,0),u=new _i(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,u],p=>{r=r.add(p._s)})}),oe.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;We.isDocumentKey(l)||(l=l.child(""));const u=new _i(new We(l),0);let p=new vn(Ut);return this.gs.forEachWhile(y=>{const C=y.key.path;return!!r.isPrefixOf(C)&&(C.length===i&&(p=p.add(y._s)),!0)},u),oe.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){pt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return oe.forEach(t.mutations,i=>{const l=new _i(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new _i(t,0),i=this.gs.firstAfterOrEqual(r);return oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return oe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tR{constructor(e){this.Es=e,this.docs=new or(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let r=Li();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Pn.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let l=Li();const u=t.path,p=new We(u.child("")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:C,value:{document:T}}=y.getNext();if(!u.isPrefixOf(C.path))break;C.path.length>u.length+1||_0(cE(T),r)<=0||(i.has(T.key)||Lh(t,T))&&(l=l.insert(T.key,T.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,t,r,i){nt()}As(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new nR(this)}getSize(e){return oe.resolve(this.size)}}class nR extends TM{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class rR{constructor(e){this.persistence=e,this.Rs=new al(t=>Ri(t),Ko),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new F1,this.targetCount=0,this.vs=og.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),oe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new og(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Dn(t),oe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Rs.forEach((u,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(u),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),oe.waitFor(l).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(u=>{l.push(i.markPotentiallyOrphaned(e,u))}),oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.Ps.containsKey(t))}}class PM{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Co(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new rR(this),this.indexManager=new HN,this.remoteDocumentCache=new tR(r=>this.referenceDelegate.xs(r)),this.yt=new oM(t),this.Ns=new JN(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new eR(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const i=new iR(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(l=>this.referenceDelegate.Os(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ms(e,t){return oe.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class iR extends v0{constructor(e){super(),this.currentSequenceNumber=e}}class YE{constructor(e){this.persistence=e,this.Fs=new F1,this.$s=null}static Bs(e){return new YE(e)}get Ls(){if(this.$s)return this.$s;throw nt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ls,r=>{const i=We.fromPath(r);return this.qs(e,i).next(l=>{l||t.removeEntry(i,wt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return oe.or([()=>oe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class oR{constructor(e){this.yt=e}$(e,t,r,i){const l=new b0("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eM,{unique:!0}),p.createObjectStore("documentMutations"),OM(e),function(p){p.createObjectStore("remoteDocuments")}(e));let u=oe.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),OM(e)),u=u.next(()=>function(p){const y=p.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",C)}(l))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(p,y){return y.store("mutations").W().next(C=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eM,{unique:!0});const T=y.store("mutations"),A=C.map(L=>T.put(L));return oe.waitFor(A)})}(e,l))),u=u.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Us(l))),r<6&&i>=6&&(u=u.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(l))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,l))),r<9&&i>=9&&(u=u.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(l))),r<11&&i>=11&&(u=u.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:AN});y.createIndex("collectionPathOverlayIndex",MN,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",PN,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:_N});y.createIndex("documentKeyIndex",vN),y.createIndex("collectionGroupIndex",bN)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,l))),r<15&&i>=15&&(u=u.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:TN}).createIndex("sequenceNumberIndex",DN,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:xN}).createIndex("documentKeyIndex",SN,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=GE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>oe.forEach(i,l=>{const u=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(p=>oe.forEach(p,y=>{pt(y.userId===l.userId);const C=ng(this.yt,y);return bM(e,l.userId,C).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((u,p)=>{const y=new Kt(u),C=[0,Eo(y)];l.push(t.get(C).next(T=>T?oe.resolve():t.put({targetId:0,path:Eo(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>oe.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:IN});const r=t.store("collectionParents"),i=new R1,l=u=>{if(i.add(u)){const p=u.lastSegment(),y=u.popLast();return r.put({collectionId:p,parent:Eo(y)})}};return t.store("remoteDocuments").Z({X:!0},(u,p)=>{const y=new Kt(u);return l(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,p,y],C)=>{const T=Tc(p);return l(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const l=j0(i),u=aM(this.yt,l);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,u)=>{const p=t.store("remoteDocumentsV14"),y=(C=u,C.document?new We(Kt.fromString(C.document.name).popFirst(5)):C.noDocument?We.fromSegments(C.noDocument.path):C.unknownDocument?We.fromSegments(C.unknownDocument.path):nt()).path.toArray();var C;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(p.put(T))}).next(()=>oe.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=DM(this.yt),l=new PM(YE.Bs,this.yt.ie);return r.W().next(u=>{const p=new Map;return u.forEach(y=>{var C;let T=null!==(C=p.get(y.userId))&&void 0!==C?C:zt();ng(this.yt,y).keys().forEach(A=>T=T.add(A)),p.set(y.userId,T)}),oe.forEach(p,(y,C)=>{const T=new zr(C),A=$E.re(this.yt,T),L=l.getIndexManager(T),B=WE.re(T,this.yt,L,l.referenceDelegate);return new MM(i,B,A,L).recalculateAndSaveOverlaysForDocumentKeys(new T1(t,Co.at),y).next()})})}}function OM(n){n.createObjectStore("targetDocuments",{keyPath:CN}).createIndex("documentTargetsIndex",EN,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wN,{unique:!0}),n.createObjectStore("targetGlobal")}const L1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class U1{constructor(e,t,r,i,l,u,p,y,C,T,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=u,this.document=p,this.Js=C,this.Ys=T,this.Xs=A,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=L=>Promise.resolve(),!U1.C())throw new Ae(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WN(this,i),this.ii=t+"main",this.yt=new oM(y),this.ri=new Go(this.ii,this.Xs,new oR(this.yt)),this.Cs=new ZN(this.referenceDelegate,this.yt),this.remoteDocumentCache=DM(this.yt),this.Ns=new RN,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(de.FAILED_PRECONDITION,L1);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Co(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ae.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ae.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ae.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>QE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(wo(e))return Re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return G0(e).get("owner").next(t=>oe.resolve(this.mi(t)))}gi(e){return QE(e).delete(this.clientId)}yi(){var e=this;return(0,ae.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=yi(r,"clientMetadata");return i.W().next(l=>{const u=e.Ii(l,18e5),p=l.filter(y=>-1===u.indexOf(y));return oe.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?oe.resolve(!0):G0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ae(de.FAILED_PRECONDITION,L1);return!1}}return!(!this.networkEnabled||!this.inForeground)||QE(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ae.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new T1(t,Co.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>QE(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return WE.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $N(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return $E.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Re("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(u=this.Xs)?kN:14===u?iM:13===u?rM:12===u?ON:11===u?nM:void nt();var u;let p;return this.ri.runTransaction(e,i,l,y=>(p=new T1(y,this.Ss?this.Ss.next():Co.at),"readwrite-primary"===t?this.fi(p).next(C=>!!C||this.di(p)).next(C=>{if(!C)throw fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ae(de.FAILED_PRECONDITION,uy);return r(p)}).next(C=>this.wi(p).next(()=>C)):this.Vi(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Vi(e){return G0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(de.FAILED_PRECONDITION,L1)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return G0(e).put("owner",t)}static C(){return Go.C()}_i(e){const t=G0(e);return t.get("owner").next(r=>this.mi(r)?(Re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oe.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(fr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,pn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){fr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function G0(n){return yi(n,"owner")}function QE(n){return yi(n,"clientMetadata")}function V1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class B1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=zt(),i=zt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new B1(e,t.fromCache,r,i)}}class kM{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(l=>l||this.Oi(e,t,i,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(SE(t))return oe.resolve(null);let r=Fi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=O0(t,null,"F"),r=Fi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=zt(...l);return this.Ni.getDocuments(e,u).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const C=this.Fi(t,p);return this.$i(t,C,u,y.readTime)?this.ki(e,O0(t,null,"F")):this.Bi(e,C,t,y)}))})))}Oi(e,t,r,i){return SE(t)||i.isEqual(wt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const u=this.Fi(t,l);return this.$i(t,u,r,i)?this.Mi(e,t):(Ih()<=el.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yy(t)),this.Bi(e,u,t,y0(i,-1)))})}Fi(e,t){let r=new vn(R0(e));return t.forEach((i,l)=>{Lh(e,l)&&(r=r.add(l))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Mi(e,t){return Ih()<=el.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",yy(t)),this.Ni.getDocumentsMatchingQuery(e,t,bo.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}class sR{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new or(Ut),this.Ui=new al(l=>Ri(l),Ko),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MM(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function NM(n,e,t,r){return new sR(n,e,t,r)}function RM(n,e){return j1.apply(this,arguments)}function j1(){return j1=(0,ae.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],p=[];let y=zt();for(const C of i){u.push(C.batchId);for(const T of C.mutations)y=y.add(T.key)}for(const C of l){p.push(C.batchId);for(const T of C.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(C=>({ji:C,removedBatchIds:u,addedBatchIds:p}))})})}),j1.apply(this,arguments)}function FM(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function LM(n,e,t){let r=zt(),i=zt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let u=Li();return t.forEach((p,y)=>{const C=l.get(p);y.isFoundDocument()!==C.isFoundDocument()&&(i=i.add(p)),y.isNoDocument()&&y.version.isEqual(wt.min())?(e.removeEntry(p,y.readTime),u=u.insert(p,y)):!C.isValidDocument()||y.version.compareTo(C.version)>0||0===y.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(y),u=u.insert(p,y)):Re("LocalStore","Ignoring outdated watch update for ",p,". Current version:",C.version," Watch version:",y.version)}),{Wi:u,zi:i}})}function cR(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Sy(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(l=>l?(i=l,oe.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new Vh(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Ay(n,e,t){return H1.apply(this,arguments)}function H1(){return H1=(0,ae.Z)(function*(n,e,t){const r=qe(n),i=r.qi.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!wo(u))throw u;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),H1.apply(this,arguments)}function JE(n,e,t){const r=qe(n);let i=wt.min(),l=zt();return r.persistence.runTransaction("Execute query","readonly",u=>function(p,y,C){const T=qe(p),A=T.Ui.get(C);return void 0!==A?oe.resolve(T.qi.get(A)):T.Cs.getTargetData(y,C)}(r,u,Fi(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,p.targetId).next(y=>{l=y})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:wt.min(),t?l:zt())).next(p=>(BM(r,N0(e),p),{documents:p,Hi:l})))}function UM(n,e){const t=qe(n),r=qe(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.ne(l,e).next(u=>u?u.target:null))}function VM(n,e){const t=qe(n),r=t.Ki.get(e)||wt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,y0(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(BM(t,e,i),i))}function BM(n,e,t){let r=n.Ki.get(e)||wt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function $1(){return $1=(0,ae.Z)(function*(n,e,t,r){const i=qe(n);let l=zt(),u=Li();for(const C of t){const T=e.Ji(C.metadata.name);C.document&&(l=l.add(T));const A=e.Yi(C);A.setReadTime(e.Xi(C.metadata.readTime)),u=u.insert(T,A)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield Sy(i,(C=r,Fi(Fh(Kt.fromString(`__bundle__/docs/${C}`)))));var C;return i.persistence.runTransaction("Apply bundle documents","readwrite",C=>LM(C,p,u).next(T=>(p.apply(C),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(C,y.targetId).next(()=>i.Cs.addMatchingKeys(C,l,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(C,T.Wi,T.zi)).next(()=>T.Wi)))}),$1.apply(this,arguments)}function dR(n,e){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,ae.Z)(function*(n,e,t=zt()){const r=yield Sy(n,Fi(A1(e.bundledQuery))),i=qe(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const u=c(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(l,e);const p=r.withResumeToken(Cr.EMPTY_BYTE_STRING,u);return i.qi=i.qi.insert(p.targetId,p),i.Cs.updateTargetData(l,p).next(()=>i.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(l,e))})}),Z1.apply(this,arguments)}function jM(n,e){return`firestore_clients_${n}_${e}`}function HM(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function z1(n,e){return`firestore_targets_${n}_${e}`}class XE{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(l=new Ae(i.error.code,i.error.message))),u?new XE(e,t,i.state,l):(fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class W0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ae(r.error.code,r.error.message))),l?new W0(e,r.state,i):(fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=B0();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=hE(r.activeTargetIds[u]),l=l.add(r.activeTargetIds[u]);return i?new eI(e,l):(fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class q1{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new q1(t.clientId,t.onlineState):(fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class G1{constructor(){this.activeTargetIds=B0()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W1{constructor(e,t,r,i,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new or(Ut),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=jM(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new G1),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ae.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const l=e.getItem(jM(e.persistenceKey,i));if(l){const u=eI.Zi(i,l);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(z1(this.persistenceKey,e));if(r){const i=W0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(z1(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Re("SharedClientState","READ",e,t),t}setItem(e,t){Re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ae.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(l){let u=Co.at;if(null!=l)try{const p=JSON.parse(l);pt("number"==typeof p),u=p}catch(p){fr("SharedClientState","Failed to read sequence number from WebStorage",p)}return u}(r.newValue);i!==Co.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Mr(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new XE(this.currentUser,e,t,r),l=HM(this.persistenceKey,this.currentUser,e);this.setItem(l,i.tr())}Er(e){const t=HM(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=z1(this.persistenceKey,e),l=new W0(e,t,r);this.setItem(i,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return eI.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return XE.Zi(new zr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return W0.Zi(i,t)}yr(e){return q1.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),l=this.Ir(r),u=[],p=[];return l.forEach(y=>{i.has(y)||u.push(y)}),i.forEach(y=>{l.has(y)||p.push(y)}),this.syncEngine.Br(u,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=B0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class $M{constructor(){this.Lr=new G1,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new G1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hR{Ur(e){}shutdown(){}}class ZM{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const fR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pR{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class gR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,l){const u=this.ho(e,t);Re("RestConnection","Sending: ",u,r);const p={};return this.lo(p,i,l),this.fo(e,u,p,r).then(y=>(Re("RestConnection","Received: ",y),y),y=>{throw gc("RestConnection",`${e} failed with error: `,y,"url: ",u,"request:",r),y})}_o(e,t,r,i,l,u){return this.ao(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Eh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.oo}/v1/${t}:${fR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,u)=>{const p=new d0;p.setWithCredentials(!0),p.listenOnce(Op.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case u0.NO_ERROR:const C=p.getResponseJson();Re("Connection","XHR received:",JSON.stringify(C)),l(C);break;case u0.TIMEOUT:Re("Connection",'RPC "'+e+'" timed out'),u(new Ae(de.DEADLINE_EXCEEDED,"Request time out"));break;case u0.HTTP_ERROR:const T=p.getStatus();if(Re("Connection",'RPC "'+e+'" failed with status:',T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const L=A?.error;if(L&&L.status&&L.message){const B=function(Z){const se=Z.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(se)>=0?se:de.UNKNOWN}(L.status);u(new Ae(B,L.message))}else u(new Ae(de.UNKNOWN,"Server responded with status "+p.getStatus()))}else u(new Ae(de.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Re("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);p.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=qD(),u=GD(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new ha({})),this.lo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const y=i.join("");Re("Connection","Creating WebChannel: "+y,p);const C=l.createWebChannel(y,p);let T=!1,A=!1;const L=new pR({Hr:Z=>{A?Re("Connection","Not sending because WebChannel is closed:",Z):(T||(Re("Connection","Opening WebChannel transport."),C.open(),T=!0),Re("Connection","WebChannel sending:",Z),C.send(Z))},Jr:()=>C.close()}),B=(Z,se,Ce)=>{Z.listen(se,$e=>{try{Ce($e)}catch(dt){setTimeout(()=>{throw dt},0)}})};return B(C,oy.EventType.OPEN,()=>{A||Re("Connection","WebChannel transport opened.")}),B(C,oy.EventType.CLOSE,()=>{A||(A=!0,Re("Connection","WebChannel transport closed"),L.io())}),B(C,oy.EventType.ERROR,Z=>{A||(A=!0,gc("Connection","WebChannel transport errored:",Z),L.io(new Ae(de.UNAVAILABLE,"The operation could not be completed")))}),B(C,oy.EventType.MESSAGE,Z=>{var se;if(!A){const Ce=Z.data[0];pt(!!Ce);const dt=Ce.error||(null===(se=Ce[0])||void 0===se?void 0:se.error);if(dt){Re("Connection","WebChannel received error:",dt);const ft=dt.status;let st=function(Nt){const dn=Er[Nt];if(void 0!==dn)return LE(dn)}(ft),Ct=dt.message;void 0===st&&(st=de.INTERNAL,Ct="Unknown error status: "+ft+" with message "+dt.message),A=!0,L.io(new Ae(st,Ct)),C.close()}else Re("Connection","WebChannel received:",Ce),L.ro(Ce)}}),B(u,WD.STAT_EVENT,Z=>{Z.stat===iy.PROXY?Re("Connection","Detected buffering proxy"):Z.stat===iy.NOPROXY&&Re("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.so()},0),L}}function zM(){return typeof window<"u"?window:null}function tI(){return typeof document<"u"?document:null}function K0(n){return new KA(n,!0)}class K1{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class qM{constructor(e,t,r,i,l,u,p,y){this.Hs=e,this.vo=r,this.Vo=i,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new K1(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ae.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ae.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,ae.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(fr(t.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Ae(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ae.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mR extends qM{constructor(e,t,r,i,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.yt=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function be(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:nt(),i=e.targetChange.targetIds||[],l=function(y,C){return y.wt?(pt(void 0===C||"string"==typeof C),Cr.fromBase64String(C||"")):(pt(void 0===C||C instanceof Uint8Array),Cr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&function(y){const C=void 0===y.code?de.UNKNOWN:LE(y.code);return new Ae(C,y.message||"")}(u);t=new C1(r,i,l,p||null)}else if("documentChange"in e){const r=e.documentChange,i=_(n,r.document.name),l=c(r.document.updateTime),u=r.document.createTime?c(r.document.createTime):wt.min(),p=new qr({mapValue:{fields:r.document.fields}}),y=Pn.newFoundDocument(i,l,u,p);t=new Ey(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=_(n,r.document),l=r.readTime?c(r.readTime):wt.min(),u=Pn.newNoDocument(i,l);t=new Ey([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=_(n,r.document);t=new Ey([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return nt();{const r=e.filter,l=new RE(r.count||0);t=new w1(r.targetId,l)}}var y;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return wt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?wt.min():l.readTime?c(l.readTime):wt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=S(this.yt),t.addTarget=function(i,l){let u;const p=l.target;return u=$p(p)?{documents:xt(i,p)}:{query:Oe(i,p)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?u.resumeToken=o(i,l.resumeToken):l.snapshotVersion.compareTo(wt.min())>0&&(u.readTime=Xp(i,l.snapshotVersion.toTimestamp())),u}(this.yt,e);const r=function $n(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=S(this.yt),t.removeTarget=e,this.Bo(t)}}class yR extends qM{constructor(e,t,r,i,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.yt=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function ut(n,e){return n&&n.length>0?(pt(void 0!==e),n.map(t=>function(r,i){let l=c(r.updateTime?r.updateTime:i);return l.isEqual(wt.min())&&(l=c(i)),new wy(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=c(e.commitTime);return this.listener.Zo(r,t)}return pt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=S(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Le(this.yt,r))};this.Bo(t)}}class _R extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.ao(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(de.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection._o(e,t,r,l,u,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(de.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class bR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(fr(t),this.ou=!1):Re("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class wR{constructor(e,t,r,i,l){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.Ur(p=>{r.enqueueAndForget((0,ae.Z)(function*(){var y;Bu(u)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,ae.Z)(function*(C){const T=qe(C);T._u.add(4),yield My(T),T.gu.set("Unknown"),T._u.delete(4),yield Y0(T)}),function(C){return y.apply(this,arguments)})(u))}))}),this.gu=new bR(r,i)}}function Y0(n){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,ae.Z)(function*(n){if(Bu(n))for(const e of n.wu)yield e(!0)}),Q1.apply(this,arguments)}function My(n){return J1.apply(this,arguments)}function J1(){return J1=(0,ae.Z)(function*(n){for(const e of n.wu)yield e(!1)}),J1.apply(this,arguments)}function nI(n,e){const t=qe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),tx(t)?ex(t):Oy(t).ko()&&X1(t,e))}function Q0(n,e){const t=qe(n),r=Oy(t);t.du.delete(e),r.ko()&&GM(t,e),0===t.du.size&&(r.ko()?r.Fo():Bu(t)&&t.gu.set("Unknown"))}function X1(n,e){n.yu.Ot(e.targetId),Oy(n).zo(e)}function GM(n,e){n.yu.Ot(e),Oy(n).Ho(e)}function ex(n){n.yu=new zA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Oy(n).start(),n.gu.uu()}function tx(n){return Bu(n)&&!Oy(n).No()&&n.du.size>0}function Bu(n){return 0===qe(n)._u.size}function WM(n){n.yu=void 0}function CR(n){return nx.apply(this,arguments)}function nx(){return nx=(0,ae.Z)(function*(n){n.du.forEach((e,t)=>{X1(n,e)})}),nx.apply(this,arguments)}function ER(n,e){return rx.apply(this,arguments)}function rx(){return rx=(0,ae.Z)(function*(n,e){WM(n),tx(n)?(n.gu.hu(e),ex(n)):n.gu.set("Unknown")}),rx.apply(this,arguments)}function IR(n,e,t){return ix.apply(this,arguments)}function ix(){return ix=(0,ae.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof C1&&2===e.state&&e.cause)try{yield(r=(0,ae.Z)(function*(i,l){const u=l.cause;for(const p of l.targetIds)i.du.has(p)&&(yield i.remoteSyncer.rejectListen(p,u),i.du.delete(p),i.yu.removeTarget(p))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield rI(n,r)}else if(e instanceof Ey?n.yu.Kt(e):e instanceof w1?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(wt.min()))try{const r=yield FM(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const u=i.yu.Zt(l);return u.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const C=i.du.get(y);C&&i.du.set(y,C.withResumeToken(p.resumeToken,l))}}),u.targetMismatches.forEach(p=>{const y=i.du.get(p);if(!y)return;i.du.set(p,y.withResumeToken(Cr.EMPTY_BYTE_STRING,y.snapshotVersion)),GM(i,p);const C=new Vh(y.target,p,1,y.sequenceNumber);X1(i,C)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),yield rI(n,r)}var r}),ix.apply(this,arguments)}function rI(n,e,t){return ox.apply(this,arguments)}function ox(){return ox=(0,ae.Z)(function*(n,e,t){if(!wo(e))throw e;n._u.add(1),yield My(n),n.gu.set("Offline"),t||(t=()=>FM(n.localStore)),n.asyncQueue.enqueueRetryable((0,ae.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Y0(n)}))}),ox.apply(this,arguments)}function KM(n,e){return e().catch(t=>rI(n,t,e))}function Py(n){return sx.apply(this,arguments)}function sx(){return sx=(0,ae.Z)(function*(n){const e=qe(n),t=$h(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;TR(e);)try{const i=yield cR(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,DR(e,i)}catch(i){yield rI(e,i)}YM(e)&&QM(e)}),sx.apply(this,arguments)}function TR(n){return Bu(n)&&n.fu.length<10}function DR(n,e){n.fu.push(e);const t=$h(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function YM(n){return Bu(n)&&!$h(n).No()&&n.fu.length>0}function QM(n){$h(n).start()}function xR(n){return ax.apply(this,arguments)}function ax(){return ax=(0,ae.Z)(function*(n){$h(n).eu()}),ax.apply(this,arguments)}function SR(n){return lx.apply(this,arguments)}function lx(){return lx=(0,ae.Z)(function*(n){const e=$h(n);for(const t of n.fu)e.Xo(t.mutations)}),lx.apply(this,arguments)}function AR(n,e,t){return cx.apply(this,arguments)}function cx(){return cx=(0,ae.Z)(function*(n,e,t){const r=n.fu.shift(),i=x1.from(r,e,t);yield KM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Py(n)}),cx.apply(this,arguments)}function MR(n,e){return ux.apply(this,arguments)}function ux(){return ux=(0,ae.Z)(function*(n,e){var t;e&&$h(n).Yo&&(yield(t=(0,ae.Z)(function*(r,i){if(FE(l=i.code)&&l!==de.ABORTED){const u=r.fu.shift();$h(r).Mo(),yield KM(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Py(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),YM(n)&&QM(n)}),ux.apply(this,arguments)}function JM(n,e){return dx.apply(this,arguments)}function dx(){return dx=(0,ae.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=Bu(t);t._u.add(3),yield My(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Y0(t)}),dx.apply(this,arguments)}function hx(n,e){return fx.apply(this,arguments)}function fx(){return fx=(0,ae.Z)(function*(n,e){const t=qe(n);e?(t._u.delete(2),yield Y0(t)):e||(t._u.add(2),yield My(t),t.gu.set("Unknown"))}),fx.apply(this,arguments)}function Oy(n){return n.pu||(n.pu=function(e,t,r){const i=qe(e);return i.su(),new mR(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:CR.bind(null,n),Zr:ER.bind(null,n),Wo:IR.bind(null,n)}),n.wu.push(function(){var e=(0,ae.Z)(function*(t){t?(n.pu.Mo(),tx(n)?ex(n):n.gu.set("Unknown")):(yield n.pu.stop(),WM(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function $h(n){return n.Iu||(n.Iu=function(e,t,r){const i=qe(e);return i.su(),new yR(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:xR.bind(null,n),Zr:MR.bind(null,n),tu:SR.bind(null,n),Zo:AR.bind(null,n)}),n.wu.push(function(){var e=(0,ae.Z)(function*(t){t?(n.Iu.Mo(),yield Py(n)):(yield n.Iu.stop(),n.fu.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class px{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,l){const u=Date.now()+r,p=new px(e,t,u,i,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(n,e){if(fr("AsyncQueue",`${e}: ${n}`),wo(n))return new Ae(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Ny{constructor(e){this.comparator=e?(t,r)=>e(t,r)||We.comparator(t.key,r.key):(t,r)=>We.comparator(t.key,r.key),this.keyedMap=Yp(),this.sortedSet=new or(this.comparator)}static emptySet(e){return new Ny(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ny)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ny;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class XM{constructor(){this.Tu=new or(We.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):nt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ry{constructor(e,t,r,i,l,u,p,y,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,i,l){const u=[];return t.forEach(p=>{u.push({type:0,doc:p})}),new Ry(e,t,Ny.emptySet(t),u,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ru(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class PR{constructor(){this.Au=void 0,this.listeners=[]}}class OR{constructor(){this.queries=new al(e=>k0(e),Ru),this.onlineState="Unknown",this.Ru=new Set}}function gx(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,ae.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new PR),i)try{l.Au=yield t.onListen(r)}catch(u){const p=ky(u,`Initialization of query '${yy(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&vx(t)}),mx.apply(this,arguments)}function yx(n,e){return _x.apply(this,arguments)}function _x(){return _x=(0,ae.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const u=l.listeners.indexOf(e);u>=0&&(l.listeners.splice(u,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),_x.apply(this,arguments)}function kR(n,e){const t=qe(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const p of u.listeners)p.Pu(i)&&(r=!0);u.Au=i}}r&&vx(t)}function NR(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function vx(n){n.Ru.forEach(e=>{e.next()})}class bx{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ry(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ry.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class RR{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class eP{constructor(e){this.yt=e}Ji(e){return _(this.yt,e)}Yi(e){return e.metadata.exists?q(this.yt,e.document,!1):Pn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return c(e)}}class FR{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tP(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=Kt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new eP(this.yt);for(const i of e)if(i.metadata.queries){const l=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const p=(t.get(u)||zt()).add(l);t.set(u,p)}}return t}complete(){var e=this;return(0,ae.Z)(function*(){const t=yield function uR(n,e,t,r){return $1.apply(this,arguments)}(e.localStore,new eP(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield dR(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function tP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class nP{constructor(e){this.key=e}}class rP{constructor(e){this.key=e}}class iP{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=zt(),this.mutatedKeys=zt(),this.Gu=R0(e),this.Qu=new Ny(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new XM,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,u=i,p=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,C="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,A)=>{const L=i.get(T),B=Lh(this.query,A)?A:null,Z=!!L&&this.mutatedKeys.has(L.key),se=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Ce=!1;L&&B?L.data.isEqual(B.data)?Z!==se&&(r.track({type:3,doc:B}),Ce=!0):this.Hu(L,B)||(r.track({type:2,doc:B}),Ce=!0,(y&&this.Gu(B,y)>0||C&&this.Gu(B,C)<0)&&(p=!0)):!L&&B?(r.track({type:0,doc:B}),Ce=!0):L&&!B&&(r.track({type:1,doc:L}),Ce=!0,(y||C)&&(p=!0)),Ce&&(B?(u=u.add(B),l=se?l.add(T):l.delete(T)):(u=u.delete(T),l=l.delete(T)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const T="F"===this.query.limitType?u.last():u.first();u=u.delete(T.key),l=l.delete(T.key),r.track({type:1,doc:T})}return{Qu:u,zu:r,$i:p,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((C,T)=>function(A,L){const B=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return B(A)-B(L)}(C.type,T.type)||this.Gu(C.doc,T.doc)),this.Ju(r);const u=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,y=p!==this.Uu;return this.Uu=p,0!==l.length||y?{snapshot:new Ry(this.query,e.Qu,i,l,e.mutatedKeys,0===p,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new XM,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=zt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new rP(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new nP(r))}),t}tc(e){this.qu=e.Hi,this.Ku=zt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ry.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class LR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class UR{constructor(e){this.key=e,this.nc=!1}}class VR{constructor(e,t,r,i,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new al(p=>k0(p),Ru),this.rc=new Map,this.oc=new Set,this.uc=new or(We.comparator),this.cc=new Map,this.ac=new F1,this.hc={},this.lc=new Map,this.fc=og.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function BR(n,e){return wx.apply(this,arguments)}function wx(){return wx=(0,ae.Z)(function*(n,e){const t=Zx(n);let r,i;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ec();else{const u=yield Sy(t.localStore,Fi(e));t.isPrimaryClient&&nI(t.remoteStore,u);const p=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield Cx(t,e,r,"current"===p,u.resumeToken)}return i}),wx.apply(this,arguments)}function Cx(n,e,t,r,i){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,ae.Z)(function*(n,e,t,r,i){n._c=(A,L,B)=>{return(Z=(0,ae.Z)(function*(se,Ce,$e,dt){let ft=Ce.view.Wu($e);ft.$i&&(ft=yield JE(se.localStore,Ce.query,!1).then(({documents:Nt})=>Ce.view.Wu(Nt,ft)));const st=dt&&dt.targetChanges.get(Ce.targetId),Ct=Ce.view.applyChanges(ft,se.isPrimaryClient,st);return kx(se,Ce.targetId,Ct.Xu),Ct.snapshot}),function(se,Ce,$e,dt){return Z.apply(this,arguments)})(n,A,L,B);var Z};const l=yield JE(n.localStore,e,!0),u=new iP(e,l.Hi),p=u.Wu(l.documents),y=Jp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),C=u.applyChanges(p,n.isPrimaryClient,y);kx(n,t,C.Xu);const T=new LR(e,t,u);return n.ic.set(e,T),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),C.snapshot}),Ex.apply(this,arguments)}function jR(n,e){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,ae.Z)(function*(n,e){const t=qe(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(l=>!Ru(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ay(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Q0(t.remoteStore,r.targetId),Fy(t,r.targetId)}).catch(il))):(Fy(t,r.targetId),yield Ay(t.localStore,r.targetId,!0))}),Ix.apply(this,arguments)}function Tx(){return Tx=(0,ae.Z)(function*(n,e,t){const r=zx(n);try{const i=yield function(l,u){const p=qe(l),y=Fn.now(),C=u.reduce((L,B)=>L.add(B.key),zt());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=Li(),Z=zt();return p.Gi.getEntries(L,C).next(se=>{B=se,B.forEach((Ce,$e)=>{$e.isValidDocument()||(Z=Z.add(Ce))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,B)).next(se=>{T=se;const Ce=[];for(const $e of u){const dt=L0($e,T.get($e.key).overlayedDocument);null!=dt&&Ce.push(new Ms($e.key,dt,TE(dt.value.mapValue),Hn.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,Ce,u)}).next(se=>{A=se;const Ce=se.applyToLocalDocumentSet(T,Z);return p.documentOverlayCache.saveOverlays(L,se.batchId,Ce)})}).then(()=>({batchId:A.batchId,changes:U0(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,p){let y=l.hc[l.currentUser.toKey()];y||(y=new or(Ut)),y=y.insert(u,p),l.hc[l.currentUser.toKey()]=y}(r,i.batchId,t),yield ju(r,i.changes),yield Py(r.remoteStore)}catch(i){const l=ky(i,"Failed to persist write");t.reject(l)}}),Tx.apply(this,arguments)}function oP(n,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,ae.Z)(function*(n,e){const t=qe(n);try{const r=yield function lR(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const p=[];e.targetChanges.forEach((T,A)=>{const L=i.get(A);if(!L)return;p.push(t.Cs.removeMatchingKeys(l,T.removedDocuments,A).next(()=>t.Cs.addMatchingKeys(l,T.addedDocuments,A)));let B=L.withSequenceNumber(l.currentSequenceNumber);var Z,se,Ce;e.targetMismatches.has(A)?B=B.withResumeToken(Cr.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,r)),i=i.insert(A,B),se=B,Ce=T,(0===(Z=L).resumeToken.approximateByteSize()||se.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||Ce.addedDocuments.size+Ce.modifiedDocuments.size+Ce.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(l,B))});let y=Li(),C=zt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),p.push(LM(l,u,e.documentUpdates).next(T=>{y=T.Wi,C=T.zi})),!r.isEqual(wt.min())){const T=t.Cs.getLastRemoteSnapshotVersion(l).next(A=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(T)}return oe.waitFor(p).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,y,C)).next(()=>y)}).then(l=>(t.qi=i,l))}(t.localStore,e);e.targetChanges.forEach((i,l)=>{const u=t.cc.get(l);u&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?pt(u.nc):i.removedDocuments.size>0&&(pt(u.nc),u.nc=!1))}),yield ju(t,r,e)}catch(r){yield il(r)}}),Dx.apply(this,arguments)}function sP(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((l,u)=>{const p=u.view.bu(e);p.snapshot&&i.push(p.snapshot)}),function(l,u){const p=qe(l);p.onlineState=u;let y=!1;p.queries.forEach((C,T)=>{for(const A of T.listeners)A.bu(u)&&(y=!0)}),y&&vx(p)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $R(n,e,t){return xx.apply(this,arguments)}function xx(){return xx=(0,ae.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),l=i&&i.key;if(l){let u=new or(We.comparator);u=u.insert(l,Pn.newNoDocument(l,wt.min()));const p=zt().add(l),y=new Qp(wt.min(),new Map,new vn(Ut),u,p);yield oP(r,y),r.uc=r.uc.remove(l),r.cc.delete(e),Nx(r)}else yield Ay(r.localStore,e,!1).then(()=>Fy(r,e,t)).catch(il)}),xx.apply(this,arguments)}function ZR(n,e){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,ae.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield function aR(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,p,y,C){const T=y.batch,A=T.keys();let L=oe.resolve();return A.forEach(B=>{L=L.next(()=>C.getEntry(p,B)).next(Z=>{const se=y.docVersions.get(B);pt(null!==se),Z.version.compareTo(se)<0&&(T.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),C.addEntry(Z)))})}),L.next(()=>u.mutationQueue.removeMutationBatch(p,T))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let p=zt();for(let y=0;y<u.mutationResults.length;++y)u.mutationResults[y].transformResults.length>0&&(p=p.add(u.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);Ox(t,r,null),Px(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ju(t,i)}catch(i){yield il(i)}}),Sx.apply(this,arguments)}function zR(n,e,t){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,ae.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(l,u){const p=qe(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let C;return p.mutationQueue.lookupMutationBatch(y,u).next(T=>(pt(null!==T),C=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,C,u)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,C)).next(()=>p.localDocuments.getDocuments(y,C))})}(r.localStore,e);Ox(r,e,t),Px(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ju(r,i)}catch(i){yield il(i)}}),Ax.apply(this,arguments)}function Mx(){return Mx=(0,ae.Z)(function*(n,e){const t=qe(n);Bu(t.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const u=qe(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>u.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=ky(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Mx.apply(this,arguments)}function Px(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Ox(n,e,t){const r=qe(n);let i=r.hc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Fy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||aP(n,r)})}function aP(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Q0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Nx(n))}function kx(n,e,t){for(const r of t)r instanceof nP?(n.ac.addReference(r.key,e),GR(n,r)):r instanceof rP?(Re("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||aP(n,r.key)):nt()}function GR(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Re("SyncEngine","New document in limbo: "+t),n.oc.add(r),Nx(n))}function Nx(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new We(Kt.fromString(e)),r=n.fc.next();n.cc.set(r,new UR(t)),n.uc=n.uc.insert(t,r),nI(n.remoteStore,new Vh(Fi(Fh(t.path)),r,2,Co.at))}}function ju(n,e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,ae.Z)(function*(n,e,t){const r=qe(n),i=[],l=[],u=[];var p;r.ic.isEmpty()||(r.ic.forEach((p,y)=>{u.push(r._c(y,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,C?.fromCache?"not-current":"current"),C){i.push(C);const T=B1.Ci(y.targetId,C);l.push(T)}}))}),yield Promise.all(u),r.sc.Wo(i),yield(p=(0,ae.Z)(function*(y,C){const T=qe(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>oe.forEach(C,L=>oe.forEach(L.Si,B=>T.persistence.referenceDelegate.addReference(A,L.targetId,B)).next(()=>oe.forEach(L.Di,B=>T.persistence.referenceDelegate.removeReference(A,L.targetId,B)))))}catch(A){if(!wo(A))throw A;Re("LocalStore","Failed to update sequence numbers: "+A)}for(const A of C){const L=A.targetId;if(!A.fromCache){const B=T.qi.get(L),se=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);T.qi=T.qi.insert(L,se)}}}),function(y,C){return p.apply(this,arguments)})(r.localStore,l))}),Rx.apply(this,arguments)}function WR(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,ae.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=yield RM(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(p=>{p.reject(new Ae(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ju(t,r.ji)}var i}),Fx.apply(this,arguments)}function KR(n,e){const t=qe(n),r=t.cc.get(e);if(r&&r.nc)return zt().add(r.key);{let i=zt();const l=t.rc.get(e);if(!l)return i;for(const u of l){const p=t.ic.get(u);i=i.unionWith(p.view.ju)}return i}}function YR(n,e){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,ae.Z)(function*(n,e){const t=qe(n),r=yield JE(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&kx(t,e.targetId,i.Xu),i}),Lx.apply(this,arguments)}function QR(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,ae.Z)(function*(n,e){const t=qe(n);return VM(t.localStore,e).then(r=>ju(t,r))}),Ux.apply(this,arguments)}function JR(n,e,t,r){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,ae.Z)(function*(n,e,t,r){const i=qe(n),l=yield function(u,p){const y=qe(u),C=qe(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>C.Tn(T,p).next(A=>A?y.localDocuments.getDocuments(T,A):oe.resolve(null)))}(i.localStore,e);var p;null!==l?("pending"===t?yield Py(i.remoteStore):"acknowledged"===t||"rejected"===t?(Ox(i,e,r||null),Px(i,e),p=e,qe(qe(i.localStore).mutationQueue).An(p)):nt(),yield ju(i,l)):Re("SyncEngine","Cannot apply mutation batch with id: "+e)}),Vx.apply(this,arguments)}function Bx(){return Bx=(0,ae.Z)(function*(n,e){const t=qe(n);if(Zx(t),zx(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield lP(t,r.toArray());t.dc=!0,yield hx(t.remoteStore,!0);for(const l of i)nI(t.remoteStore,l)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((l,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Fy(t,u),Ay(t.localStore,u,!0))),Q0(t.remoteStore,u)}),yield i,yield lP(t,r),function(l){const u=qe(l);u.cc.forEach((p,y)=>{Q0(u.remoteStore,y)}),u.ac.fs(),u.cc=new Map,u.uc=new or(We.comparator)}(t),t.dc=!1,yield hx(t.remoteStore,!1)}}),Bx.apply(this,arguments)}function lP(n,e,t){return jx.apply(this,arguments)}function jx(){return jx=(0,ae.Z)(function*(n,e,t){const r=qe(n),i=[],l=[];for(const u of e){let p;const y=r.rc.get(u);if(y&&0!==y.length){p=yield Sy(r.localStore,Fi(y[0]));for(const C of y){const T=r.ic.get(C),A=yield YR(r,T);A.snapshot&&l.push(A.snapshot)}}else{const C=yield UM(r.localStore,u);p=yield Sy(r.localStore,C),yield Cx(r,cP(C),u,!1,p.resumeToken)}i.push(p)}return r.sc.Wo(l),i}),jx.apply(this,arguments)}function cP(n){return xE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eF(n){const e=qe(n);return qe(qe(e.localStore).persistence).vi()}function tF(n,e,t,r){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,ae.Z)(function*(n,e,t,r){const i=qe(n);if(i.dc)return void Re("SyncEngine","Ignoring unexpected query state notification.");const l=i.rc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const u=yield VM(i.localStore,N0(l[0])),p=Qp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Cr.EMPTY_BYTE_STRING);yield ju(i,u,p);break}case"rejected":yield Ay(i.localStore,e,!0),Fy(i,e,r);break;default:nt()}}),Hx.apply(this,arguments)}function nF(n,e,t){return $x.apply(this,arguments)}function $x(){return $x=(0,ae.Z)(function*(n,e,t){const r=Zx(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Re("SyncEngine","Adding an already active target "+i);continue}const l=yield UM(r.localStore,i),u=yield Sy(r.localStore,l);yield Cx(r,cP(l),u.targetId,!1,u.resumeToken),nI(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield Ay(r.localStore,i,!1).then(()=>{Q0(r.remoteStore,i),Fy(r,i)}).catch(il))}}),$x.apply(this,arguments)}function Zx(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$R.bind(null,e),e.sc.Wo=kR.bind(null,e.eventManager),e.sc.wc=NR.bind(null,e.eventManager),e}function zx(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zR.bind(null,e),e}class uP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ae.Z)(function*(){t.yt=K0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return NM(this.persistence,new kM,e.initialUser,this.yt)}yc(e){return new PM(YE.Bs,this.yt)}gc(e){return new $M}terminate(){var e=this;return(0,ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class dP extends uP{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ae.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield zx(r.Ac.syncEngine),yield Py(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return NM(this.persistence,new kM,e.initialUser,this.yt)}Tc(e,t){return new qN(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new VA(t,this.persistence);return new r1(e.asyncQueue,r)}yc(e){const t=V1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Qo.withCacheSize(this.cacheSizeBytes):Qo.DEFAULT;return new U1(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,zM(),tI(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new $M}}class iF extends dP{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ae.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof W1&&(r.sharedClientState.syncEngine={Fr:JR.bind(null,i),$r:tF.bind(null,i),Br:nF.bind(null,i),vi:eF.bind(null,i),Mr:QR.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,ae.Z)(function*(u){yield function XR(n,e){return Bx.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return l.apply(this,arguments)}}())})()}gc(e){const t=zM();if(!W1.C(t))throw new Ae(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=V1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new W1(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class qx{initialize(e,t){var r=this;return(0,ae.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>sP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=WR.bind(null,r.syncEngine),yield hx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new OR}createDatastore(e){const t=K0(e.databaseInfo.databaseId),r=new gR(e.databaseInfo);return new _R(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=p=>sP(this.syncEngine,p,0),u=ZM.C()?new ZM:new hR,new wR(t,r,i,l,u);var t,r,i,l,u}createSyncEngine(e,t){return function(r,i,l,u,p,y,C){const T=new VR(r,i,l,u,p,y);return C&&(T.dc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ae.Z)(function*(t){const r=qe(t);Re("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield My(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Gx(n,e,t){if(!t)throw new Ae(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hP(n,e,t,r){if(!0===e&&!0===r)throw new Ae(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fP(n){if(!We.isDocumentKey(n))throw new Ae(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pP(n){if(We.isDocumentKey(n))throw new Ae(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nt()}function an(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=iI(n);throw new Ae(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gP(n,e){if(e<=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const mP=new Map;class yP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,hP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class J0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new KD;switch(t.type){case"gapi":return new f0(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ae(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mP.get(e);t&&(Re("ComponentProvider","Removing Datastore"),mP.delete(e),t.terminate())}(this),Promise.resolve()}}class Yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class Ui{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ui(this.firestore,e,this._query)}}class Dc extends Ui{constructor(e,t,r){super(e,t,Fh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new We(e))}withConverter(e){return new Dc(this.firestore,e,this._path)}}function vP(n,e,...t){if(n=(0,pn.m9)(n),Gx("collection","path",e),n instanceof J0){const r=Kt.fromString(e,...t);return pP(r),new Dc(n,null,r)}{if(!(n instanceof Yn||n instanceof Dc))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return pP(r),new Dc(n.firestore,null,r)}}function oI(n,e,...t){if(n=(0,pn.m9)(n),1===arguments.length&&(e=aE.R()),Gx("doc","path",e),n instanceof J0){const r=Kt.fromString(e,...t);return fP(r),new Yn(n,null,new We(r))}{if(!(n instanceof Yn||n instanceof Dc))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return fP(r),new Yn(n.firestore,n instanceof Dc?n.converter:null,new We(r))}}function bP(n,e){return n=(0,pn.m9)(n),e=(0,pn.m9)(e),(n instanceof Yn||n instanceof Dc)&&(e instanceof Yn||e instanceof Dc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Wx(n,e){return n=(0,pn.m9)(n),e=(0,pn.m9)(e),n instanceof Ui&&e instanceof Ui&&n.firestore===e.firestore&&Ru(n._query,e._query)&&n.converter===e.converter}function wP(n,e=10240){let t=0;return{read:()=>(0,ae.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class sI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class sF{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new pr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ae.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ae.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ae.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const l=yield e.Cc(i);return new RR(JSON.parse(l),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ae.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ae.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class cF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ae.Z)(function*(l,u){const p=qe(l),y=S(p.yt)+"/documents",C={documents:u.map(B=>g(p.yt,B))},T=yield p._o("BatchGetDocuments",y,C,u.length),A=new Map;T.forEach(B=>{const Z=function X(n,e){return"found"in e?function(t,r){pt(!!r.found);const i=_(t,r.found.name),l=c(r.found.updateTime),u=r.found.createTime?c(r.found.createTime):wt.min(),p=new qr({mapValue:{fields:r.found.fields}});return Pn.newFoundDocument(i,l,u,p)}(n,e):"missing"in e?function(t,r){pt(!!r.missing),pt(!!r.readTime);const i=_(t,r.missing),l=c(r.readTime);return Pn.newNoDocument(i,l)}(n,e):nt()}(p.yt,B);A.set(Z.key.toString(),Z)});const L=[];return u.forEach(B=>{const Z=A.get(B.toString());pt(!!Z),L.push(Z)}),L}),function(l,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Kp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=We.fromPath(i);e.mutations.push(new NE(l,e.precondition(l)))}),yield(r=(0,ae.Z)(function*(i,l){const u=qe(i),p=S(u.yt)+"/documents",y={writes:l.map(C=>Le(u.yt,C))};yield u.ao("Commit",p,y)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nt();t=wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wt.min())?Hn.exists(!1):Hn.updateTime(t):Hn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wt.min()))throw new Ae(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hn.updateTime(t)}return Hn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uF{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.kc=r.maxAttempts,this.xo=new K1(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ae.Z)(function*(){const t=new cF(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Fc(l)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!xh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!FE(t)}return!1}}class dF{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=zr.UNAUTHENTICATED,this.clientId=aE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,ae.Z)(function*(p){Re("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Re("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ky(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function CP(n,e){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ae.Z)(function*(l){r.isEqual(l)||(yield RM(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Kx.apply(this,arguments)}function EP(n,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Qx(n);Re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>JM(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>JM(e.remoteStore,l)),n.onlineComponents=e}),Yx.apply(this,arguments)}function Qx(n){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,ae.Z)(function*(n){return n.offlineComponents||(Re("FirestoreClient","Using default OfflineComponentProvider"),yield CP(n,new uP)),n.offlineComponents}),Jx.apply(this,arguments)}function aI(n){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,ae.Z)(function*(n){return n.onlineComponents||(Re("FirestoreClient","Using default OnlineComponentProvider"),yield EP(n,new qx)),n.onlineComponents}),Xx.apply(this,arguments)}function IP(n){return Qx(n).then(e=>e.persistence)}function lI(n){return Qx(n).then(e=>e.localStore)}function eS(n){return aI(n).then(e=>e.remoteStore)}function tS(n){return aI(n).then(e=>e.syncEngine)}function Ly(n){return nS.apply(this,arguments)}function nS(){return nS=(0,ae.Z)(function*(n){const e=yield aI(n),t=e.eventManager;return t.onListen=BR.bind(null,e.syncEngine),t.onUnlisten=jR.bind(null,e.syncEngine),t}),nS.apply(this,arguments)}function DP(n,e,t={}){const r=new pr;return n.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function(i,l,u,p,y){const C=new sI({next:A=>{l.enqueueAndForget(()=>yx(i,T));const L=A.docs.has(u);!L&&A.fromCache?y.reject(new Ae(de.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&A.fromCache&&p&&"server"===p.source?y.reject(new Ae(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new bx(Fh(u.path),C,{includeMetadataChanges:!0,Nu:!0});return gx(i,T)}(yield Ly(n),n.asyncQueue,e,t,r)})),r.promise}function xP(n,e,t={}){const r=new pr;return n.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function(i,l,u,p,y){const C=new sI({next:A=>{l.enqueueAndForget(()=>yx(i,T)),A.fromCache&&"server"===p.source?y.reject(new Ae(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new bx(u,C,{includeMetadataChanges:!0,Nu:!0});return gx(i,T)}(yield Ly(n),n.asyncQueue,e,t,r)})),r.promise}class vF{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new K1(this,"async_queue_retry"),this.Wc=()=>{const t=tI();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=tI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=tI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new pr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ae.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!wo(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,fr("INTERNAL UNHANDLED ERROR: ",function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=px.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.Uc.push(i),i}zc(){this.Kc&&nt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ae.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function rS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class bF{constructor(){this._progressObserver={},this._taskCompletionResolver=new pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qn extends J0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new vF,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||SP(this),this._firestoreClient.terminate()}}function Fr(n){return n._firestoreClient||SP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function SP(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new i1(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new dF(n._authCredentials,n._appCheckCredentials,n._queue,r)}function AP(n,e,t){const r=new pr;return n.asyncQueue.enqueue((0,ae.Z)(function*(){try{yield CP(n,t),yield EP(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(u=l).name?u.code===de.FAILED_PRECONDITION||u.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw l;gc("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var u})).then(()=>r.promise)}function MP(n){if(n._initialized||n._terminated)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xc(Cr.fromBase64String(e))}catch(t){throw new Ae(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xc(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ag{constructor(e){this._methodName=e}}class cI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}const MF=/^__.*__$/;class PF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ic(e,this.data,t,this.fieldTransforms)}}class PP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class uI{constructor(e,t,r,i,l,u){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new uI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return fI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(OP(this.sa)&&MF.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class OF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||K0(e)}da(e,t,r,i=!1){return new uI({sa:e,methodName:t,fa:r,path:ir.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function lg(n){const e=n._freezeSettings(),t=K0(n._databaseId);return new OF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dI(n,e,t,r,i,l={}){const u=n.da(l.merge||l.mergeFields?2:0,e,t,i);aS("Data must be an object, but it was:",u,r);const p=RP(r,u);let y,C;if(l.merge)y=new Ni(u.fieldMask),C=u.fieldTransforms;else if(l.mergeFields){const T=[];for(const A of l.mergeFields){const L=lS(e,A,t);if(!u.contains(L))throw new Ae(de.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);LP(T,L)||T.push(L)}y=new Ni(T),C=u.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,C=u.fieldTransforms;return new PF(new qr(p),y,C)}class X0 extends ag{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof X0}}function kP(n,e,t){return new uI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class iS extends ag{_toFieldTransform(e){return new by(e.path,new Fu)}isEqual(e){return e instanceof iS}}class kF extends ag{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=kP(this,e,!0),r=this._a.map(l=>cg(l,t)),i=new Lu(r);return new by(e.path,i)}isEqual(e){return this===e}}class NF extends ag{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=kP(this,e,!0),r=this._a.map(l=>cg(l,t)),i=new Uu(r);return new by(e.path,i)}isEqual(e){return this===e}}class RF extends ag{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new qp(e.yt,ME(e.yt,this.wa));return new by(e.path,t)}isEqual(e){return this===e}}function oS(n,e,t,r){const i=n.da(1,e,t);aS("Data must be an object, but it was:",i,r);const l=[],u=qr.empty();_c(r,(y,C)=>{const T=hI(e,y,t);C=(0,pn.m9)(C);const A=i.ca(T);if(C instanceof X0)l.push(T);else{const L=cg(C,A);null!=L&&(l.push(T),u.set(T,L))}});const p=new Ni(l);return new PP(u,p,i.fieldTransforms)}function sS(n,e,t,r,i,l){const u=n.da(1,e,t),p=[lS(e,r,t)],y=[i];if(l.length%2!=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<l.length;L+=2)p.push(lS(e,l[L])),y.push(l[L+1]);const C=[],T=qr.empty();for(let L=p.length-1;L>=0;--L)if(!LP(C,p[L])){const B=p[L];let Z=y[L];Z=(0,pn.m9)(Z);const se=u.ca(B);if(Z instanceof X0)C.push(B);else{const Ce=cg(Z,se);null!=Ce&&(C.push(B),T.set(B,Ce))}}const A=new Ni(C);return new PP(T,A,u.fieldTransforms)}function NP(n,e,t,r=!1){return cg(t,n.da(r?4:3,e))}function cg(n,e){if(FP(n=(0,pn.m9)(n)))return aS("Unsupported field value:",e,n),RP(n,e);if(n instanceof ag)return function(t,r){if(!OP(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const u of t){let p=cg(u,r.aa(l));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,pn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ME(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Fn.fromDate(t);return{timestampValue:Xp(r.yt,i)}}if(t instanceof Fn){const i=new Fn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xp(r.yt,i)}}if(t instanceof cI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xc)return{bytesValue:o(r.yt,t._byteString)};if(t instanceof Yn){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:d(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${iI(t)}`)}(n,e)}function RP(n,e){const t={};return dE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_c(n,(r,i)=>{const l=cg(i,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function FP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Fn||n instanceof cI||n instanceof xc||n instanceof Yn||n instanceof ag)}function aS(n,e,t){if(!FP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=iI(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function lS(n,e,t){if((e=(0,pn.m9)(e))instanceof Hu)return e._internalPath;if("string"==typeof e)return hI(n,e);throw fI("Field path arguments must be of type string or ",n,!1,void 0,t)}const FF=new RegExp("[~\\*/\\[\\]]");function hI(n,e,t){if(e.search(FF)>=0)throw fI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hu(...e.split("."))._internalPath}catch{throw fI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fI(n,e,t,r,i){const l=r&&!r.isEmpty(),u=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(l||u)&&(y+=" (found",l&&(y+=` in field ${r}`),u&&(y+=` in document ${i}`),y+=")"),new Ae(de.INVALID_ARGUMENT,p+n+y)}function LP(n,e){return n.some(t=>t.isEqual(e))}class eb{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new LF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class LF extends eb{data(){return super.data()}}function pI(n,e){return"string"==typeof e?hI(n,e):e instanceof Hu?e._internalPath:e._delegate._internalPath}function UP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ae(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cS{}class tb extends cS{}function Zh(n,e,...t){let r=[];e instanceof cS&&r.push(e),r=r.concat(t),function(i){const l=i.filter(p=>p instanceof Uy).length,u=i.filter(p=>p instanceof nb).length;if(l>1||l>0&&u>0)throw new Ae(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class nb extends tb{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new nb(e,t,r)}_apply(e){const t=this._parse(e);return HP(e._query,t),new Ui(e.firestore,e.converter,my(e._query,t))}_parse(e){const t=lg(e.firestore);return function(i,l,u,p,y,C,T){let A;if(y.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){jP(T,C);const L=[];for(const B of T)L.push(BP(p,i,B));A={arrayValue:{values:L}}}else A=BP(p,i,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||jP(T,C),A=NP(u,"where",T,"in"===C||"not-in"===C);return tn.create(y,C,A)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Uy extends cS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Uy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:In.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let l=r;const u=i.getFlattenedFilters();for(const p of u)HP(l,p),l=my(l,p)}(e._query,t),new Ui(e.firestore,e.converter,my(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class uS extends tb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new uS(e,t)}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new kh(i,l);return function(p,y){if(null===P0(p)){const C=Zp(p);null!==C&&$P(0,C,y.field)}}(r,u),u}(e._query,this._field,this._direction);return new Ui(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new wc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class gI extends tb{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new gI(e,t,r)}_apply(e){return new Ui(e.firestore,e.converter,O0(e._query,this._limit,this._limitType))}}class mI extends tb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new mI(e,t,r)}_apply(e){const t=VP(e,this.type,this._docOrFields,this._inclusive);return new Ui(e.firestore,e.converter,(i=t,new wc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class yI extends tb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new yI(e,t,r)}_apply(e){const t=VP(e,this.type,this._docOrFields,this._inclusive);return new Ui(e.firestore,e.converter,(i=t,new wc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function VP(n,e,t,r){if(t[0]=(0,pn.m9)(t[0]),t[0]instanceof eb)return function(i,l,u,p,y){if(!p)throw new Ae(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const C=[];for(const T of Cc(i))if(T.field.isKeyField())C.push(Mh(l,p.key));else{const A=p.data.field(T.field);if(hy(A))throw new Ae(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const L=T.field.canonicalString();throw new Ae(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}C.push(A)}return new bc(C,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=lg(n.firestore);return function(l,u,p,y,C,T){const A=l.explicitOrderBy;if(C.length>A.length)throw new Ae(de.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<C.length;B++){const Z=C[B];if(A[B].field.isKeyField()){if("string"!=typeof Z)throw new Ae(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Z}`);if(!AE(l)&&-1!==Z.indexOf("/"))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${Z}' contains a slash.`);const se=l.path.child(Kt.fromString(Z));if(!We.isDocumentKey(se))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${se}' is not because it contains an odd number of segments.`);const Ce=new We(se);L.push(Mh(u,Ce))}else{const se=NP(p,y,Z);L.push(se)}}return new bc(L,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function BP(n,e,t){if("string"==typeof(t=(0,pn.m9)(t))){if(""===t)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AE(e)&&-1!==t.indexOf("/"))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Kt.fromString(t));if(!We.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mh(n,new We(r))}if(t instanceof Yn)return Mh(n,t._key);throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iI(t)}.`)}function jP(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function HP(n,e){if(e.isInequality()){const r=Zp(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const l=P0(n);null!==l&&$P(0,i,l)}const t=function(r,i){for(const l of r)for(const u of l.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ae(de.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function $P(n,e,t){if(!t.isEqual(e))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class dS{convertValue(e,t="none"){switch(Ah(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nt()}}convertObject(e,t){const r={};return _c(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new cI(Kn(e.latitude),Kn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rp(e));default:return null}}convertTimestamp(e){const t=ol(e);return new Fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Kt.fromString(e);pt(JA(r));const i=new yc(r.get(1),r.get(3)),l=new We(r.popFirst(5));return i.isEqual(t)||fr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function _I(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class qF extends dS{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}class ug{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $u extends eb{constructor(e,t,r,i,l,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class rb extends $u{data(e={}){return super.data(e)}}class zh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ug(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new rb(this._firestore,this._userDataWriter,r.key,r,new ug(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new rb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new ug(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const p=new rb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new ug(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,C=-1;return 0!==u.type&&(y=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),1!==u.type&&(l=l.add(u.doc),C=l.indexOf(u.doc.key)),{type:GF(u.type),doc:p,oldIndex:y,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function zP(n,e){return n instanceof $u&&e instanceof $u?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof zh&&e instanceof zh&&n._firestore===e._firestore&&Wx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class qh extends dS{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function qP(n,e,t){n=an(n,Yn);const r=an(n.firestore,Qn),i=_I(n.converter,e,t);return Vy(r,[dI(lg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Hn.none())])}function GP(n,e,t,...r){n=an(n,Yn);const i=an(n.firestore,Qn),l=lg(i);let u;return u="string"==typeof(e=(0,pn.m9)(e))||e instanceof Hu?sS(l,"updateDoc",n._key,e,t,r):oS(l,"updateDoc",n._key,e),Vy(i,[u.toMutation(n._key,Hn.exists(!0))])}function WP(n,...e){var t,r,i;n=(0,pn.m9)(n);let l={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||rS(e[u])||(l=e[u],u++);const p={includeMetadataChanges:l.includeMetadataChanges};if(rS(e[u])){const A=e[u];e[u]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[u+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[u+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let y,C,T;if(n instanceof Yn)C=an(n.firestore,Qn),T=Fh(n._key.path),y={next:A=>{e[u]&&e[u](hS(C,n,A))},error:e[u+1],complete:e[u+2]};else{const A=an(n,Ui);C=an(A.firestore,Qn),T=A._query;const L=new qh(C);y={next:B=>{e[u]&&e[u](new zh(C,L,A,B))},error:e[u+1],complete:e[u+2]},UP(n._query)}return function(A,L,B,Z){const se=new sI(Z),Ce=new bx(L,se,B);return A.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return gx(yield Ly(A),Ce)})),()=>{se.bc(),A.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return yx(yield Ly(A),Ce)}))}}(Fr(C),T,p,y)}function Vy(n,e){return function(t,r){const i=new pr;return t.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function HR(n,e,t){return Tx.apply(this,arguments)}(yield tS(t),r,i)})),i.promise}(Fr(n),e)}function hS(n,e,t){const r=t.docs.get(e._key),i=new qh(n);return new $u(n,i,e._key,r,new ug(t.hasPendingWrites,t.fromCache),e.converter)}const rL={maxAttempts:5};class KP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lg(e)}set(e,t,r){this._verifyNotCommitted();const i=Gh(e,this._firestore),l=_I(i.converter,t,r),u=dI(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,Hn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Gh(e,this._firestore);let u;return u="string"==typeof(t=(0,pn.m9)(t))||t instanceof Hu?sS(this._dataReader,"WriteBatch.update",l._key,t,r,i):oS(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,Hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gh(e,this._firestore);return this._mutations=this._mutations.concat(new Kp(t._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gh(n,e){if((n=(0,pn.m9)(n)).firestore!==e)throw new Ae(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class iL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=lg(e)}get(e){const t=Gh(e,this._firestore),r=new qF(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return nt();const l=i[0];if(l.isFoundDocument())return new eb(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new eb(this._firestore,r,t._key,null,t.converter);throw nt()})}set(e,t,r){const i=Gh(e,this._firestore),l=_I(i.converter,t,r),u=dI(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const l=Gh(e,this._firestore);let u;return u="string"==typeof(t=(0,pn.m9)(t))||t instanceof Hu?sS(this._dataReader,"Transaction.update",l._key,t,r,i):oS(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,u),this}delete(e){const t=Gh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gh(e,this._firestore),r=new qh(this._firestore);return super.get(e).then(i=>new $u(this._firestore,r,t._key,i._document,new ug(!1,!1),t.converter))}}!function(n,e=!0){Eh=oc.SDK_VERSION,(0,oc._registerComponent)(new Pm.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),u=new Qn(new QD(t.getProvider("auth-internal")),new JD(t.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ae(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(p.options.projectId,y)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,oc.registerVersion)(Ch,"3.8.2",n),(0,oc.registerVersion)(Ch,"3.8.2","esm2017")}();function fS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function QP(){if(typeof Uint8Array>"u")throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function JP(){if(!function o1(){return typeof atob<"u"}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ib{constructor(e){this._delegate=e}static fromBase64String(e){return JP(),new ib(xc.fromBase64String(e))}static fromUint8Array(e){return QP(),new ib(xc.fromUint8Array(e))}toBase64(){return JP(),this._delegate.toBase64()}toUint8Array(){return QP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pS(n){return function fL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class pL{enableIndexedDbPersistence(e,t){return function CF(n,e){MP(n=an(n,Qn));const t=Fr(n),r=n._freezeSettings(),i=new qx;return AP(t,i,new dP(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function EF(n){MP(n=an(n,Qn));const e=Fr(n),t=n._freezeSettings(),r=new qx;return AP(e,r,new iF(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function IF(n){if(n._initialized&&!n._terminated)throw new Ae(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ae.Z)(function*(){try{yield(t=(0,ae.Z)(function*(r){if(!Go.C())return Promise.resolve();const i=r+"main";yield Go.delete(i)}),function(r){return t.apply(this,arguments)})(V1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class XP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof yc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&gc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function _P(n,e,t,r={}){var i;const l=(n=an(n,J0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&gc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,p;if("string"==typeof r.mockUserToken)u=r.mockUserToken,p=zr.MOCK_USER;else{u=(0,pn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ae(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new zr(y)}n._authCredentials=new YD(new iE(u,p))}}(this._delegate,e,t,r)}enableNetwork(){return function DF(n){return function hF(n){return n.asyncQueue.enqueue((0,ae.Z)(function*(){const e=yield IP(n),t=yield eS(n);return e.setNetworkEnabled(!0),function(r){const i=qe(r);return i._u.delete(0),Y0(i)}(t)}))}(Fr(n=an(n,Qn)))}(this._delegate)}disableNetwork(){return function xF(n){return function fF(n){return n.asyncQueue.enqueue((0,ae.Z)(function*(){const e=yield IP(n),t=yield eS(n);return e.setNetworkEnabled(!1),(r=(0,ae.Z)(function*(i){const l=qe(i);l._u.add(0),yield My(l),l.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Fr(n=an(n,Qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,hP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function TF(n){return function(e){const t=new pr;return e.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function qR(n,e){return Mx.apply(this,arguments)}(yield tS(e),t)})),t.promise}(Fr(n=an(n,Qn)))}(this._delegate)}onSnapshotsInSync(e){return function nL(n,e){return function mF(n,e){const t=new sI(e);return n.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return r=yield Ly(n),i=t,qe(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return r=yield Ly(n),i=t,void qe(r).Ru.delete(i);var r,i}))}}(Fr(n=an(n,Qn)),rS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new By(this,vP(this._delegate,e))}catch(t){throw Io(t,"collection()","Firestore.collection()")}}doc(e){try{return new fa(this,oI(this._delegate,e))}catch(t){throw Io(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new To(this,function oF(n,e){if(n=an(n,J0),Gx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ui(n,null,(t=e,new wc(Kt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Io(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function oL(n,e,t){n=an(n,Qn);const r=Object.assign(Object.assign({},rL),t);return function(i){if(i.maxAttempts<1)throw new Ae(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,l,u){const p=new pr;return i.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){const y=yield function TP(n){return aI(n).then(e=>e.datastore)}(i);new uF(i.asyncQueue,y,u,l,p).run()})),p.promise}(Fr(n),i=>e(new iL(n,i)),r)}(this._delegate,t=>e(new eO(this,t)))}batch(){return Fr(this._delegate),new tO(new KP(this._delegate,e=>Vy(this._delegate,e)))}loadBundle(e){return function SF(n,e){const t=Fr(n=an(n,Qn)),r=new bF;return function yF(n,e,t,r){const i=function(l,u){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,y=function(y,C){if(y instanceof Uint8Array)return wP(y,C);if(y instanceof ArrayBuffer)return wP(new Uint8Array(y),C);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new sF(y,u);var y}(t,K0(e));n.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){!function rF(n,e,t){const r=qe(n);var i;(i=(0,ae.Z)(function*(l,u,p){try{const y=yield u.getMetadata();if(yield function(L,B){const Z=qe(L),se=c(B.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",Ce=>Z.Ns.getBundleMetadata(Ce,B.id)).then(Ce=>!!Ce&&Ce.createTime.compareTo(se)>=0)}(l.localStore,y))return yield u.close(),p._completeWith({taskState:"Success",documentsLoaded:(L=y).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);p._updateProgress(tP(y));const C=new FR(y,l.localStore,u.yt);let T=yield u.mc();for(;T;){const L=yield C.Fu(T);L&&p._updateProgress(L),T=yield u.mc()}const A=yield C.complete();return yield ju(l,A.Lu,void 0),yield function(L,B){const Z=qe(L);return Z.persistence.runTransaction("Save bundle","readwrite",se=>Z.Ns.saveBundleMetadata(se,B))}(l.localStore,y),p._completeWith(A.progress),Promise.resolve(A.Bu)}catch(y){return gc("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var L}),function(l,u,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield tS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function AF(n,e){return function _F(n,e){return n.asyncQueue.enqueue((0,ae.Z)(function*(){return function(t,r){const i=qe(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ns.getNamedQuery(l,r))}(yield lI(n),e)}))}(Fr(n=an(n,Qn)),e).then(t=>t?new Ui(n,null,t.query):null)}(this._delegate,e).then(t=>t?new To(this,t):null)}}class vI extends dS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ib(new xc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return fa.forKey(t,this.firestore,null)}}class eO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}get(e){const t=hg(e);return this._delegate.get(t).then(r=>new ob(this._firestore,new $u(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=hg(e);return r?(fS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=hg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=hg(e);return this._delegate.delete(t),this}}class tO{constructor(e){this._delegate=e}set(e,t,r){const i=hg(e);return r?(fS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=hg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=hg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class dg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new rb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=dg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new dg(e,new vI(e),t),i.set(t,l)),l}}dg.INSTANCES=new WeakMap;class fa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fa(t,new Yn(t._delegate,r,new We(e)))}static forKey(e,t,r){return new fa(t,new Yn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new By(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new By(this.firestore,vP(this._delegate,e))}catch(t){throw Io(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,pn.m9)(e))instanceof Yn&&bP(this._delegate,e)}set(e,t){t=fS("DocumentReference.set",t);try{return t?qP(this._delegate,e,t):qP(this._delegate,e)}catch(r){throw Io(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?GP(this._delegate,e):GP(this._delegate,e,t,...r)}catch(i){throw Io(i,"updateDoc()","DocumentReference.update()")}}delete(){return function eL(n){return Vy(an(n.firestore,Qn),[new Kp(n._key,Hn.none())])}(this._delegate)}onSnapshot(...e){const t=nO(e),r=rO(e,i=>new ob(this.firestore,new $u(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return WP(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function KF(n){n=an(n,Yn);const e=an(n.firestore,Qn),t=Fr(e),r=new qh(e);return function pF(n,e){const t=new pr;return n.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return(r=(0,ae.Z)(function*(i,l,u){try{const p=yield function(y,C){const T=qe(y);return T.persistence.runTransaction("read document","readonly",A=>T.localDocuments.getDocument(A,C))}(i,l);p.isFoundDocument()?u.resolve(p):p.isNoDocument()?u.resolve(null):u.reject(new Ae(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=ky(p,`Failed to get document '${l} from cache`);u.reject(y)}}),function(i,l,u){return r.apply(this,arguments)})(yield lI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new $u(e,r,n._key,i,new ug(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function YF(n){n=an(n,Yn);const e=an(n.firestore,Qn);return DP(Fr(e),n._key,{source:"server"}).then(t=>hS(e,n,t))}(this._delegate):function WF(n){n=an(n,Yn);const e=an(n.firestore,Qn);return DP(Fr(e),n._key).then(t=>hS(e,n,t))}(this._delegate),t.then(r=>new ob(this.firestore,new $u(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new fa(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function Io(n,e,t){return n.message=n.message.replace(e,t),n}function nO(n){for(const e of n)if("object"==typeof e&&!pS(e))return e;return{}}function rO(n,e){var t,r;let i;return i=pS(n[0])?n[0]:pS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ob{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new fa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return zP(this._delegate,e._delegate)}}class sb extends ob{data(e){const t=this._delegate.data(e);return function h0(n,e){n||nt()}(void 0!==t),t}}class To{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vI(e)}where(e,t,r){try{return new To(this.firestore,Zh(this._delegate,function UF(n,e,t){const r=e,i=pI("where",n);return nb._create(i,r,t)}(e,t,r)))}catch(i){throw Io(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new To(this.firestore,Zh(this._delegate,function VF(n,e="asc"){const t=e,r=pI("orderBy",n);return uS._create(r,t)}(e,t)))}catch(r){throw Io(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new To(this.firestore,Zh(this._delegate,function BF(n){return gP("limit",n),gI._create("limit",n,"F")}(e)))}catch(t){throw Io(t,"limit()","Query.limit()")}}limitToLast(e){try{return new To(this.firestore,Zh(this._delegate,function jF(n){return gP("limitToLast",n),gI._create("limitToLast",n,"L")}(e)))}catch(t){throw Io(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new To(this.firestore,Zh(this._delegate,function HF(...n){return mI._create("startAt",n,!0)}(...e)))}catch(t){throw Io(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new To(this.firestore,Zh(this._delegate,function $F(...n){return mI._create("startAfter",n,!1)}(...e)))}catch(t){throw Io(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new To(this.firestore,Zh(this._delegate,function ZF(...n){return yI._create("endBefore",n,!1)}(...e)))}catch(t){throw Io(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new To(this.firestore,Zh(this._delegate,function zF(...n){return yI._create("endAt",n,!0)}(...e)))}catch(t){throw Io(t,"endAt()","Query.endAt()")}}isEqual(e){return Wx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function JF(n){n=an(n,Ui);const e=an(n.firestore,Qn),t=Fr(e),r=new qh(e);return function gF(n,e){const t=new pr;return n.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return(r=(0,ae.Z)(function*(i,l,u){try{const p=yield JE(i,l,!0),y=new iP(l,p.Hi),C=y.Wu(p.documents),T=y.applyChanges(C,!1);u.resolve(T.snapshot)}catch(p){const y=ky(p,`Failed to execute query '${l} against cache`);u.reject(y)}}),function(i,l,u){return r.apply(this,arguments)})(yield lI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new zh(e,r,n,i))}(this._delegate):"server"===e?.source?function XF(n){n=an(n,Ui);const e=an(n.firestore,Qn),t=Fr(e),r=new qh(e);return xP(t,n._query,{source:"server"}).then(i=>new zh(e,r,n,i))}(this._delegate):function QF(n){n=an(n,Ui);const e=an(n.firestore,Qn),t=Fr(e),r=new qh(e);return UP(n._query),xP(t,n._query).then(i=>new zh(e,r,n,i))}(this._delegate),t.then(r=>new gS(this.firestore,new zh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=nO(e),r=rO(e,i=>new gS(this.firestore,new zh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return WP(this._delegate,t,r)}withConverter(e){return new To(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}class mL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new sb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new To(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new mL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new sb(this._firestore,r))})}isEqual(e){return zP(this._delegate,e._delegate)}}class By extends To{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fa(this.firestore,e):null}doc(e){try{return new fa(this.firestore,void 0===e?oI(this._delegate):oI(this._delegate,e))}catch(t){throw Io(t,"doc()","CollectionReference.doc()")}}add(e){return function tL(n,e){const t=an(n.firestore,Qn),r=oI(n),i=_I(n.converter,e);return Vy(t,[dI(lg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new fa(this.firestore,t))}isEqual(e){return bP(this._delegate,e._delegate)}withConverter(e){return new By(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function hg(n){return an(n,Yn)}class mS{constructor(...e){this._delegate=new Hu(...e)}static documentId(){return new mS(ir.keyField().canonicalString())}isEqual(e){return(e=(0,pn.m9)(e))instanceof Hu&&this._delegate._internalPath.isEqual(e._internalPath)}}class fg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function aL(){return new iS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new fg(e)}static delete(){const e=function sL(){return new X0("deleteField")}();return e._methodName="FieldValue.delete",new fg(e)}static arrayUnion(...e){const t=function lL(...n){return new kF("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new fg(t)}static arrayRemove(...e){const t=function cL(...n){return new NF("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new fg(t)}static increment(e){const t=function uL(n){return new RF("increment",n)}(e);return t._methodName="FieldValue.increment",new fg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yL={Firestore:XP,GeoPoint:cI,Timestamp:Fn,Blob:ib,Transaction:eO,WriteBatch:tO,DocumentReference:fa,DocumentSnapshot:ob,Query:To,QueryDocumentSnapshot:sb,QuerySnapshot:gS,CollectionReference:By,FieldPath:mS,FieldValue:fg,setLogLevel:function gL(n){!function sy(n){pc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function vL(n){(function _L(n,e){n.INTERNAL.registerComponent(new Pm.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},yL)))})(n,(e,t)=>new XP(e,t,new pL)),n.registerVersion("@firebase/firestore-compat","0.3.2")}(gD.Z);var Wh=N(7579),bL=N(6451),bI=N(5363);function vi(n,e){return(0,yn.e)((t,r)=>{let i=null,l=0,u=!1;const p=()=>u&&!i&&r.complete();t.subscribe((0,ri.x)(r,y=>{i?.unsubscribe();let C=0;const T=l++;(0,Gf.Xf)(n(y,T)).subscribe(i=(0,ri.x)(r,A=>r.next(e?e(y,A,T,C++):A),()=>{i=null,p()}))},()=>{u=!0,p()}))})}var wL=N(6063);class CL extends Wh.x{constructor(e=1/0,t=1/0,r=wL.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:u}=this;t||(r.push(e),!i&&r.push(l.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let u=0;u<l.length&&!e.closed;u+=r?1:2)e.next(l[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const u=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=u;y+=2)p=y;p&&r.splice(0,p+1)}}}var EL=N(3099);function iO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,EL.B)({connector:()=>new CL(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const ab=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Kh=N(515);function jy(n){return n<=0?()=>Kh.E:(0,yn.e)((e,t)=>{let r=0;e.subscribe((0,ri.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function wI(n){return(0,yn.e)((e,t)=>{let r=!1;e.subscribe((0,ri.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function oO(n=TL){return(0,yn.e)((e,t)=>{let r=!1;e.subscribe((0,ri.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function TL(){return new ab}function Zu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Or((i,l)=>n(i,l,r)):up.y,jy(1),t?wI(e):oO(()=>new ab))}function sO(n,e){return(0,zo.m)(e)?vi(()=>n,e):vi(()=>n)}var yS=N(9468);N(259);const vS=new Map,lO={activated:!1,tokenObservers:[]},ML={initialized:!1,enabled:!1};function Vi(n){return vS.get(n)||Object.assign({},lO)}function EI(){return ML}const bS="https://content-firebaseappcheck.googleapis.com/v1",NL="exchangeDebugToken",cO={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class FL{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ae.Z)(function*(){t.stop();try{t.pending=new pn.BH,yield function LL(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new pn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Do=new pn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ES(){return ES=(0,ae.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const l={method:"POST",body:JSON.stringify(e),headers:r};let u,p;try{u=yield fetch(n,l)}catch(A){throw Do.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==u.status)throw Do.create("fetch-status-error",{httpStatus:u.status});try{p=yield u.json()}catch(A){throw Do.create("fetch-parse-error",{originalErrorMessage:A?.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Do.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const C=1e3*Number(y[1]),T=Date.now();return{token:p.token,expireTimeMillis:T+C,issuedAtTimeMillis:T}}),ES.apply(this,arguments)}const HL="firebase-app-check-database",$L=1,lb="firebase-app-check-store";let DI=null;function IS(){return IS=(0,ae.Z)(function*(n,e){const r=(yield function hO(){return DI||(DI=new Promise((n,e)=>{try{const t=indexedDB.open(HL,$L);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Do.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(lb,{keyPath:"compositeKey"})}}catch(t){e(Do.create("storage-open",{originalErrorMessage:t?.message}))}}),DI)}()).transaction(lb,"readwrite"),l=r.objectStore(lb).put({compositeKey:n,value:e});return new Promise((u,p)=>{l.onsuccess=y=>{u()},r.onerror=y=>{var C;p(Do.create("storage-set",{originalErrorMessage:null===(C=y.target.error)||void 0===C?void 0:C.message}))}})}),IS.apply(this,arguments)}const cb=new el.Yd("@firebase/app-check");function xS(n,e){return(0,pn.hl)()?function zL(n,e){return function fO(n,e){return IS.apply(this,arguments)}(function gO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{cb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function AS(){return AS=(0,ae.Z)(function*(){const n=EI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),AS.apply(this,arguments)}const QL={error:"UNKNOWN_ERROR"};function JL(n){return pn.US.encodeString(JSON.stringify(n),!1)}function xI(n){return MS.apply(this,arguments)}function MS(){return MS=(0,ae.Z)(function*(n,e=!1){const t=n.app;!function uO(n){if(!Vi(n).activated)throw Do.create("use-before-activation",{appName:n.name})}(t);const r=Vi(t);let l,i=r.token;if(i&&!Hy(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(Hy(y)?i=y:yield xS(t,void 0))}if(!e&&i&&Hy(i))return{token:i.token};let p,u=!1;if(function mO(){return EI().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function CS(n,e){return ES.apply(this,arguments)}(function jL(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${bS}/projects/${t}/apps/${r}:${NL}?key=${i}`,body:{debug_token:e}}}(t,yield function yO(){return AS.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const y=yield r.exchangeTokenPromise;return yield xS(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield Vi(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?cb.warn(y.message):cb.error(y),l=y}return i?l?p=Hy(i)?{token:i.token,internalError:l}:bO(l):(p={token:i.token},r.token=i,yield xS(t,i)):p=bO(l),u&&function vO(n,e){const t=Vi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,p),p}),MS.apply(this,arguments)}function OS(n,e){const t=Vi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function _O(n){const{app:e}=n,t=Vi(e);let r=t.tokenRefresher;r||(r=function XL(n){const{app:e}=n;return new FL((0,ae.Z)(function*(){let r;if(r=Vi(e).token?yield xI(n,!0):yield xI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Vi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},cO.RETRIAL_MIN_WAIT,cO.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Hy(n){return n.expireTimeMillis-Date.now()>0}function bO(n){return{token:JL(QL),error:n}}class e2{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Vi(this.app);for(const t of e)OS(this.app,t.next);return Promise.resolve()}}const SO="app-check-internal";!function p2(){(0,oc._registerComponent)(new Pm.wA("app-check",n=>function t2(n,e){return new e2(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(SO).initialize()})),(0,oc._registerComponent)(new Pm.wA(SO,n=>function n2(n){return{getToken:e=>xI(n,e),addTokenListener:e=>function PS(n,e,t,r){const{app:i}=n,l=Vi(i);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&Hy(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),_O(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>_O(n))}(n,"INTERNAL",e),removeTokenListener:e=>OS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,oc.registerVersion)("@firebase/app-check","0.6.2")}();class FS{constructor(){return(0,oi.vb)("app-check")}}typeof window<"u"&&window;var v2=N(9260);const MO=new a.OlP("angularfire2.auth.use-emulator"),PO=new a.OlP("angularfire2.auth.settings"),OO=new a.OlP("angularfire2.auth.tenant-id"),kO=new a.OlP("angularfire2.auth.langugage-code"),NO=new a.OlP("angularfire2.auth.use-device-language"),RO=new a.OlP("angularfire.auth.persistence"),FO=(n,e,t,r,i,l,u,p)=>(0,ua.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,l&&y.useDeviceLanguage(),u)for(const[C,T]of Object.entries(u))y.settings[C]=T;return p&&y.setPersistence(p),y},[t,r,i,l,u,p]);let LO=(()=>{class n{constructor(t,r,i,l,u,p,y,C,T,A,L,B){const Z=new Wh.x,se=_t(void 0).pipe((0,bI.Q)(u.outsideAngular),vi(()=>l.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,4383)))),(0,Dt.U)(()=>(0,ua.on)(t,l,r)),(0,Dt.U)(Ce=>FO(Ce,l,p,C,T,A,y,L)),iO({bufferSize:1,refCount:!1}));if(ll(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=_t(null);else{se.pipe(Zu()).subscribe();const $e=se.pipe(vi(st=>st.getRedirectResult().then(Ct=>Ct,()=>null)),oi.iC,iO({bufferSize:1,refCount:!1})),dt=se.pipe(vi(st=>new Cs.y(Ct=>({unsubscribe:l.runOutsideAngular(()=>st.onAuthStateChanged(Nt=>Ct.next(Nt),Nt=>Ct.error(Nt),()=>Ct.complete()))})))),ft=se.pipe(vi(st=>new Cs.y(Ct=>({unsubscribe:l.runOutsideAngular(()=>st.onIdTokenChanged(Nt=>Ct.next(Nt),Nt=>Ct.error(Nt),()=>Ct.complete()))}))));this.authState=$e.pipe(sO(dt),(0,yS.R)(u.outsideAngular),(0,bI.Q)(u.insideAngular)),this.user=$e.pipe(sO(ft),(0,yS.R)(u.outsideAngular),(0,bI.Q)(u.insideAngular)),this.idToken=this.user.pipe(vi(st=>st?(0,Rn.D)(st.getIdToken()):_t(null))),this.idTokenResult=this.user.pipe(vi(st=>st?(0,Rn.D)(st.getIdTokenResult()):_t(null))),this.credential=(0,bL.T)($e,Z,this.authState.pipe(Or(st=>!st))).pipe((0,Dt.U)(st=>st?.user?st:null),(0,yS.R)(u.outsideAngular),(0,bI.Q)(u.insideAngular))}return(0,ua.pX)(this,se,l,{spy:{apply:(Ce,$e,dt)=>{(Ce.startsWith("signIn")||Ce.startsWith("createUser"))&&dt.then(ft=>Z.next(ft))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ua.Dh),a.LFG(ua.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(oi.HU),a.LFG(MO,8),a.LFG(PO,8),a.LFG(OO,8),a.LFG(kO,8),a.LFG(NO,8),a.LFG(RO,8),a.LFG(FS,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function UO(n,e){return function w2(n,e=hD.z){return new Cs.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function US(n,e){return UO(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function AI(n,e){return US(n,e).pipe(cp(void 0),fv(),(0,Dt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,p)=>{const y=i.find(T=>T.doc.ref.isEqual(u.ref)),C=t?.payload.docs.find(T=>T.ref.isEqual(u.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(u.metadata)||!y&&C&&JSON.stringify(C.metadata)===JSON.stringify(u.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:u}})}),l}))}function VO(n,e,t){return AI(n,t).pipe(ch((r,i)=>function E2(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function I2(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return VS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return VS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return VS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function iC(n,e=up.y){return n=n??oC,(0,yn.e)((t,r)=>{let i,l=!0;t.subscribe((0,ri.x)(r,u=>{const p=e(u);(l||!n(i,p))&&(l=!1,i=p,r.next(u))}))})}(),(0,Dt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function VS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function BO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class jO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=AI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(cp(void 0),fv(),Or(([r,i])=>i.length>0||!r),(0,Dt.U)(([r,i])=>i),oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(ch((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=BO(e);return VO(this.query,t,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return US(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),oi.iC)}get(e){return(0,Rn.D)(this.query.get(e)).pipe(oi.iC)}add(e){return this.ref.add(e)}doc(e){return new HO(this.ref.doc(e),this.afs)}}class HO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=zO(r,t);return new jO(i,l,this.afs)}snapshotChanges(){return function C2(n,e){return UO(n,e).pipe(cp(void 0),fv(),(0,Dt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Rn.D)(this.ref.get(e)).pipe(oi.iC)}}class T2{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?AI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Or(t=>t.length>0),oi.iC):AI(this.query,this.afs.schedulers.outsideAngular).pipe(oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(ch((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=BO(e);return VO(this.query,t,this.afs.schedulers.outsideAngular).pipe(oi.iC)}valueChanges(e={}){return US(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),oi.iC)}get(e){return(0,Rn.D)(this.query.get(e)).pipe(oi.iC)}}const $O=new a.OlP("angularfire2.enableFirestorePersistence"),ZO=new a.OlP("angularfire2.firestore.persistenceSettings"),D2=new a.OlP("angularfire2.firestore.settings"),x2=new a.OlP("angularfire2.firestore.use-emulator");function zO(n,e=(t=>t)){return{query:e(n),ref:n}}let MI=(()=>{class n{constructor(t,r,i,l,u,p,y,C,T,A,L,B,Z,se,Ce,$e,dt){this.schedulers=y;const ft=(0,ua.on)(t,p,r),st=T;A&&FO(ft,p,L,Z,se,Ce,B,$e),[this.firestore,this.persistenceEnabled$]=(0,ua.cc)(`${ft.name}.firestore`,"AngularFirestore",ft.name,()=>{const Ct=p.runOutsideAngular(()=>ft.firestore());if(l&&Ct.settings(l),st&&Ct.useEmulator(...st),i&&!ll(u)){const Nt=()=>{try{return(0,Rn.D)(Ct.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(dn){return typeof console<"u"&&console.warn(dn),_t(!1)}};return[Ct,p.runOutsideAngular(Nt)]}return[Ct,_t(!1)]},[l,st,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:u}=zO(i,r),p=this.schedulers.ngZone.run(()=>l);return new jO(p,u,this)}collectionGroup(t,r){const i=r||(u=>u),l=this.firestore.collectionGroup(t);return new T2(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new HO(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ua.Dh),a.LFG(ua.xv,8),a.LFG($O,8),a.LFG(D2,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(oi.HU),a.LFG(ZO,8),a.LFG(x2,8),a.LFG(LO,8),a.LFG(MO,8),a.LFG(PO,8),a.LFG(OO,8),a.LFG(kO,8),a.LFG(NO,8),a.LFG(RO,8),a.LFG(FS,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),S2=(()=>{class n{constructor(){v2.Z.registerVersion("angularfire",oi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:$O,useValue:!0},{provide:ZO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[MI]}),n})();const A2_firebase={apiKey:"AIzaSyB3BREUyrFZcuF_k8Y4oqXP_wj2-41YQJ8",authDomain:"my-portfolio-a2645.firebaseapp.com",projectId:"my-portfolio-a2645",storageBucket:"my-portfolio-a2645.firebasestorage.app",messagingSenderId:"1061812680711",appId:"1:1061812680711:web:d4a0cec8bbcb64a7d452a2"};class Ps extends Wh.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var M2=N(9672);function qO(...n){const e=(0,Gd.yG)(n),t=(0,Gd.jO)(n),{args:r,keys:i}=em(n);if(0===r.length)return(0,Rn.D)([],e);const l=new Cs.y(function P2(n,e,t=up.y){return r=>{GO(e,()=>{const{length:i}=n,l=new Array(i);let u=i,p=i;for(let y=0;y<i;y++)GO(e,()=>{const C=(0,Rn.D)(n[y],e);let T=!1;C.subscribe((0,ri.x)(r,A=>{l[y]=A,T||(T=!0,p--),p||r.next(t(l.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>bu(i,u):up.y));return t?l.pipe(Jb(t)):l}function GO(n,e,t){n?(0,M2.f)(t,n,e):e()}function WO(n){return new Cs.y(e=>{(0,Gf.Xf)(n()).subscribe(e)})}var O2=N(9635);function ub(n,e){const t=(0,zo.m)(n)?n:()=>n,r=i=>i.error(t());return new Cs.y(e?i=>e.schedule(r,0,i):r)}var BS=N(727);function jS(){return(0,yn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ri.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class KO extends Cs.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,yn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new BS.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ri.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=BS.w0.EMPTY)}return e}refCount(){return jS()(this)}}var Ji=N(8505);function Yh(n){return(0,yn.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,ri.x)(t,void 0,void 0,u=>{l=(0,Gf.Xf)(n(u,Yh(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function HS(n){return n<=0?()=>Kh.E:(0,yn.e)((e,t)=>{let r=[];e.subscribe((0,ri.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function YO(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Or((i,l)=>n(i,l,r)):up.y,HS(1),t?wI(e):oO(()=>new ab))}function $S(n){return(0,yn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Gt="primary",db=Symbol("RouteTitle");class R2{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function $y(n){return new R2(n)}function F2(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const u=r[l],p=n[l];if(u.startsWith(":"))i[u.substring(1)]=p;else if(u!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Sc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!QO(n[i],e[i]))return!1;return!0}function QO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function JO(n){return Array.prototype.concat.apply([],n)}function XO(n){return n.length>0?n[n.length-1]:null}function Bi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Qh(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,Rn.D)(Promise.resolve(n)):_t(n)}const PI=!1,U2={exact:function nk(n,e,t){if(!pg(n.segments,e.segments)||!OI(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!nk(n.children[r],e.children[r],t))return!1;return!0},subset:rk},ek={exact:function V2(n,e){return Sc(n,e)},subset:function B2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>QO(n[t],e[t]))},ignored:()=>!0};function tk(n,e,t){return U2[t.paths](n.root,e.root,t.matrixParams)&&ek[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function rk(n,e,t){return ik(n,e,e.segments,t)}function ik(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!pg(i,t)||e.hasChildren()||!OI(i,t,r))}if(n.segments.length===t.length){if(!pg(n.segments,t)||!OI(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!rk(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(pg(n.segments,i)&&OI(n.segments,i,r)&&n.children[Gt])&&ik(n.children[Gt],e,l,r)}}function OI(n,e,t){return e.every((r,i)=>ek[t](n[i].parameters,r.parameters))}class Jh{constructor(e=new en([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$y(this.queryParams)),this._queryParamMap}toString(){return $2.serialize(this)}}class en{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Bi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kI(this)}}class hb{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=$y(this.parameters)),this._parameterMap}toString(){return ak(this)}}function pg(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let fb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new ZS},providedIn:"root"}),n})();class ZS{parse(e){const t=new J2(e);return new Jh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${pb(e.root,!0)}`,r=function q2(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${NI(t)}=${NI(i)}`).join("&"):`${NI(t)}=${NI(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Z2(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const $2=new ZS;function kI(n){return n.segments.map(e=>ak(e)).join("/")}function pb(n,e){if(!n.hasChildren())return kI(n);if(e){const t=n.children[Gt]?pb(n.children[Gt],!1):"",r=[];return Bi(n.children,(i,l)=>{l!==Gt&&r.push(`${l}:${pb(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function H2(n,e){let t=[];return Bi(n.children,(r,i)=>{i===Gt&&(t=t.concat(e(r,i)))}),Bi(n.children,(r,i)=>{i!==Gt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Gt?[pb(n.children[Gt],!1)]:[`${i}:${pb(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${kI(n)}/${t[0]}`:`${kI(n)}/(${t.join("//")})`}}function ok(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function NI(n){return ok(n).replace(/%3B/gi,";")}function zS(n){return ok(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function RI(n){return decodeURIComponent(n)}function sk(n){return RI(n.replace(/\+/g,"%20"))}function ak(n){return`${zS(n.path)}${function z2(n){return Object.keys(n).map(e=>`;${zS(e)}=${zS(n[e])}`).join("")}(n.parameters)}`}const G2=/^[^\/()?;=#]+/;function FI(n){const e=n.match(G2);return e?e[0]:""}const W2=/^[^=?&#]+/,Y2=/^[^&#]+/;class J2{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gt]=new en(e,t)),r}parseSegment(){const e=FI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,PI);return this.capture(e),new hb(RI(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=FI(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=FI(this.remaining);i&&(r=i,this.capture(r))}e[RI(t)]=RI(r)}parseQueryParam(e){const t=function K2(n){const e=n.match(W2);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function Q2(n){const e=n.match(Y2);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=sk(t),l=sk(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=FI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new a.vHH(4010,PI);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Gt);const u=this.parseChildren();t[l]=1===Object.keys(u).length?u[Gt]:new en([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,PI)}}function qS(n){return n.segments.length>0?new en([],{[Gt]:n}):n}function LI(n){const e={};for(const r of Object.keys(n.children)){const l=LI(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function X2(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new en(n.segments.concat(e.segments),e.children)}return n}(new en(n.segments,e))}function gg(n){return n instanceof Jh}const GS=!1;function eU(n,e,t,r,i){if(0===t.length)return Zy(e.root,e.root,e.root,r,i);const l=function hk(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dk(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,u)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Bi(l.outlets,(y,C)=>{p[C]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===u?(l.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,l]},[]);return new dk(t,e,r)}(t);return l.toRoot()?Zy(e.root,e.root,new en([],{}),r,i):function u(y){const C=function nU(n,e,t,r){if(n.isAbsolute)return new zy(e.root,!0,0);if(-1===r)return new zy(t,t===e.root,0);return function fk(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new a.vHH(4005,GS&&"Invalid number of '../'");i=r.segments.length}return new zy(r,!1,i-l)}(t,r+(gb(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,y),T=C.processChildren?qy(C.segmentGroup,C.index,l.commands):WS(C.segmentGroup,C.index,l.commands);return Zy(e.root,C.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function gb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function mb(n){return"object"==typeof n&&null!=n&&n.outlets}function Zy(n,e,t,r,i){let u,l={};r&&Bi(r,(y,C)=>{l[C]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),u=n===e?t:uk(n,e,t);const p=qS(LI(u));return new Jh(p,l,i)}function uk(n,e,t){const r={};return Bi(n.children,(i,l)=>{r[l]=i===e?t:uk(i,e,t)}),new en(n.segments,r)}class dk{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gb(r[0]))throw new a.vHH(4003,GS&&"Root segment cannot have matrix parameters");const i=r.find(mb);if(i&&i!==XO(r))throw new a.vHH(4004,GS&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function WS(n,e,t){if(n||(n=new en([],{})),0===n.segments.length&&n.hasChildren())return qy(n,e,t);const r=function iU(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const u=n.segments[i],p=t[r];if(mb(p))break;const y=`${p}`,C=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&C&&"object"==typeof C&&void 0===C.outlets){if(!gk(y,C,u))return l;r+=2}else{if(!gk(y,{},u))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new en(n.segments.slice(0,r.pathIndex),{});return l.children[Gt]=new en(n.segments.slice(r.pathIndex),n.children),qy(l,0,i)}return r.match&&0===i.length?new en(n.segments,{}):r.match&&!n.hasChildren()?KS(n,e,t):r.match?qy(n,0,i):KS(n,e,t)}function qy(n,e,t){if(0===t.length)return new en(n.segments,{});{const r=function rU(n){return mb(n[0])?n[0].outlets:{[Gt]:n}}(t),i={};if(!r[Gt]&&n.children[Gt]&&1===n.numberOfChildren&&0===n.children[Gt].segments.length){const l=qy(n.children[Gt],e,t);return new en(n.segments,l.children)}return Bi(r,(l,u)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[u]=WS(n.children[u],e,l))}),Bi(n.children,(l,u)=>{void 0===r[u]&&(i[u]=l)}),new en(n.segments,i)}}function KS(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(mb(l)){const y=oU(l.outlets);return new en(r,y)}if(0===i&&gb(t[0])){r.push(new hb(n.segments[e].path,pk(t[0]))),i++;continue}const u=mb(l)?l.outlets[Gt]:`${l}`,p=i<t.length-1?t[i+1]:null;u&&p&&gb(p)?(r.push(new hb(u,pk(p))),i+=2):(r.push(new hb(u,{})),i++)}return new en(r,{})}function oU(n){const e={};return Bi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=KS(new en([],{}),0,t))}),e}function pk(n){const e={};return Bi(n,(t,r)=>e[r]=`${t}`),e}function gk(n,e,t){return n==t.path&&Sc(e,t.parameters)}const yb="imperative";class Ac{constructor(e,t){this.id=e,this.url=t}}class YS extends Ac{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xh extends Ac{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class UI extends Ac{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class VI extends Ac{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class QS extends Ac{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sU extends Ac{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aU extends Ac{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lU extends Ac{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cU extends Ac{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uU extends Ac{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dU{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hU{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fU{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pU{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gU{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mU{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mk{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let vU=(()=>{class n{createUrlTree(t,r,i,l,u,p){return eU(t||r.root,i,l,u,p)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),wU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){return vU.\u0275fac(e)},providedIn:"root"}),n})();class yk{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=JS(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=JS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=XS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return XS(e,this._root).map(t=>t.value)}}function JS(n,e){if(n===e.value)return e;for(const t of e.children){const r=JS(n,t);if(r)return r}return null}function XS(n,e){if(n===e.value)return[e];for(const t of e.children){const r=XS(n,t);if(r.length)return r.unshift(e),r}return[]}class zu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Gy(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _k extends yk{constructor(e,t){super(e),this.snapshot=t,eA(this,e)}toString(){return this.snapshot.toString()}}function vk(n,e){const t=function CU(n,e){const u=new BI([],{},{},"",{},Gt,e,null,n.root,-1,{});return new wk("",new zu(u,[]))}(n,e),r=new Ps([new hb("",{})]),i=new Ps({}),l=new Ps({}),u=new Ps({}),p=new Ps(""),y=new mg(r,i,u,p,l,Gt,e,t.root);return y.snapshot=t.root,new _k(new zu(y,[]),t)}class mg{constructor(e,t,r,i,l,u,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=u,this.component=p,this.title=this.data?.pipe((0,Dt.U)(C=>C[db]))??_t(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>$y(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>$y(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bk(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function EU(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class BI{get title(){return this.data?.[db]}constructor(e,t,r,i,l,u,p,y,C,T,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=u,this.component=p,this.routeConfig=y,this._urlSegment=C,this._lastPathIndex=T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$y(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$y(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wk extends yk{constructor(e,t){super(t),this.url=e,eA(this,t)}toString(){return Ck(this._root)}}function eA(n,e){e.value._routerState=n,e.children.forEach(t=>eA(n,t))}function Ck(n){const e=n.children.length>0?` { ${n.children.map(Ck).join(", ")} } `:"";return`${n.value}${e}`}function tA(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Sc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Sc(e.params,t.params)||n.params.next(t.params),function L2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Sc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Sc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nA(n,e){const t=Sc(n.params,e.params)&&function j2(n,e){return pg(n,e)&&n.every((t,r)=>Sc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||nA(n.parent,e.parent))}function _b(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function TU(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _b(n,r,i);return _b(n,r)})}(n,e,t);return new zu(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const u=l.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(p=>_b(n,p)),u}}const r=function DU(n){return new mg(new Ps(n.url),new Ps(n.params),new Ps(n.queryParams),new Ps(n.fragment),new Ps(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>_b(n,l));return new zu(r,i)}}const rA="ngNavigationCancelingError";function Ek(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=gg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ik(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Ik(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[rA]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Tk(n){return Dk(n)&&gg(n.url)}function Dk(n){return n&&n[rA]}class xU{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new vb,this.attachRef=null}}let vb=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new xU,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jI=!1;let iA=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gt,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(vb),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,jI);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,jI);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,jI);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new a.vHH(4013,jI);this._activatedRoute=t;const i=this.location,u=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new SU(t,p,i.injector);if(r&&function AU(n){return!!n.resolveComponentFactory}(r)){const C=r.resolveComponentFactory(u);this.activated=i.createComponent(C,i.length,y)}else this.activated=i.createComponent(u,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),n})();class SU{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===mg?this.route:e===vb?this.childContexts:this.parent.get(e,t)}}let oA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},dependencies:[iA],encapsulation:2}),n})();function xk(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function aA(n){const e=n.children&&n.children.map(aA),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=oA),t}function pa(n){return n.outlet||Gt}function Sk(n,e){const t=n.filter(r=>pa(r)===e);return t.push(...n.filter(r=>pa(r)!==e)),t}function bb(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class NU{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),tA(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Gy(t);e.children.forEach(l=>{const u=l.value.outlet;this.deactivateRoutes(l,i[u],r),delete i[u]}),Bi(i,(l,u)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Gy(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],i);if(r&&r.outlet){const u=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Gy(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Gy(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new mU(l.value.snapshot))}),e.children.length&&this.forwardEvent(new pU(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(tA(i),i===l)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(p.contexts),u.attachRef=p.componentRef,u.route=p.route.value,u.outlet&&u.outlet.attach(p.componentRef,p.route.value),tA(p.route.value),this.activateChildRoutes(e,null,u.children)}else{const p=bb(i.snapshot),y=p?.get(a._Vd)??null;u.attachRef=null,u.route=i,u.resolver=y,u.injector=p,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class Ak{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class HI{constructor(e,t){this.component=e,this.route=t}}function RU(n,e,t){const r=n._root;return wb(r,e?e._root:null,t,[r.value])}function Wy(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:r}function wb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Gy(e);return n.children.forEach(u=>{(function LU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,u=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){const y=function UU(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!pg(n.url,e.url);case"pathParamsOrQueryParamsChange":return!pg(n.url,e.url)||!Sc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nA(n,e)||!Sc(n.queryParams,e.queryParams);default:return!nA(n,e)}}(u,l,l.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new Ak(r)):(l.data=u.data,l._resolvedData=u._resolvedData),wb(n,e,l.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new HI(p.outlet.component,u))}else u&&Cb(e,p,i),i.canActivateChecks.push(new Ak(r)),wb(n,null,l.component?p?p.children:null:t,r,i)})(u,l[u.value.outlet],t,r.concat([u.value]),i),delete l[u.value.outlet]}),Bi(l,(u,p)=>Cb(u,t.getContext(p),i)),i}function Cb(n,e,t){const r=Gy(n),i=n.value;Bi(r,(l,u)=>{Cb(l,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new HI(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Eb(n){return"function"==typeof n}function lA(n){return n instanceof ab||"EmptyError"===n?.name}const $I=Symbol("INITIAL_VALUE");function Ky(){return vi(n=>qO(n.map(e=>e.pipe(jy(1),cp($I)))).pipe((0,Dt.U)(e=>{for(const t of e)if(!0!==t){if(t===$I)return $I;if(!1===t||t instanceof Jh)return t}return!0}),Or(e=>e!==$I),jy(1)))}function Mk(n){return(0,O2.z)((0,Ji.b)(e=>{if(gg(e))throw Ek(0,e)}),(0,Dt.U)(e=>!0===e))}const cA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Pk(n,e,t,r,i){const l=uA(n,e,t);return l.matched?function tV(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?_t(i.map(u=>{const p=Wy(u,n);return Qh(function ZU(n){return n&&Eb(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(Ky(),Mk()):_t(!0)}(r=xk(e,r),e,t).pipe((0,Dt.U)(u=>!0===u?l:{...cA})):_t(l)}function uA(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...cA}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||F2)(t,n,e);if(!i)return{...cA};const l={};Bi(i.posParams,(p,y)=>{l[y]=p.path});const u=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function ZI(n,e,t,r){if(t.length>0&&function iV(n,e,t){return t.some(r=>zI(n,e,r)&&pa(r)!==Gt)}(n,t,r)){const l=new en(e,function rV(n,e,t,r){const i={};i[Gt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&pa(l)!==Gt){const u=new en([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[pa(l)]=u}return i}(n,e,r,new en(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function oV(n,e,t){return t.some(r=>zI(n,e,r))}(n,t,r)){const l=new en(n.segments,function nV(n,e,t,r,i){const l={};for(const u of r)if(zI(n,t,u)&&!i[pa(u)]){const p=new en([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,l[pa(u)]=p}return{...i,...l}}(n,e,t,r,n.children));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const i=new en(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function zI(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Ok(n,e,t,r){return!!(pa(n)===r||r!==Gt&&zI(e,t,n))&&("**"===n.path||uA(e,n,t).matched)}function kk(n,e,t){return 0===e.length&&!n.children[t]}const qI=!1;class GI{constructor(e){this.segmentGroup=e||null}}class Nk{constructor(e){this.urlTree=e}}function Ib(n){return ub(new GI(n))}function Rk(n){return ub(new Nk(n))}function sV(n){return ub(new a.vHH(4e3,qI&&`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class cV{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=ZI(this.urlTree.root,[],[],this.config).segmentGroup,t=new en(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Gt).pipe((0,Dt.U)(l=>this.createUrlTree(LI(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yh(l=>{if(l instanceof Nk)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof GI?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Gt).pipe((0,Dt.U)(i=>this.createUrlTree(LI(i),e.queryParams,e.fragment))).pipe(Yh(i=>{throw i instanceof GI?this.noMatchError(i):i}))}noMatchError(e){return new a.vHH(4002,qI&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=qS(e);return new Jh(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Dt.U)(l=>new en([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,Rn.D)(i).pipe(qo(l=>{const u=r.children[l],p=Sk(t,l);return this.expandSegmentGroup(e,p,u,l).pipe((0,Dt.U)(y=>({segment:y,outlet:l})))}),ch((l,u)=>(l[u.outlet]=u.segment,l),{}),YO())}expandSegment(e,t,r,i,l,u){return(0,Rn.D)(r).pipe(qo(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,l,u).pipe(Yh(C=>{if(C instanceof GI)return _t(null);throw C}))),Zu(p=>!!p),Yh((p,y)=>{if(lA(p))return kk(t,i,l)?_t(new en([],{})):Ib(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,l,u,p){return Ok(i,t,l,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,u):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u):Ib(t):Ib(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Rk(l):this.lineralizeSegments(r,l).pipe((0,Pi.z)(u=>{const p=new en(u,{});return this.expandSegment(e,p,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u){const{matched:p,consumedSegments:y,remainingSegments:C,positionalParamSegments:T}=uA(t,i,l);if(!p)return Ib(t);const A=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?Rk(A):this.lineralizeSegments(i,A).pipe((0,Pi.z)(L=>this.expandSegment(e,t,r,L.concat(C),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=xk(r,e),r.loadChildren?(r._loadedRoutes?_t({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Dt.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new en(i,{})))):_t(new en(i,{}))):Pk(t,r,i,e).pipe(vi(({matched:u,consumedSegments:p,remainingSegments:y})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Pi.z)(T=>{const A=T.injector??e,L=T.routes,{segmentGroup:B,slicedSegments:Z}=ZI(t,p,y,L),se=new en(B.segments,B.children);if(0===Z.length&&se.hasChildren())return this.expandChildren(A,L,se).pipe((0,Dt.U)(ft=>new en(p,ft)));if(0===L.length&&0===Z.length)return _t(new en(p,{}));const Ce=pa(r)===l;return this.expandSegment(A,se,L,Z,Ce?Gt:l,!0).pipe((0,Dt.U)(dt=>new en(p.concat(dt.segments),dt.children)))})):Ib(t)))}getChildConfig(e,t,r){return t.children?_t({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?_t({routes:t._loadedRoutes,injector:t._loadedInjector}):function eV(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?_t(!0):_t(i.map(u=>{const p=Wy(u,n);return Qh(function BU(n){return n&&Eb(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(Ky(),Mk())}(e,t,r).pipe((0,Pi.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Ji.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function aV(n){return ub(Ik(qI&&`Cannot load children because the guard of the route "path: '${n.path}'" returned false`,3))}(t))):_t({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return _t(r);if(i.numberOfChildren>1||!i.children[Gt])return sV(e.redirectTo);i=i.children[Gt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Jh(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Bi(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[l]=t[p]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let u={};return Bi(t.children,(p,y)=>{u[y]=this.createSegmentGroup(e,p,r,i)}),new en(l,u)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new a.vHH(4001,qI&&`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class dV{}class pV{constructor(e,t,r,i,l,u,p){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=u,this.urlSerializer=p}recognize(){const e=ZI(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Gt).pipe((0,Dt.U)(t=>{if(null===t)return null;const r=new BI([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new zu(r,t),l=new wk(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=bk(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Rn.D)(Object.keys(r.children)).pipe(qo(i=>{const l=r.children[i],u=Sk(t,i);return this.processSegmentGroup(e,u,l,i)}),ch((i,l)=>i&&l?(i.push(...l),i):null),function k2(n,e=!1){return(0,yn.e)((t,r)=>{let i=0;t.subscribe((0,ri.x)(r,l=>{const u=n(l,i++);(u||e)&&r.next(l),!u&&r.complete()}))})}(i=>null!==i),wI(null),YO(),(0,Dt.U)(i=>{if(null===i)return null;const l=Lk(i);return function gV(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,Rn.D)(t).pipe(qo(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,l)),Zu(u=>!!u),Yh(u=>{if(lA(u))return kk(r,i,l)?_t([]):_t(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!Ok(t,r,i,l))return _t(null);let u;if("**"===t.path){const p=i.length>0?XO(i).parameters:{},y=Vk(r)+i.length;u=_t({snapshot:new BI(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bk(t),pa(t),t.component??t._loadedComponent??null,t,Uk(r),y,jk(t)),consumedSegments:[],remainingSegments:[]})}else u=Pk(r,t,i,e).pipe((0,Dt.U)(({matched:p,consumedSegments:y,remainingSegments:C,parameters:T})=>{if(!p)return null;const A=Vk(r)+y.length;return{snapshot:new BI(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bk(t),pa(t),t.component??t._loadedComponent??null,t,Uk(r),A,jk(t)),consumedSegments:y,remainingSegments:C}}));return u.pipe(vi(p=>{if(null===p)return _t(null);const{snapshot:y,consumedSegments:C,remainingSegments:T}=p;e=t._injector??e;const A=t._loadedInjector??e,L=function mV(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:Z}=ZI(r,C,T,L.filter(Ce=>void 0===Ce.redirectTo));if(0===Z.length&&B.hasChildren())return this.processChildren(A,L,B).pipe((0,Dt.U)(Ce=>null===Ce?null:[new zu(y,Ce)]));if(0===L.length&&0===Z.length)return _t([new zu(y,[])]);const se=pa(t)===l;return this.processSegment(A,L,B,Z,se?Gt:l).pipe((0,Dt.U)(Ce=>null===Ce?null:[new zu(y,Ce)]))}))}}function yV(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Lk(n){const e=[],t=new Set;for(const r of n){if(!yV(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Lk(r.children);e.push(new zu(r.value,i))}return e.filter(r=>!t.has(r))}function Uk(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Vk(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Bk(n){return n.data||{}}function jk(n){return n.resolve||{}}function Hk(n){return"string"==typeof n.title||null===n.title}function dA(n){return vi(e=>{const t=n(e);return t?(0,Rn.D)(t).pipe((0,Dt.U)(()=>e)):_t(e)})}const Yy=new a.OlP("ROUTES");let hA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return _t(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Qh(t.loadComponent()).pipe((0,Dt.U)(Zk),(0,Ji.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),$S(()=>{this.componentLoaders.delete(t)})),i=new KO(r,()=>new Wh.x).pipe(jS());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return _t({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Dt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,C,T=!1;Array.isArray(p)?C=p:(y=p.create(t).injector,C=JO(y.get(Yy,[],a.XFs.Self|a.XFs.Optional)));return{routes:C.map(aA),injector:y}}),$S(()=>{this.childrenLoaders.delete(r)})),u=new KO(l,()=>new Wh.x).pipe(jS());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return Qh(t()).pipe((0,Dt.U)(Zk),(0,Pi.z)(r=>r instanceof a.YKP||Array.isArray(r)?_t(r):(0,Rn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zk(n){return function TV(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let KI=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Wh.x,this.configLoader=(0,a.f3M)(hA),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(fb),this.rootContexts=(0,a.f3M)(vb),this.navigationId=0,this.afterPreactivation=()=>_t(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new hU(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new dU(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ps({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yb,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Or(r=>0!==r.id),(0,Dt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),vi(r=>{let i=!1,l=!1;return _t(r).pipe((0,Ji.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vi(u=>{const p=t.browserUrlTree.toString(),y=!t.navigated||u.extractedUrl.toString()!==p||p!==t.currentUrlTree.toString();if(!y&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new VI(u.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),Kh.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return zk(u.source)&&(t.browserUrlTree=u.extractedUrl),_t(u).pipe(vi(T=>{const A=this.transitions?.getValue();return this.events.next(new YS(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),A!==this.transitions?.getValue()?Kh.E:Promise.resolve(T)}),function uV(n,e,t,r){return vi(i=>function lV(n,e,t,r,i){return new cV(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Dt.U)(l=>({...i,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Ji.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function vV(n,e,t,r,i){return(0,Pi.z)(l=>function fV(n,e,t,r,i,l,u="emptyOnly"){return new pV(n,e,t,r,i,u,l).recognize().pipe(vi(p=>null===p?function hV(n){return new Cs.y(e=>e.error(n))}(new dV):_t(p)))}(n,e,t,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,i).pipe((0,Dt.U)(u=>({...l,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Ji.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const L=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(L,T)}t.browserUrlTree=T.urlAfterRedirects}const A=new sU(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(A)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:A,source:L,restoredState:B,extras:Z}=u,se=new YS(T,this.urlSerializer.serialize(A),L,B);this.events.next(se);const Ce=vk(A,this.rootComponentType).snapshot;return _t(r={...u,targetSnapshot:Ce,urlAfterRedirects:A,extras:{...Z,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new VI(u.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),Kh.E}}),(0,Ji.b)(u=>{const p=new aU(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),(0,Dt.U)(u=>r={...u,guards:RU(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function qU(n,e){return(0,Pi.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:u}}=t;return 0===u.length&&0===l.length?_t({...t,guardsResult:!0}):function GU(n,e,t,r){return(0,Rn.D)(n).pipe((0,Pi.z)(i=>function XU(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?_t(l.map(p=>{const y=bb(e)??i,C=Wy(p,y);return Qh(function $U(n){return n&&Eb(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):y.runInContext(()=>C(n,e,t,r))).pipe(Zu())})).pipe(Ky()):_t(!0)}(i.component,i.route,t,e,r)),Zu(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Pi.z)(p=>p&&function VU(n){return"boolean"==typeof n}(p)?function WU(n,e,t,r){return(0,Rn.D)(e).pipe(qo(i=>dr(function YU(n,e){return null!==n&&e&&e(new fU(n)),_t(!0)}(i.route.parent,r),function KU(n,e){return null!==n&&e&&e(new gU(n)),_t(!0)}(i.route,r),function JU(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(u=>function FU(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>WO(()=>_t(u.guards.map(y=>{const C=bb(u.node)??t,T=Wy(y,C);return Qh(function HU(n){return n&&Eb(n.canActivateChild)}(T)?T.canActivateChild(r,n):C.runInContext(()=>T(r,n))).pipe(Zu())})).pipe(Ky())));return _t(l).pipe(Ky())}(n,i.path,t),function QU(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return _t(!0);const i=r.map(l=>WO(()=>{const u=bb(e)??t,p=Wy(l,u);return Qh(function jU(n){return n&&Eb(n.canActivate)}(p)?p.canActivate(e,n):u.runInContext(()=>p(e,n))).pipe(Zu())}));return _t(i).pipe(Ky())}(n,i.route,t))),Zu(i=>!0!==i,!0))}(r,l,n,e):_t(p)),(0,Dt.U)(p=>({...t,guardsResult:p})))})}(this.environmentInjector,u=>this.events.next(u)),(0,Ji.b)(u=>{if(r.guardsResult=u.guardsResult,gg(u.guardsResult))throw Ek(0,u.guardsResult);const p=new lU(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(p)}),Or(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),dA(u=>{if(u.guards.canActivateChecks.length)return _t(u).pipe((0,Ji.b)(p=>{const y=new cU(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}),vi(p=>{let y=!1;return _t(p).pipe(function bV(n,e){return(0,Pi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return _t(t);let l=0;return(0,Rn.D)(i).pipe(qo(u=>function wV(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!Hk(i)&&(l[db]=i.title),function CV(n,e,t,r){const i=function EV(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return _t({});const l={};return(0,Rn.D)(i).pipe((0,Pi.z)(u=>function IV(n,e,t,r){const i=bb(e)??r,l=Wy(n,i);return Qh(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[u],e,t,r).pipe(Zu(),(0,Ji.b)(p=>{l[u]=p}))),HS(1),function N2(n){return(0,Dt.U)(()=>n)}(l),Yh(u=>lA(u)?Kh.E:ub(u)))}(l,n,e,r).pipe((0,Dt.U)(u=>(n._resolvedData=u,n.data=bk(n,t).resolve,i&&Hk(i)&&(n.data[db]=i.title),null)))}(u.route,r,n,e)),(0,Ji.b)(()=>l++),HS(1),(0,Pi.z)(u=>l===i.length?_t(t):Kh.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Ji.b)({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,Ji.b)(p=>{const y=new uU(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}))}),dA(u=>{const p=y=>{const C=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,Ji.b)(T=>{y.component=T}),(0,Dt.U)(()=>{})));for(const T of y.children)C.push(...p(T));return C};return qO(p(u.targetSnapshot.root)).pipe(wI(),jy(1))}),dA(()=>this.afterPreactivation()),(0,Dt.U)(u=>{const p=function IU(n,e,t){const r=_b(n,e._root,t?t._root:void 0);return new _k(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:p}}),(0,Ji.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(r=>(new NU(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),jy(1),(0,Ji.b)({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Xh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),$S(()=>{i||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Yh(u=>{if(l=!0,Dk(u)){Tk(u)||(t.navigated=!0,t.restoreHistory(r,!0));const p=new UI(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(p),Tk(u)){const y=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||zk(r.source)};t.scheduleNavigation(y,yb,null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const p=new QS(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(t.errorHandler(u))}catch(y){r.reject(y)}}return Kh.E}))}))}cancelNavigationTransition(t,r,i){const l=new UI(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(l),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zk(n){return n!==yb}let qk=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===Gt);return r}getResolvedTitleForRoute(t){return t.data[db]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(DV)},providedIn:"root"}),n})(),DV=(()=>{class n extends qk{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(pd))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(AV)},providedIn:"root"}),n})();class SV{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let AV=(()=>{class n extends SV{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YI=new a.OlP("",{providedIn:"root",factory:()=>({})});let PV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(OV)},providedIn:"root"}),n})(),OV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kV(n){throw n}function NV(n,e,t){return e.parse("/")}const RV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(YI,{optional:!0})||{},this.errorHandler=this.options.errorHandler||kV,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||NV,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(PV),this.routeReuseStrategy=(0,a.f3M)(xV),this.urlCreationStrategy=(0,a.f3M)(wU),this.titleStrategy=(0,a.f3M)(qk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=JO((0,a.f3M)(Yy,{optional:!0})??[]),this.navigationTransitions=(0,a.f3M)(KI),this.urlSerializer=(0,a.f3M)(fb),this.location=(0,a.f3M)(Ue),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Jh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vk(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yb,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const l={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const y={...i};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(l.state=y)}const p=this.parseUrl(t);this.scheduleNavigation(p,r,u,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(aA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:u,queryParamsHandling:p,preserveFragment:y}=r,C=y?this.currentUrlTree.fragment:u;let T=null;switch(p){case"merge":T={...this.currentUrlTree.queryParams,...l};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=l||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,T,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=gg(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,yb,null,r)}navigate(t,r={skipLocationChange:!1}){return function LV(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new a.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...RV}:!1===r?{...FV}:r,gg(t))return tk(this.currentUrlTree,t,i);const l=this.parseUrl(t);return tk(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}scheduleNavigation(t,r,i,l,u){if(this.disposed)return Promise.resolve(!1);let p,y,C,T;return u?(p=u.resolve,y=u.reject,C=u.promise):C=new Promise((A,L)=>{p=A,y=L}),T="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:l,resolve:p,reject:y,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",u)}else{const l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",l)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-(this.browserPageId??this.currentPageId);0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tb=(()=>{class n{constructor(t,r,i,l,u,p){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=u,this.locationStrategy=p,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Wh.x;const y=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===y||"area"===y,this.isAnchorElement?this.subscription=t.events.subscribe(C=>{C instanceof Xh&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,l,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||l||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,l=this.el.nativeElement;null!==r?i.setAttribute(l,t,r):i.removeAttribute(l,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(xo),a.Y36(mg),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(at))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&a.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&a.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})(),Gk=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,l,u){this.router=t,this.element=r,this.renderer=i,this.cdr=l,this.link=u,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=t.events.subscribe(p=>{p instanceof Xh&&this.update()})}ngAfterContentInit(){_t(this.links.changes,_t(null)).pipe((0,lh.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Rn.D)(t).pipe((0,lh.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function UV(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(xo),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(Tb,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,Tb,5),2&t){let l;a.iGM(l=a.CRH())&&(r.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),n})();class Wk{}let VV=(()=>{class n{constructor(t,r,i,l,u){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Or(t=>t instanceof Xh),qo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,a.MMx)(l.providers,t,`Route: ${l.path}`));const u=l._injector??t,p=l._loadedInjector??u;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&i.push(this.preloadConfig(u,l)),(l.children||l._loadedRoutes)&&i.push(this.processRoutes(p,l.children??l._loadedRoutes))}return(0,Rn.D)(i).pipe((0,lh.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):_t(null);const l=i.pipe((0,Pi.z)(u=>null===u?_t(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,Rn.D)([l,u]).pipe((0,lh.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(xo),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(Wk),a.LFG(hA))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pA=new a.OlP("");let Kk=(()=>{class n{constructor(t,r,i,l,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=l,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof YS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof mk&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mk(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();var Os=(()=>((Os=Os||{})[Os.COMPLETE=0]="COMPLETE",Os[Os.FAILED=1]="FAILED",Os[Os.REDIRECTING=2]="REDIRECTING",Os))();const Qy=!1;function ef(n,e){return{\u0275kind:n,\u0275providers:e}}const gA=new a.OlP("",{providedIn:"root",factory:()=>!1});function Qk(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const r=n.get(xo),i=n.get(Jk);1===n.get(mA)&&r.initialNavigation(),n.get(Xk,null,a.XFs.Optional)?.setUpPreloading(),n.get(pA,null,a.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Jk=new a.OlP(Qy?"bootstrap done indicator":"",{factory:()=>new Wh.x}),mA=new a.OlP(Qy?"initial navigation":"",{providedIn:"root",factory:()=>1});function ZV(){let n=[];return n=Qy?[{provide:a.Xts,multi:!0,useFactory:()=>{const e=(0,a.f3M)(xo);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function yU(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],ef(1,n)}const Xk=new a.OlP(Qy?"router preloader":"");function zV(n){return ef(0,[{provide:Xk,useExisting:VV},{provide:Wk,useExisting:n}])}const Db=!1,eN=new a.OlP(Db?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),qV=[Ue,{provide:fb,useClass:ZS},xo,vb,{provide:mg,useFactory:function Yk(n){return n.routerState.root},deps:[xo]},hA,Db?{provide:gA,useValue:!0}:[]];function GV(){return new a.PXZ("Router",xo)}let tN=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[qV,Db&&r?.enableTracing?ZV().\u0275providers:[],{provide:Yy,multi:!0,useValue:t},{provide:eN,useFactory:QV,deps:[[xo,new a.FiY,new a.tp0]]},{provide:YI,useValue:r||{}},r?.useHash?{provide:at,useClass:De}:{provide:at,useClass:Se},{provide:pA,useFactory:()=>{const n=(0,a.f3M)(Bs),e=(0,a.f3M)(a.R0b),t=(0,a.f3M)(YI),r=(0,a.f3M)(KI),i=(0,a.f3M)(fb);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Kk(i,r,n,e,t)}},r?.preloadingStrategy?zV(r.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:GV},r?.initialNavigation?JV(r):[],[{provide:nN,useFactory:Qk},{provide:a.tb,multi:!0,useExisting:nN}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Yy,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(eN,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[oA]}),n})();function QV(n){if(Db&&n)throw new a.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function JV(n){return["disabled"===n.initialNavigation?ef(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(xo);return()=>{e.setUpLocationChangeListener()}}},{provide:mA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ef(2,[{provide:mA,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(he,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(xo),l=e.get(Jk);(function BV(n,e){n.events.pipe(Or(t=>t instanceof Xh||t instanceof UI||t instanceof QS||t instanceof VI),(0,Dt.U)(t=>t instanceof Xh||t instanceof VI?Os.COMPLETE:t instanceof UI&&(0===t.code||1===t.code)?Os.REDIRECTING:Os.FAILED),Or(t=>t!==Os.REDIRECTING),jy(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(KI).afterPreactivation=()=>(r(!0),l.closed?_t(void 0):l),i.initialNavigation()}))}}]).\u0275providers:[]]}const nN=new a.OlP(Db?"Router Initializer":"");let yA=(()=>{const e=class{constructor(r,i){this.http=r,this.titleService=i,this.configSubject=new Ps(null),this.config$=this.configSubject.asObservable(),this.loadConfig()}loadConfig(){this.http.get("assets/data/config.json").subscribe({next:r=>{this.configSubject.next(r),this.setPageTitle(r.portfolio.title)},error:r=>{console.error("Error loading config:",r),this.setPageTitle("Portfolio")}})}setPageTitle(r){this.titleService.setTitle(r)}getConfig(){return this.config$}getCurrentConfig(){return this.configSubject.value}};let n=e;return e.\u0275fac=function(i){return new(i||e)(a.LFG(rv),a.LFG(pd))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),_A=(()=>{const e=class{constructor(r,i){this.http=r,this.configService=i}getPersonalInfo(){return this.http.get("assets/data/personal-info.json")}getSkills(){return this.http.get("assets/data/skills.json")}getProjects(){return this.http.get("assets/data/projects.json")}getEducation(){return this.http.get("assets/data/education.json")}getConfig(){return this.http.get("assets/data/config.json")}getResumeUrl(){return this.configService.getCurrentConfig()?.portfolio?.resumePath||"assets/Rohit_Agarwal_ITT_Resume.pdf"}};let n=e;return e.\u0275fac=function(i){return new(i||e)(a.LFG(rv),a.LFG(yA))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function e3(n,e){if(1&n&&(a.TgZ(0,"a",27),a._UZ(1,"i",28),a.TgZ(2,"span"),a._uU(3,"LinkedIn"),a.qZA()()),2&n){const t=a.oxw(3);a.Q6J("href",t.personalInfo.linkedin,a.LSH)}}function t3(n,e){if(1&n&&(a.TgZ(0,"a",27),a._UZ(1,"i",29),a.TgZ(2,"span"),a._uU(3,"GitHub"),a.qZA()()),2&n){const t=a.oxw(3);a.Q6J("href",t.personalInfo.github,a.LSH)}}function n3(n,e){if(1&n&&(a.TgZ(0,"div",25),a.YNc(1,e3,4,1,"a",26),a.YNc(2,t3,4,1,"a",26),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngIf",t.personalInfo.linkedin),a.xp6(1),a.Q6J("ngIf",t.personalInfo.github)}}function r3(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"h3",12),a._uU(4),a.qZA(),a.TgZ(5,"p",13),a._uU(6),a.qZA()(),a.TgZ(7,"div",14)(8,"div",15),a._UZ(9,"i",16),a.TgZ(10,"span"),a._uU(11),a.qZA()(),a.TgZ(12,"div",15),a._UZ(13,"i",17),a.TgZ(14,"span"),a._uU(15),a.qZA()(),a.TgZ(16,"div",15),a._UZ(17,"i",18),a.TgZ(18,"span"),a._uU(19),a.qZA()()(),a.YNc(20,n3,3,2,"div",19),a.qZA(),a.TgZ(21,"div",20)(22,"h3",12),a._uU(23,"Professional Summary"),a.qZA(),a.TgZ(24,"p",21),a._uU(25," Full Stack Developer with 4+ years of experience building scalable, high-performance web applications using Angular, TypeScript, and Node.js. Adept at designing intuitive UIs, architecting robust backends, and delivering end-to-end solutions for diverse industries. "),a.qZA(),a.TgZ(26,"p",21),a._uU(27," Proven track record of leading projects from concept to deployment, optimizing code for speed and maintainability, and collaborating with cross-functional teams to exceed business goals. "),a.qZA(),a.TgZ(28,"p",21),a._uU(29," Passionate about clean code, modern DevOps practices, and continuous learning to stay ahead in the fast-evolving tech landscape. "),a.qZA()(),a.TgZ(30,"div",22)(31,"button",23),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.downloadResume())}),a._UZ(32,"i",24),a.TgZ(33,"span"),a._uU(34),a.qZA()()()()}if(2&n){const t=a.oxw();a.xp6(4),a.Oqu(t.personalInfo.name),a.xp6(2),a.Oqu(t.personalInfo.title),a.xp6(5),a.Oqu(t.personalInfo.email),a.xp6(4),a.Oqu(t.personalInfo.phone),a.xp6(4),a.Oqu(t.personalInfo.location),a.xp6(1),a.Q6J("ngIf",t.personalInfo.linkedin||t.personalInfo.github),a.xp6(11),a.Q6J("disabled",t.isDownloading),a.xp6(1),a.ekj("fa-download",!t.isDownloading)("fa-spinner",t.isDownloading)("fa-spin",t.isDownloading),a.xp6(2),a.Oqu(t.isDownloading?"Downloading...":"Download Resume")}}function i3(n,e){1&n&&(a.TgZ(0,"div",30),a._UZ(1,"div",31),a.TgZ(2,"p"),a._uU(3,"Loading personal information..."),a.qZA()())}let o3=(()=>{const e=class{constructor(r,i){this.resumeService=r,this.configService=i,this.personalInfo=null,this.resumeUrl="",this.isDownloading=!1}ngOnInit(){this.loadPersonalInfo(),this.resumeUrl=this.resumeService.getResumeUrl()}loadPersonalInfo(){this.resumeService.getPersonalInfo().subscribe(r=>{this.personalInfo=r},r=>{console.error("Error loading personal info:",r)})}downloadResume(){if(!this.isDownloading){this.isDownloading=!0;try{const l=(this.configService.getCurrentConfig()?.portfolio?.resumePath||"assets/Rohit_Agarwal_ITT_Resume.pdf").split("/").pop()||"Resume.pdf",u=document.createElement("a");u.href=this.resumeUrl,u.download=l,u.target="_blank",document.body.appendChild(u),u.click(),setTimeout(()=>{document.body.removeChild(u),this.isDownloading=!1},100)}catch(r){console.error("Error downloading resume:",r),this.isDownloading=!1,window.open(this.resumeUrl,"_blank")}}}};let n=e;return e.\u0275fac=function(i){return new(i||e)(a.Y36(_A),a.Y36(yA))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-about"]],decls:11,vars:2,consts:[[1,"about-container"],[1,"about-content"],[1,"about-header"],[1,"about-title","heading-main"],[1,"about-subtitle","heading-sub"],[1,"about-profile-pic"],["src","assets/profile_pic.jpg","alt","Rohit Agarwal profile photo"],["class","about-body",4,"ngIf"],["class","loading",4,"ngIf"],[1,"about-body"],[1,"personal-info"],[1,"info-item"],[1,"heading-sub"],[1,"title","meta-label"],[1,"contact-info"],[1,"contact-item"],[1,"fas","fa-envelope"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],["class","social-links",4,"ngIf"],[1,"about-description"],[1,"body-content"],[1,"resume-download"],[1,"download-btn",3,"disabled","click"],[1,"fas"],[1,"social-links"],["target","_blank","class","social-link",3,"href",4,"ngIf"],["target","_blank",1,"social-link",3,"href"],[1,"fab","fa-linkedin"],[1,"fab","fa-github"],[1,"loading"],[1,"spinner"]],template:function(i,l){1&i&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a._uU(4,"About Me"),a.qZA(),a.TgZ(5,"div",4),a._uU(6,"Full Stack Developer & Problem Solver"),a.qZA()(),a.TgZ(7,"div",5),a._UZ(8,"img",6),a.qZA(),a.YNc(9,r3,35,14,"div",7),a.YNc(10,i3,4,0,"div",8),a.qZA()()),2&i&&(a.xp6(9),a.Q6J("ngIf",l.personalInfo),a.xp6(1),a.Q6J("ngIf",!l.personalInfo))},dependencies:[Ar],styles:['@charset "UTF-8";.about-container[_ngcontent-%COMP%]{padding:2rem .5rem;max-width:1400px;margin:0 auto;min-height:calc(100vh - 80px);animation:fadeInUp .8s ease-out}.about-content[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:var(--radius-2xl);padding:4rem;box-shadow:var(--shadow-lg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-color);position:relative;overflow:hidden}.about-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--gradient-primary)}.about-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:4rem;animation:slideInFromTop .8s ease-out}.about-title[_ngcontent-%COMP%]{font-size:4rem;font-weight:800;font-family:Poppins,sans-serif;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:1rem;position:relative}.about-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:80px;height:4px;background:var(--gradient-primary);border-radius:2px}.about-subtitle[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--text-secondary);font-weight:500;margin-top:1rem}.about-body[_ngcontent-%COMP%]{display:grid;gap:4rem}.personal-info[_ngcontent-%COMP%]{display:grid;gap:3rem;animation:fadeInLeft .8s ease-out .2s both}.info-item[_ngcontent-%COMP%]{text-align:center}.info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:800;font-family:Poppins,sans-serif;color:var(--text-primary);margin-bottom:.5rem;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.info-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color);font-weight:600;padding:.5rem 1.5rem;background:var(--bg-secondary);border-radius:var(--radius-xl);display:inline-block;border:2px solid var(--border-color)}.contact-info[_ngcontent-%COMP%]{display:grid;gap:1.5rem;max-width:500px;margin:0 auto}.contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;background:var(--bg-secondary);border-radius:var(--radius-xl);border:2px solid var(--border-color);transition:all var(--transition-normal);position:relative;overflow:hidden}.contact-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:var(--gradient-primary);transition:left var(--transition-normal);z-index:0}.contact-item[_ngcontent-%COMP%]:hover:before{left:0}.contact-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:var(--shadow-xl);border-color:var(--primary-color)}.contact-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.5rem;width:30px;position:relative;z-index:1;transition:color var(--transition-normal)}.contact-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.contact-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600;font-size:1.1rem;position:relative;z-index:1;transition:color var(--transition-normal)}.contact-item[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff}.social-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;margin-top:2rem}.social-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 2rem;background:var(--gradient-primary);color:#fff;text-decoration:none;border-radius:var(--radius-xl);font-weight:600;transition:all var(--transition-normal);position:relative;overflow:hidden;box-shadow:var(--shadow-md)}.social-link[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:var(--gradient-secondary);transition:left var(--transition-normal);z-index:0}.social-link[_ngcontent-%COMP%]:hover:before{left:0}.social-link[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:var(--shadow-xl);color:#fff}.social-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .social-link[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff}.social-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem;position:relative;z-index:1}.social-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}.about-description[_ngcontent-%COMP%]{animation:fadeInRight .8s ease-out .4s both}.about-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--text-primary);margin-bottom:2rem;font-weight:700;font-family:Poppins,sans-serif;position:relative}.about-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:-10px;width:60px;height:4px;background:var(--gradient-primary);border-radius:2px}.about-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.8;color:var(--text-secondary);margin-bottom:2rem;position:relative;padding-left:2rem}.about-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"\\25b8";position:absolute;left:0;top:0;color:var(--primary-color);font-weight:700;font-size:1.5rem}.about-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.resume-download[_ngcontent-%COMP%]{text-align:center;margin-top:3rem;animation:fadeInUp .8s ease-out .6s both}.download-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:1rem;padding:1.5rem 3rem;background:var(--gradient-primary);color:#fff;border:none;border-radius:var(--radius-xl);font-size:1.3rem;font-weight:700;cursor:pointer;transition:all var(--transition-normal);box-shadow:var(--shadow-lg);position:relative;overflow:hidden;outline:none;-webkit-user-select:none;user-select:none}.download-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:var(--gradient-secondary);transition:left var(--transition-normal);z-index:0}.download-btn[_ngcontent-%COMP%]:hover:before{left:0}.download-btn[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:var(--shadow-xl)}.download-btn[_ngcontent-%COMP%]:active{transform:translateY(-2px);transition:transform .1s ease}.download-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--primary-color);outline-offset:2px}.download-btn[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}.download-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none!important;box-shadow:var(--shadow-md)}.download-btn[_ngcontent-%COMP%]:disabled:hover{transform:none!important;box-shadow:var(--shadow-md)}.download-btn[_ngcontent-%COMP%]:disabled:before{left:-100%}.download-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;position:relative;z-index:1}.download-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}.loading[_ngcontent-%COMP%]{text-align:center;padding:4rem;animation:fadeInUp .8s ease-out}.spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid var(--border-color);border-top:4px solid var(--primary-color);border-radius:50%;animation:rotate 1s linear infinite;margin:0 auto 2rem}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.2rem;font-weight:500}@media (max-width: 768px){.about-container[_ngcontent-%COMP%]{padding:1rem}.about-content[_ngcontent-%COMP%]{padding:2.5rem}.about-header[_ngcontent-%COMP%]   .about-title[_ngcontent-%COMP%]{font-size:3rem}.personal-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.5rem}.contact-info[_ngcontent-%COMP%]{grid-template-columns:1fr}.social-links[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.about-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem}.about-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;padding-left:1.5rem}.download-btn[_ngcontent-%COMP%]{padding:1.25rem 2.5rem;font-size:1.1rem}}@media (max-width: 480px){.about-content[_ngcontent-%COMP%]{padding:2rem}.about-header[_ngcontent-%COMP%]   .about-title[_ngcontent-%COMP%]{font-size:2.5rem}.personal-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem}.info-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2rem}.contact-item[_ngcontent-%COMP%]{padding:1.25rem}.contact-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem}.contact-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.about-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem}.about-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.contact-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02)}.social-link[_ngcontent-%COMP%]:hover, .download-btn[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.05)}@keyframes _ngcontent-%COMP%_slideInFromLeft{0%{opacity:0;transform:translate(-50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInFromRight{0%{opacity:0;transform:translate(50px)}to{opacity:1;transform:translate(0)}}.contact-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.contact-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.contact-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.social-link[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.social-link[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.about-profile-pic[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:2rem}.about-profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:cover;object-position:center 8%;box-shadow:0 4px 24px #5a6cff2e;border:4px solid #5a6cff;background:#fff}']}),n})();function s3(n,e){if(1&n&&(a.TgZ(0,"i",11),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Oqu(null==t.skill?null:t.skill.icon)}}function a3(n,e){if(1&n&&(a.TgZ(0,"div",21)(1,"h3"),a._uU(2,"About"),a.qZA(),a.TgZ(3,"p"),a._uU(4),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(4),a.Oqu(t.skill.description)}}function l3(n,e){if(1&n&&(a.TgZ(0,"div",21)(1,"h3"),a._uU(2,"Experience"),a.qZA(),a.TgZ(3,"p"),a._uU(4),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(4),a.Oqu(t.skill.experience)}}function c3(n,e){if(1&n&&(a.TgZ(0,"li"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}function u3(n,e){if(1&n&&(a.TgZ(0,"div",21)(1,"h3"),a._uU(2,"Related Projects"),a.qZA(),a.TgZ(3,"ul",22),a.YNc(4,c3,2,1,"li",23),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(4),a.Q6J("ngForOf",t.skill.projects)}}function d3(n,e){if(1&n&&(a.TgZ(0,"li"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}function h3(n,e){if(1&n&&(a.TgZ(0,"div",21)(1,"h3"),a._uU(2,"Certifications"),a.qZA(),a.TgZ(3,"ul",24),a.YNc(4,d3,2,1,"li",23),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(4),a.Q6J("ngForOf",t.skill.certifications)}}function f3(n,e){if(1&n&&(a.O4$(),a.kcU(),a.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"span",15),a._uU(4,"Proficiency Level"),a.qZA(),a.TgZ(5,"div",16),a._UZ(6,"div",17),a.qZA(),a.TgZ(7,"span",18),a._uU(8),a.qZA()()(),a.TgZ(9,"div",19),a.YNc(10,a3,5,1,"div",20),a.YNc(11,l3,5,1,"div",20),a.YNc(12,u3,5,1,"div",20),a.YNc(13,h3,5,1,"div",20),a.qZA()()),2&n){const t=a.oxw(2);a.xp6(6),a.Udp("width",t.skill.level,"%"),a.xp6(2),a.hij("",t.skill.level,"%"),a.xp6(2),a.Q6J("ngIf",t.skill.description),a.xp6(1),a.Q6J("ngIf",t.skill.experience),a.xp6(1),a.Q6J("ngIf",t.skill.projects&&t.skill.projects.length>0),a.xp6(1),a.Q6J("ngIf",t.skill.certifications&&t.skill.certifications.length>0)}}function p3(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",1),a.NdJ("click",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.onBackdropClick(i))}),a.TgZ(1,"div",2)(2,"div",3)(3,"div",4),a.YNc(4,s3,2,1,"i",5),a.TgZ(5,"h2"),a._uU(6),a.qZA()(),a.TgZ(7,"button",6),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.close())}),a.O4$(),a.TgZ(8,"svg",7),a._UZ(9,"line",8)(10,"line",9),a.qZA()()(),a.YNc(11,f3,14,7,"div",10),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(1),a.Q6J("@modalAnimation",t.isOpen?"open":"closed"),a.xp6(3),a.Q6J("ngIf",null==t.skill?null:t.skill.icon),a.xp6(2),a.Oqu(null==t.skill?null:t.skill.name),a.xp6(5),a.Q6J("ngIf",t.skill)}}let g3=(()=>{const e=class{constructor(){this.skill=null,this.isOpen=!1,this.closeModal=new a.vpe}close(){this.closeModal.emit()}onBackdropClick(r){r.target===r.currentTarget&&this.close()}};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-skill-modal"]],inputs:{skill:"skill",isOpen:"isOpen"},outputs:{closeModal:"closeModal"},decls:1,vars:1,consts:[["class","modal-backdrop",3,"click",4,"ngIf"],[1,"modal-backdrop",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"skill-title"],["class","skill-icon",4,"ngIf"],[1,"close-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],["class","modal-body",4,"ngIf"],[1,"skill-icon"],[1,"modal-body"],[1,"skill-overview"],[1,"skill-level-display"],[1,"level-label"],[1,"level-bar"],[1,"level-fill"],[1,"level-percentage"],[1,"skill-details"],["class","detail-section",4,"ngIf"],[1,"detail-section"],[1,"projects-list"],[4,"ngFor","ngForOf"],[1,"certifications-list"]],template:function(i,l){1&i&&a.YNc(0,p3,12,4,"div",0),2&i&&a.Q6J("ngIf",l.isOpen)},dependencies:[Vr,Ar],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap";@import"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap";@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary-color: #6366f1;--primary-light: #818cf8;--primary-dark: #4f46e5;--secondary-color: #ec4899;--secondary-light: #f472b6;--secondary-dark: #db2777;--accent-color: #06b6d4;--accent-light: #22d3ee;--accent-dark: #0891b2;--bg-primary: #f3f6fd;--bg-secondary: #f8fafc;--bg-tertiary: #f1f5f9;--card-bg: #ffffff;--card-bg-hover: #f8fafc;--text-primary: #1e293b;--text-secondary: #64748b;--text-muted: #94a3b8;--border-color: #e2e8f0;--border-light: #f1f5f9;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--shadow-glow: 0 0 20px rgba(99, 102, 241, .3);--gradient-primary: linear-gradient(135deg, #6366f1 0%, #ec4899 100%);--gradient-secondary: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);--gradient-accent: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);--transition-fast: .15s ease;--transition-normal: .3s ease;--transition-slow: .5s ease;--radius-sm: .375rem;--radius-md: .5rem;--radius-lg: .75rem;--radius-xl: 1rem;--radius-2xl: 1.5rem;--font-main: "Poppins", sans-serif;--font-content: "Inter", "Poppins", sans-serif;--font-size-h1: 2.5rem;--font-size-h2: 1.8rem;--font-size-h3: 1.5rem;--font-size-h4: 1.2rem;--font-size-meta: 1.08rem;--font-size-content: 1.13rem;--font-weight-bold: 800;--font-weight-semi: 700;--font-weight-medium: 600;--font-weight-regular: 400}[data-theme=dark][_ngcontent-%COMP%]{--primary-color: #818cf8;--primary-light: #a5b4fc;--primary-dark: #6366f1;--secondary-color: #f472b6;--secondary-light: #f9a8d4;--secondary-dark: #ec4899;--accent-color: #22d3ee;--accent-light: #67e8f9;--accent-dark: #06b6d4;--bg-primary: #0f172a;--bg-secondary: #1e293b;--bg-tertiary: #334155;--card-bg: #1e293b;--card-bg-hover: #334155;--text-primary: #f8fafc;--text-secondary: #cbd5e1;--text-muted: #94a3b8;--border-color: #334155;--border-light: #475569;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .3);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .4), 0 2px 4px -1px rgba(0, 0, 0, .3);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .4), 0 4px 6px -2px rgba(0, 0, 0, .3);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .4), 0 10px 10px -5px rgba(0, 0, 0, .3);--shadow-glow: 0 0 20px rgba(129, 140, 248, .4)}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:var(--bg-primary);color:var(--text-primary);line-height:1.6;transition:background-color var(--transition-normal),color var(--transition-normal);overflow-x:hidden}html[_ngcontent-%COMP%]{scroll-behavior:smooth}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--primary-color);border-radius:var(--radius-md)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary-dark)}[_ngcontent-%COMP%]::selection{background:var(--primary-color);color:#fff}*[_ngcontent-%COMP%]:focus{outline:2px solid var(--primary-color);outline-offset:2px}button[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;font-family:inherit}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{list-style:none}img[_ngcontent-%COMP%]{max-width:100%;height:auto}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_slideInFromTop{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,53%,80%,to{transform:translateZ(0)}40%,43%{transform:translate3d(0,-8px,0)}70%{transform:translate3d(0,-4px,0)}90%{transform:translate3d(0,-2px,0)}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.animate-fade-in-left[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInLeft .6s ease-out}.animate-fade-in-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInRight .6s ease-out}.animate-scale-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleIn .6s ease-out}.animate-slide-in-top[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromTop .6s ease-out}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.animate-bounce[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 1s infinite}.animate-float[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.animate-rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 2s linear infinite}.glass[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}[data-theme=dark][_ngcontent-%COMP%]   .glass[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);border:1px solid rgba(255,255,255,.1)}.gradient-text[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.glow[_ngcontent-%COMP%]{box-shadow:var(--shadow-glow)}.hover-lift[_ngcontent-%COMP%]{transition:transform var(--transition-normal),box-shadow var(--transition-normal)}.hover-lift[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:var(--shadow-xl)}.hover-scale[_ngcontent-%COMP%]{transition:transform var(--transition-normal)}.hover-scale[_ngcontent-%COMP%]:hover{transform:scale(1.05)}@media (max-width: 768px){.mobile-hidden[_ngcontent-%COMP%]{display:none}}@media (min-width: 769px){.desktop-hidden[_ngcontent-%COMP%]{display:none}}.heading-main[_ngcontent-%COMP%], h1.heading-main[_ngcontent-%COMP%]{font-family:var(--font-main);font-size:var(--font-size-h1);font-weight:var(--font-weight-bold);margin-bottom:1.2rem;line-height:1.1}.heading-sub[_ngcontent-%COMP%], h2.heading-sub[_ngcontent-%COMP%], h3.heading-sub[_ngcontent-%COMP%]{font-family:var(--font-main);font-size:var(--font-size-h3);font-weight:var(--font-weight-semi);margin-bottom:.8rem;line-height:1.15}.meta-label[_ngcontent-%COMP%]{font-family:var(--font-content);font-size:var(--font-size-meta);font-weight:var(--font-weight-medium);color:var(--text-secondary)}.body-content[_ngcontent-%COMP%]{font-family:var(--font-content);font-size:var(--font-size-content);font-weight:var(--font-weight-regular);color:var(--text-primary);line-height:1.7}@media (max-width: 900px){[_ngcontent-%COMP%]:root{--font-size-h1: 2rem;--font-size-h2: 1.4rem;--font-size-h3: 1.15rem;--font-size-h4: 1.05rem;--font-size-meta: .98rem;--font-size-content: 1rem}}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.45);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.modal-content[_ngcontent-%COMP%]{background:var(--card-bg);color:var(--text-primary);-webkit-backdrop-filter:blur(24px) saturate(1.2);backdrop-filter:blur(24px) saturate(1.2);border:1.5px solid var(--border-color);border-radius:20px;max-width:600px;width:100%;max-height:80vh;overflow-y:auto;box-shadow:0 25px 50px #1e293b40,0 2px 8px #6366f114;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--primary-color);border-radius:3px}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 16px;border-bottom:1px solid var(--border-color)}.modal-header[_ngcontent-%COMP%]   .skill-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.modal-header[_ngcontent-%COMP%]   .skill-title[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{font-size:24px;opacity:.8}.modal-header[_ngcontent-%COMP%]   .skill-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;color:var(--text-primary)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:var(--primary-color);color:#fff;border-color:var(--primary-color);transform:scale(1.1)}.modal-body[_ngcontent-%COMP%]{padding:24px}.modal-body[_ngcontent-%COMP%]   .skill-overview[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .skill-overview[_ngcontent-%COMP%]   .skill-level-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap}.modal-body[_ngcontent-%COMP%]   .skill-overview[_ngcontent-%COMP%]   .skill-level-display[_ngcontent-%COMP%]   .level-label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-secondary);min-width:120px}.modal-body[_ngcontent-%COMP%]   .skill-overview[_ngcontent-%COMP%]   .skill-level-display[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]{flex:1;height:8px;background:var(--bg-tertiary);border-radius:4px;overflow:hidden;min-width:150px}.modal-body[_ngcontent-%COMP%]   .skill-overview[_ngcontent-%COMP%]   .skill-level-display[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]   .level-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#667eea 0%,#764ba2 100%);border-radius:4px;transition:width 1s ease}.modal-body[_ngcontent-%COMP%]   .skill-overview[_ngcontent-%COMP%]   .skill-level-display[_ngcontent-%COMP%]   .level-percentage[_ngcontent-%COMP%]{font-weight:600;color:#667eea;min-width:40px;text-align:right}.modal-body[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:18px;font-weight:600;color:var(--text-primary);display:flex;align-items:center;gap:8px}.modal-body[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"";width:4px;height:18px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:2px}.modal-body[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.6;color:var(--text-secondary)}.modal-body[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px;list-style:none}.modal-body[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;margin-bottom:8px;color:var(--text-secondary);line-height:1.5}.modal-body[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";color:#667eea;font-weight:700;position:absolute;left:-15px}.modal-body[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .detail-section.projects-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .detail-section.certifications-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;background:var(--bg-secondary);border-radius:8px;margin-bottom:8px;border-left:3px solid #667eea}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-50px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 768px){.modal-backdrop[_ngcontent-%COMP%]{padding:10px}.modal-content[_ngcontent-%COMP%]{max-height:90vh}.modal-header[_ngcontent-%COMP%]{padding:20px 20px 12px}.modal-header[_ngcontent-%COMP%]   .skill-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   .skill-overview[_ngcontent-%COMP%]   .skill-level-display[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.modal-body[_ngcontent-%COMP%]   .skill-overview[_ngcontent-%COMP%]   .skill-level-display[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]{width:100%}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:.7}50%{transform:scale(1.1);opacity:1}to{transform:scale(1);opacity:.7}}'],data:{animation:[ms("modalAnimation",[au("closed",Nn({opacity:0,transform:"translateY(-50px) scale(0.9)"})),au("open",Nn({opacity:1,transform:"translateY(0) scale(1)"})),fi("closed => open",[Uo("0.3s ease-out")]),fi("open => closed",[Uo("0.2s ease-in")])])]}}),n})();function m3(n,e){1&n&&(a.TgZ(0,"i",22),a.O4$(),a.TgZ(1,"svg",23),a._UZ(2,"circle",24)(3,"path",25)(4,"line",26),a.qZA()())}function y3(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",14),a.NdJ("click",function(){const l=a.CHM(t).$implicit,u=a.oxw(3);return a.KtG(u.openSkillModal(l))}),a.TgZ(1,"div",15)(2,"div",16)(3,"span",17),a._uU(4),a.qZA(),a.TgZ(5,"span",18),a._uU(6),a.qZA(),a.YNc(7,m3,5,0,"i",19),a.qZA()(),a.TgZ(8,"div",20),a._UZ(9,"div",21),a.qZA()()}if(2&n){const t=e.$implicit,r=a.oxw(3);a.ekj("has-details",t.description||t.experience||t.projects||t.certifications),a.Q6J("title",r.getSkillTooltip(t)),a.xp6(4),a.Oqu(t.name),a.xp6(2),a.hij("",t.level,"%"),a.xp6(1),a.Q6J("ngIf",t.description||t.experience||t.projects||t.certifications),a.xp6(2),a.Udp("width",t.level,"%")}}function _3(n,e){if(1&n&&(a.TgZ(0,"div",10)(1,"h2",11),a._uU(2),a.qZA(),a.TgZ(3,"div",12),a.YNc(4,y3,10,8,"div",13),a.qZA()()),2&n){const t=e.$implicit,r=a.oxw(2);a.xp6(2),a.Oqu(t),a.xp6(2),a.Q6J("ngForOf",r.getSkillsByCategory(t))}}function v3(n,e){if(1&n&&(a.TgZ(0,"div",8),a.YNc(1,_3,5,2,"div",9),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.skillCategories)}}function b3(n,e){1&n&&(a.TgZ(0,"div",27),a._UZ(1,"div",28),a.TgZ(2,"p"),a._uU(3,"Loading skills..."),a.qZA()())}let w3=(()=>{const e=class{constructor(r){this.resumeService=r,this.skills=[],this.skillCategories=[],this.loading=!0,this.selectedSkill=null,this.isModalOpen=!1}ngOnInit(){this.loadSkills()}loadSkills(){this.resumeService.getSkills().subscribe(r=>{this.skills=r,this.skillCategories=[...new Set(r.map(i=>i.category))],this.loading=!1},r=>{console.error("Error loading skills:",r),this.loading=!1})}getSkillsByCategory(r){return this.skills.filter(i=>i.category===r)}openSkillModal(r){this.selectedSkill=r,this.isModalOpen=!0,document.body.style.overflow="hidden"}closeSkillModal(){this.isModalOpen=!1,this.selectedSkill=null,document.body.style.overflow="auto"}getSkillTooltip(r){let i=`${r.name} - ${r.level}% proficiency`;return r.experience&&(i+=`\n${r.experience}`),r.description&&(i+=`\n${r.description}`),i}};let n=e;return e.\u0275fac=function(i){return new(i||e)(a.Y36(_A))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-skills"]],decls:10,vars:4,consts:[[1,"skills-container"],[1,"skills-content"],[1,"skills-header"],[1,"heading-main"],[1,"body-content"],["class","skills-body",4,"ngIf"],["class","loading",4,"ngIf"],[3,"skill","isOpen","closeModal"],[1,"skills-body"],["class","skill-category",4,"ngFor","ngForOf"],[1,"skill-category"],[1,"category-title","heading-sub"],[1,"skills-grid"],["class","skill-item",3,"title","has-details","click",4,"ngFor","ngForOf"],[1,"skill-item",3,"title","click"],[1,"skill-info"],[1,"skill-header"],[1,"skill-name","meta-label"],[1,"skill-level","meta-label"],["class","info-icon",4,"ngIf"],[1,"skill-bar"],[1,"skill-progress"],[1,"info-icon"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","10"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"loading"],[1,"spinner"]],template:function(i,l){1&i&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a._uU(4,"Skills & Technologies"),a.qZA(),a.TgZ(5,"p",4),a._uU(6,"My technical expertise and proficiency levels"),a.qZA()(),a.YNc(7,v3,2,1,"div",5),a.YNc(8,b3,4,0,"div",6),a.qZA(),a.TgZ(9,"app-skill-modal",7),a.NdJ("closeModal",function(){return l.closeSkillModal()}),a.qZA()()),2&i&&(a.xp6(7),a.Q6J("ngIf",!l.loading),a.xp6(1),a.Q6J("ngIf",l.loading),a.xp6(1),a.Q6J("skill",l.selectedSkill)("isOpen",l.isModalOpen))},dependencies:[Vr,Ar,g3],styles:['.skills-container[_ngcontent-%COMP%]{padding:2rem .5rem;max-width:1400px;margin:0 auto;min-height:calc(100vh - 80px);animation:fadeInUp .8s ease-out}.skills-content[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:var(--radius-2xl);padding:4rem;box-shadow:var(--shadow-lg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-color);position:relative;overflow:hidden}.skills-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--gradient-secondary)}.skills-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:4rem;animation:slideInFromTop .8s ease-out}.skills-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4rem;font-weight:800;font-family:Poppins,sans-serif;background:var(--gradient-secondary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:1rem;position:relative}.skills-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:80px;height:4px;background:var(--gradient-secondary);border-radius:2px}.skills-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--text-secondary);font-weight:500;margin-top:1rem}.skills-body[_ngcontent-%COMP%]{animation:fadeInUp .8s ease-out .2s both}.skill-category[_ngcontent-%COMP%]{margin-bottom:4rem;animation:fadeInLeft .8s ease-out}.skill-category[_ngcontent-%COMP%]:last-child{margin-bottom:0}.category-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;font-family:Poppins,sans-serif;color:var(--text-primary);margin-bottom:2rem;position:relative;padding-left:2rem}.category-title[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:8px;height:40px;background:var(--gradient-secondary);border-radius:4px}.skills-grid[_ngcontent-%COMP%]{display:grid;gap:2rem}.skill-item[_ngcontent-%COMP%]{background:var(--bg-secondary);border-radius:var(--radius-xl);padding:2rem;border:2px solid var(--border-color);transition:all var(--transition-normal);position:relative;overflow:hidden;cursor:pointer}.skill-item.has-details[_ngcontent-%COMP%]{cursor:pointer}.skill-item.has-details[_ngcontent-%COMP%]:hover, .skill-item[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#6366f1 0%,#7c3aed 100%);color:#fff;transform:translateY(-8px) scale(1.02);box-shadow:var(--shadow-xl),0 0 30px #667eea4d;border-color:var(--accent-color)}.skill-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:var(--gradient-secondary);transition:left var(--transition-normal);z-index:0}.skill-item[_ngcontent-%COMP%]:hover:before{left:0}.skill-item[_ngcontent-%COMP%]:hover   .skill-name[_ngcontent-%COMP%], .skill-item[_ngcontent-%COMP%]:hover   .skill-level[_ngcontent-%COMP%], .skill-item[_ngcontent-%COMP%]:hover   .info-icon[_ngcontent-%COMP%]{color:#fff}.skill-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;position:relative;z-index:1}.skill-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.skill-name[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:var(--text-primary);transition:color var(--transition-normal)}.skill-item[_ngcontent-%COMP%]:hover   .skill-name[_ngcontent-%COMP%]{color:#fff}.skill-level[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--accent-color);transition:color var(--transition-normal);position:relative;padding:.25rem .75rem;background:var(--bg-tertiary);border-radius:var(--radius-md);border:1px solid var(--border-color)}.skill-item[_ngcontent-%COMP%]:hover   .skill-level[_ngcontent-%COMP%]{color:#fff;background:rgba(255,255,255,.2);border-color:#ffffff4d}.info-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;color:var(--accent-color);opacity:.7;transition:all var(--transition-normal);animation:_ngcontent-%COMP%_pulse 2s infinite}.skill-item[_ngcontent-%COMP%]:hover   .info-icon[_ngcontent-%COMP%]{color:#fff;opacity:1;transform:scale(1.2)}.skill-bar[_ngcontent-%COMP%]{width:100%;height:12px;background:var(--border-color);border-radius:var(--radius-lg);overflow:hidden;position:relative;z-index:1}.skill-progress[_ngcontent-%COMP%]{height:100%;background:var(--gradient-secondary);border-radius:var(--radius-lg);position:relative;transform:scaleX(0);transform-origin:left;animation:_ngcontent-%COMP%_skillProgress 1.5s ease-out forwards;animation-delay:.5s}.skill-progress[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer 2s infinite}.loading[_ngcontent-%COMP%]{text-align:center;padding:4rem;animation:fadeInUp .8s ease-out}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid var(--border-color);border-top:4px solid var(--accent-color);border-radius:50%;animation:rotate 1s linear infinite;margin:0 auto 2rem}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.2rem;font-weight:500}@keyframes _ngcontent-%COMP%_skillProgress{0%{transform:scaleX(0)}to{transform:scaleX(1)}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.skill-category[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.skill-category[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.skill-category[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.skill-category[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.skill-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.skill-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.skill-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.skill-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.skill-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.skill-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02)}@media (max-width: 768px){.skills-container[_ngcontent-%COMP%]{padding:1rem}.skills-content[_ngcontent-%COMP%]{padding:2.5rem}.skills-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.category-title[_ngcontent-%COMP%]{font-size:2rem;padding-left:1.5rem}.category-title[_ngcontent-%COMP%]:before{width:6px;height:30px}.skill-item[_ngcontent-%COMP%]{padding:1.5rem}.skill-name[_ngcontent-%COMP%]{font-size:1.2rem}.skill-level[_ngcontent-%COMP%]{font-size:1rem}.skill-bar[_ngcontent-%COMP%]{height:10px}}@media (max-width: 480px){.skills-content[_ngcontent-%COMP%]{padding:2rem}.skills-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}.skills-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}.category-title[_ngcontent-%COMP%]{font-size:1.8rem;padding-left:1rem}.category-title[_ngcontent-%COMP%]:before{width:4px;height:25px}.skill-item[_ngcontent-%COMP%]{padding:1.25rem}.skill-name[_ngcontent-%COMP%]{font-size:1.1rem}.skill-level[_ngcontent-%COMP%]{font-size:.9rem}.skill-bar[_ngcontent-%COMP%]{height:8px}}.skill-category[_ngcontent-%COMP%]{position:relative}.skill-category[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2rem;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--border-color),transparent)}.skill-category[_ngcontent-%COMP%]:last-child:after{display:none}.skill-level[_ngcontent-%COMP%]{position:relative;padding:.25rem .75rem;background:var(--bg-tertiary);border-radius:var(--radius-md);border:1px solid var(--border-color)}.skill-item[_ngcontent-%COMP%]:hover   .skill-level[_ngcontent-%COMP%]{background:rgba(255,255,255,.2);border-color:#ffffff4d}.skill-category[_ngcontent-%COMP%]:nth-child(1)   .category-title[_ngcontent-%COMP%]:before{background:var(--gradient-primary)}.skill-category[_ngcontent-%COMP%]:nth-child(2)   .category-title[_ngcontent-%COMP%]:before{background:var(--gradient-secondary)}.skill-category[_ngcontent-%COMP%]:nth-child(3)   .category-title[_ngcontent-%COMP%]:before{background:var(--gradient-accent)}.skill-category[_ngcontent-%COMP%]:nth-child(4)   .category-title[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#10b981,#059669)}.skill-category[_ngcontent-%COMP%]:nth-child(1)   .skill-progress[_ngcontent-%COMP%]{background:var(--gradient-primary)}.skill-category[_ngcontent-%COMP%]:nth-child(2)   .skill-progress[_ngcontent-%COMP%]{background:var(--gradient-secondary)}.skill-category[_ngcontent-%COMP%]:nth-child(3)   .skill-progress[_ngcontent-%COMP%]{background:var(--gradient-accent)}.skill-category[_ngcontent-%COMP%]:nth-child(4)   .skill-progress[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:.7}50%{transform:scale(1.1);opacity:1}to{transform:scale(1);opacity:.7}}']}),n})();function C3(n,e){if(1&n&&(a.TgZ(0,"li")(1,"span",23),a._uU(2,"\u2714"),a.qZA(),a.TgZ(3,"span",24),a._uU(4),a.qZA()()),2&n){const t=e.$implicit;a.xp6(4),a.Oqu(t)}}function E3(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",9),a.NdJ("mouseenter",function(){const l=a.CHM(t).index,u=a.oxw(2);return a.KtG(u.onCardHover(l))})("mouseleave",function(){a.CHM(t);const i=a.oxw(2);return a.KtG(i.onCardLeave())})("click",function(){const l=a.CHM(t).index,u=a.oxw(2);return a.KtG(u.onCardClick(l))})("keydown.enter",function(){const l=a.CHM(t).index,u=a.oxw(2);return a.KtG(u.onCardClick(l))})("keydown.space",function(){const l=a.CHM(t).index,u=a.oxw(2);return a.KtG(u.onCardClick(l))}),a.TgZ(1,"div",10)(2,"div",11)(3,"div",12)(4,"span",13),a._uU(5),a.qZA()(),a.TgZ(6,"h3",14),a._uU(7),a.qZA(),a.TgZ(8,"div",15),a._uU(9),a.qZA(),a.TgZ(10,"div",16)(11,"span",17),a._uU(12),a.qZA(),a.TgZ(13,"span",18),a._uU(14),a.qZA(),a.TgZ(15,"span",19),a._uU(16),a.qZA()()(),a.TgZ(17,"div",20)(18,"h3",14),a._uU(19),a.qZA(),a.TgZ(20,"ul",21),a.YNc(21,C3,5,1,"li",22),a.qZA()()()()}if(2&n){const t=e.$implicit,r=e.index,i=a.oxw(2);a.ekj("flipped",i.flippedIndex===r),a.uIk("aria-label","Project card: "+t.name+". Click or tap to flip for details."),a.xp6(5),a.Oqu(i.getInitials(t.name)),a.xp6(2),a.Oqu(t.name),a.xp6(2),a.Oqu(i.projectTagline(t.name)),a.xp6(3),a.Oqu(t.role),a.xp6(2),a.hij("@ ",t.company,""),a.xp6(2),a.Oqu(t.period),a.xp6(3),a.Oqu(t.name),a.xp6(2),a.Q6J("ngForOf",t.details)}}function I3(n,e){if(1&n&&(a.TgZ(0,"div",7),a.YNc(1,E3,22,11,"div",8),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.projects)}}function T3(n,e){1&n&&(a.TgZ(0,"div",25),a._UZ(1,"div",26),a.TgZ(2,"p"),a._uU(3,"Loading projects..."),a.qZA()())}let D3=(()=>{const e=class{constructor(r){this.resumeService=r,this.projects=[],this.loading=!0,this.flippedIndex=null,this.isMobile=!1}ngOnInit(){this.loadProjects(),this.checkMobile()}onResize(){this.checkMobile()}checkMobile(){this.isMobile=window.innerWidth<=900}loadProjects(){this.resumeService.getProjects().subscribe(r=>{this.projects=r,this.loading=!1},r=>{console.error("Error loading projects:",r),this.loading=!1})}onCardHover(r){this.isMobile||(this.flippedIndex=r)}onCardLeave(){this.isMobile||(this.flippedIndex=null)}onCardClick(r){this.flippedIndex=this.flippedIndex===r?null:r}projectTagline(r){switch(r){case"Pharos":return"Securing enterprise printing across vendors";case"Air Products":return"Enterprise front-end excellence";case"Rise \u2013 IdahoSTARS":return"Childcare management for Idaho government";case"HP \u2013 Services Estimator":return"Optimizing HP service workflows";default:return""}}getInitials(r){return r.trim().toLowerCase().startsWith("hp")?"HP":r.split(" ").filter(i=>i&&i[0].match(/[A-Za-z]/)).map(i=>i[0]).join("").toUpperCase()}};let n=e;return e.\u0275fac=function(i){return new(i||e)(a.Y36(_A))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-projects"]],hostBindings:function(i,l){1&i&&a.NdJ("resize",function(){return l.onResize()},!1,a.Jf7)},decls:9,vars:2,consts:[[1,"projects-container"],[1,"projects-content"],[1,"projects-header"],[1,"gradient-text","heading-main"],[1,"project-subtitle","heading-sub"],["class","projects-grid",4,"ngIf"],["class","loading",4,"ngIf"],[1,"projects-grid"],["class","project-flip-card","tabindex","0",3,"flipped","mouseenter","mouseleave","click","keydown.enter","keydown.space",4,"ngFor","ngForOf"],["tabindex","0",1,"project-flip-card",3,"mouseenter","mouseleave","click","keydown.enter","keydown.space"],[1,"flip-card-inner"],[1,"flip-card-front","glass"],[1,"project-badge"],[1,"badge-initials"],[1,"project-title","gradient-text","heading-sub"],[1,"project-tagline"],[1,"project-meta"],[1,"project-role","meta-label"],[1,"project-company","meta-label"],[1,"project-period","meta-label"],[1,"flip-card-back","glass"],[1,"project-details","body-content"],[4,"ngFor","ngForOf"],[1,"detail-icon"],[1,"detail-text"],[1,"loading"],[1,"spinner"]],template:function(i,l){1&i&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a._uU(4,"Projects"),a.qZA(),a.TgZ(5,"p",4),a._uU(6,"My real-world experience in impactful projects"),a.qZA()(),a.YNc(7,I3,2,1,"div",5),a.YNc(8,T3,4,0,"div",6),a.qZA()()),2&i&&(a.xp6(7),a.Q6J("ngIf",!l.loading),a.xp6(1),a.Q6J("ngIf",l.loading))},dependencies:[Vr,Ar],styles:['.projects-container[_ngcontent-%COMP%]{padding:2rem .5rem;max-width:1400px;margin:0 auto;min-height:calc(100vh - 80px);animation:fadeInUp .8s ease-out}.projects-content[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:var(--radius-2xl);padding:4rem 1rem;box-shadow:var(--shadow-lg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-color);position:relative;overflow:visible}.project-subtitle[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--text-secondary);font-weight:500;margin-top:1rem}.projects-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem;animation:slideInFromTop .8s ease-out}.projects-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .heading-main[_ngcontent-%COMP%]{font-size:4rem;font-weight:800;font-family:Poppins,sans-serif;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:1rem;position:relative}.projects-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:80px;height:4px;background:var(--gradient-primary);border-radius:2px}.gradient-text[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(370px,1fr));gap:2.5rem;margin-bottom:2rem;overflow:visible;width:100%;max-width:1200px;margin-left:auto;margin-right:auto}.project-flip-card[_ngcontent-%COMP%], .flip-card-inner[_ngcontent-%COMP%]{height:100%;min-height:340px;display:flex;flex-direction:column}.flip-card-inner[_ngcontent-%COMP%]{position:relative;width:100%;transition:transform .7s cubic-bezier(.4,.2,.2,1);transform-style:preserve-3d;flex:1 1 auto}.project-flip-card[_ngcontent-%COMP%]   .flip-card-front[_ngcontent-%COMP%], .project-flip-card[_ngcontent-%COMP%]   .flip-card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;min-height:340px;top:0;left:0;backface-visibility:hidden;border-radius:var(--radius-xl);box-shadow:0 6px 32px #3c48641a,0 1.5px 8px #5a6cff14;background:var(--card-bg);color:var(--text-primary);border:1.5px solid var(--border-color);display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;padding:2.5rem 2rem 2rem;word-break:break-word;overflow-wrap:anywhere;overflow-y:auto}.project-flip-card[_ngcontent-%COMP%]   .flip-card-front[_ngcontent-%COMP%]{z-index:2}.project-flip-card[_ngcontent-%COMP%]   .flip-card-back[_ngcontent-%COMP%]{transform:rotateY(180deg);z-index:3}.project-flip-card.flipped[_ngcontent-%COMP%]   .flip-card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.project-front-content[_ngcontent-%COMP%], .project-back-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:260px}.project-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:.7rem;margin-top:0;text-align:center}.project-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.3rem;margin-bottom:.5rem}.project-role[_ngcontent-%COMP%]{font-weight:600;color:var(--primary-color);font-size:1.1rem}.project-company[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-secondary)}.project-period[_ngcontent-%COMP%]{font-size:1rem;color:var(--accent-color);margin-bottom:0;text-align:center}.project-details[_ngcontent-%COMP%]{max-width:100%;margin:1.2rem 0;padding:0;list-style:none;color:var(--text-secondary);font-size:.97rem;line-height:1.8;text-align:left}.project-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:1.2rem;position:relative;font-family:Inter,Poppins,sans-serif;font-size:.97rem;font-weight:400;letter-spacing:.01em}.project-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.project-details[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{min-width:1.7em;min-height:1.7em;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--gradient-secondary);color:#fff;font-size:1.1em;font-weight:700;box-shadow:0 2px 8px #5a6cff14;margin-top:2px}.project-details[_ngcontent-%COMP%]   .detail-text[_ngcontent-%COMP%]{flex:1 1 auto;font-size:.97rem;font-weight:400;color:var(--text-secondary);word-break:break-word}.flip-hint[_ngcontent-%COMP%]{margin-top:1.2rem;font-size:.95rem;color:var(--text-muted);opacity:.7;text-align:center}.project-image[_ngcontent-%COMP%]{width:100%;height:160px;border-radius:var(--radius-lg);overflow:hidden;margin-bottom:1.5rem;background:#f3f6fa;display:flex;align-items:center;justify-content:center}.project-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:var(--radius-lg);transition:transform .3s}.project-card[_ngcontent-%COMP%]:hover   .project-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.project-description[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem;margin-bottom:1.2rem;line-height:1.7}.project-tech[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1.2rem}.tech-tag[_ngcontent-%COMP%]{background:var(--gradient-secondary);color:#fff;padding:.3rem 1rem;border-radius:1rem;font-size:.95rem;font-weight:600;box-shadow:0 2px 8px #5a6cff14;letter-spacing:.02em;border:none}.project-links[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:auto}.project-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;background:var(--gradient-primary);color:#fff;text-decoration:none;padding:.7rem 1.5rem;border-radius:var(--radius-lg);font-weight:600;font-size:1rem;box-shadow:0 2px 8px #5a6cff1a;transition:background .2s,transform .1s,box-shadow .2s;position:relative;overflow:hidden}.project-link.github[_ngcontent-%COMP%]{background:linear-gradient(90deg,#24292e,#5865f2)}.project-link.live[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00c6ff,#0072ff)}.project-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.04);box-shadow:0 4px 20px #5a6cff2e;color:#fff}.loading[_ngcontent-%COMP%]{text-align:center;padding:4rem;animation:fadeInUp .8s ease-out}.spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid var(--border-color);border-top:4px solid var(--primary-color);border-radius:50%;animation:rotate 1s linear infinite;margin:0 auto 2rem}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.2rem;font-weight:500}@media (max-width: 900px){.projects-content[_ngcontent-%COMP%]{padding:2rem .5rem}.projects-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:2rem;max-width:98vw}.project-flip-card[_ngcontent-%COMP%]{max-width:98vw}.project-flip-card[_ngcontent-%COMP%]   .flip-card-front[_ngcontent-%COMP%], .project-flip-card[_ngcontent-%COMP%]   .flip-card-back[_ngcontent-%COMP%]{padding:1.5rem .5rem 1rem}}@media (max-width: 600px){.project-title[_ngcontent-%COMP%]{font-size:1.15rem}.project-details[_ngcontent-%COMP%]{font-size:.98rem;padding-left:1rem}.project-meta[_ngcontent-%COMP%], .project-period[_ngcontent-%COMP%]{font-size:.95rem}}.project-badge[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:1.2rem}.badge-initials[_ngcontent-%COMP%]{background:var(--gradient-secondary);color:#fff;font-size:1.5rem;font-weight:700;border-radius:50%;width:3.2rem;height:3.2rem;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #5a6cff14}.project-tagline[_ngcontent-%COMP%]{text-align:center;color:var(--accent-color);font-size:1.08rem;font-weight:500;margin-bottom:1.2rem;margin-top:-.5rem;letter-spacing:.01em}[data-theme=light][_ngcontent-%COMP%]   .project-flip-card[_ngcontent-%COMP%]   .flip-card-front[_ngcontent-%COMP%], [data-theme=light][_ngcontent-%COMP%]   .project-flip-card[_ngcontent-%COMP%]   .flip-card-back[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e0ff 0%,#7f7fff 60%,#a259ff 100%);box-shadow:0 4px 32px #43e0ff2e,0 1.5px 8px #a259ff1f;border:1.5px solid #43e0ff}[data-theme=dark][_ngcontent-%COMP%]   .project-flip-card[_ngcontent-%COMP%]   .flip-card-front[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .project-flip-card[_ngcontent-%COMP%]   .flip-card-back[_ngcontent-%COMP%]{background:var(--card-bg, #1e293b);color:var(--text-primary, #f8fafc);border:1.5px solid var(--border-color, #334155)}']}),n})();const xb={_origin:"https://api.emailjs.com"};class iN{constructor(e){this.status=e.status,this.text=e.responseText}}const M3_send=(n,e,t,r)=>{const i=r||xb._userID;return((n,e,t)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(i,n,e),((n,e,t={})=>new Promise((r,i)=>{const l=new XMLHttpRequest;l.addEventListener("load",({target:u})=>{const p=new iN(u);200===p.status||"OK"===p.text?r(p):i(p)}),l.addEventListener("error",({target:u})=>{i(new iN(u))}),l.open("POST",xb._origin+n,!0),Object.keys(t).forEach(u=>{l.setRequestHeader(u,t[u])}),l.send(e)}))("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})};let vA=(()=>{const e=class{constructor(r){this.firestore=r}generateSessionId(){return"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}generateBrowserFingerprint(){const r=document.createElement("canvas");r.getContext("2d")?.fillText("Browser Fingerprint",10,10);const l=r.toDataURL(),u=`${screen.width}x${screen.height}x${screen.colorDepth}`,p=Intl.DateTimeFormat().resolvedOptions().timeZone,y=navigator.language;return btoa(l+u+p+y).substr(0,32)}trackAnonymousVisitor(){var r=this;return(0,ae.Z)(function*(){try{const i=r.generateSessionId(),l=r.generateBrowserFingerprint(),u={timestamp:new Date,userAgent:navigator.userAgent,sessionId:i,browserFingerprint:l,isAnonymous:!0,visitCount:1,lastVisit:new Date,referrer:document.referrer||"direct",deviceType:r.getDeviceType(),screenResolution:`${screen.width}x${screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language},p=yield r.findExistingVisitor(l);p&&(u.visitCount=(p.visitCount||1)+1,u.lastVisit=p.timestamp),yield r.firestore.collection("visitors").add(u),console.log("Anonymous visitor tracked successfully"),localStorage.setItem("visitorSessionId",i),localStorage.setItem("visitorFingerprint",l)}catch(i){throw console.error("Error tracking anonymous visitor:",i),i}})()}saveVisitorInfo(r){var i=this;return(0,ae.Z)(function*(){try{const l=r.sessionId||i.generateSessionId(),u=r.browserFingerprint||i.generateBrowserFingerprint(),p={...r,timestamp:new Date,userAgent:navigator.userAgent,sessionId:l,browserFingerprint:u,isAnonymous:!r.name&&!r.mobile,visitCount:1,lastVisit:new Date,referrer:document.referrer||"direct",deviceType:i.getDeviceType(),screenResolution:`${screen.width}x${screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language},y=yield i.findExistingVisitor(u);y&&(p.visitCount=(y.visitCount||1)+1,p.lastVisit=y.timestamp),yield i.firestore.collection("visitors").add(p),console.log("Visitor information saved successfully"),localStorage.setItem("visitorSessionId",l),localStorage.setItem("visitorFingerprint",u)}catch(l){throw console.error("Error saving visitor information:",l),l}})()}findExistingVisitor(r){var i=this;return(0,ae.Z)(function*(){try{const l=yield i.firestore.collection("visitors",u=>u.where("browserFingerprint","==",r)).get().toPromise();if(l&&!l.empty){const u=l.docs;return u[u.length-1].data()}return null}catch(l){return console.error("Error finding existing visitor:",l),null}})()}getDeviceType(){const r=navigator.userAgent.toLowerCase();return/mobile|android|iphone|ipad|phone/i.test(r)?"mobile":/tablet|ipad/i.test(r)?"tablet":"desktop"}checkIfVisitorExists(r){var i=this;return(0,ae.Z)(function*(){try{return!(yield i.firestore.collection("visitors",u=>u.where("mobile","==",r)).get().toPromise())?.empty||!1}catch(l){return console.error("Error checking visitor existence:",l),!1}})()}getVisitorStats(){var r=this;return(0,ae.Z)(function*(){try{const i=yield r.firestore.collection("visitors").get().toPromise();if(!i)return{totalVisitors:0,anonymousVisitors:0,namedVisitors:0,todayVisitors:0,uniqueVisitors:0};const l=i.docs.map(B=>B.data()),u=new Date;u.setHours(0,0,0,0);const p=l.length,y=l.filter(B=>B.isAnonymous).length;return{totalVisitors:p,anonymousVisitors:y,namedVisitors:p-y,todayVisitors:l.filter(B=>{const Z=new Date(B.timestamp);return Z.setHours(0,0,0,0),Z.getTime()===u.getTime()}).length,uniqueVisitors:new Set(l.map(B=>B.browserFingerprint).filter(Boolean)).size}}catch(i){return console.error("Error getting visitor stats:",i),{totalVisitors:0,anonymousVisitors:0,namedVisitors:0,todayVisitors:0,uniqueVisitors:0}}})()}};let n=e;return e.\u0275fac=function(i){return new(i||e)(a.LFG(MI))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),Sb=(()=>{const e=class{constructor(r,i){this.firestore=r,this.visitorService=i,this.currentUserSubject=new Ps(null),this.currentUser$=this.currentUserSubject.asObservable(),this.loadStoredUser()}loadStoredUser(){const r=localStorage.getItem("adminUser");if(r)try{const i=JSON.parse(r);this.currentUserSubject.next(i)}catch(i){console.error("Error loading stored user:",i),localStorage.removeItem("adminUser")}}initializeAnonymousVisitor(){var r=this;return(0,ae.Z)(function*(){try{yield r.visitorService.trackAnonymousVisitor();const i=localStorage.getItem("visitorSessionId"),l=localStorage.getItem("visitorFingerprint");if(i&&l){const u={id:"anonymous-"+Date.now(),role:"anonymous",createdAt:new Date,sessionId:i,browserFingerprint:l};localStorage.setItem("adminUser",JSON.stringify(u)),r.currentUserSubject.next(u)}}catch(i){console.error("Error initializing anonymous visitor:",i)}})()}authenticateUser(r,i){var l=this;return(0,ae.Z)(function*(){try{if(!r||!i)return yield l.initializeAnonymousVisitor(),{success:!0,message:"Welcome to my portfolio!",isAdmin:!1};(yield l.getAdminCredentials())||(yield l.setAdminCredentials("Rohit Agarwal","9876543210"),console.log("Default admin credentials created. Please update them in the admin dashboard."));const p=yield l.getAdminCredentials();if(!p)return yield l.saveVisitorInfo(r,i),{success:!0,message:"Welcome to my portfolio!",isAdmin:!1};if(r.toLowerCase()===p.name.toLowerCase()&&i===p.contact){const y={id:"admin-001",name:r,contact:i,role:"admin",createdAt:new Date};return localStorage.setItem("adminUser",JSON.stringify(y)),l.currentUserSubject.next(y),yield l.firestore.collection("admin_logins").add({name:r,contact:i,timestamp:new Date,userAgent:navigator.userAgent,isAdmin:!0}),{success:!0,message:"Welcome back, Admin!",isAdmin:!0}}{yield l.saveVisitorInfo(r,i);const y={id:"visitor-"+Date.now(),name:r,contact:i,role:"user",createdAt:new Date,isAnonymous:!1};return localStorage.setItem("adminUser",JSON.stringify(y)),l.currentUserSubject.next(y),{success:!0,message:"Welcome to my portfolio!",isAdmin:!1}}}catch(u){return console.error("Authentication error:",u),{success:!1,message:"Authentication failed. Please try again.",isAdmin:!1}}})()}saveVisitorInfo(r,i){var l=this;return(0,ae.Z)(function*(){try{const u={timestamp:new Date,userAgent:navigator.userAgent};r&&(u.name=r),i&&(u.mobile=i),yield l.visitorService.saveVisitorInfo(u)}catch(u){console.error("Error saving visitor info:",u)}})()}getAdminCredentials(){var r=this;return(0,ae.Z)(function*(){try{const i=yield r.firestore.collection("admin_credentials").doc("default").get().toPromise();return i?.exists?i.data():null}catch(i){return console.error("Error getting admin credentials:",i),null}})()}setAdminCredentials(r,i){var l=this;return(0,ae.Z)(function*(){try{yield l.firestore.collection("admin_credentials").doc("default").set({name:r,contact:i})}catch(u){console.error("Error setting admin credentials:",u)}})()}updateAdminCredentials(r,i){var l=this;return(0,ae.Z)(function*(){try{return yield l.setAdminCredentials(r,i),!0}catch(u){return console.error("Error updating admin credentials:",u),!1}})()}logout(){localStorage.removeItem("adminUser"),this.currentUserSubject.next(null)}getCurrentUser(){return this.currentUserSubject.value}isAdmin(){return"admin"===this.getCurrentUser()?.role}isAnonymous(){return"anonymous"===this.getCurrentUser()?.role}isAuthenticated(){return null!==this.getCurrentUser()}getCurrentAdminCredentials(){var r=this;return(0,ae.Z)(function*(){return yield r.getAdminCredentials()})()}};let n=e;return e.\u0275fac=function(i){return new(i||e)(a.LFG(MI),a.LFG(vA))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function P3(n,e){1&n&&(a.TgZ(0,"div",31)(1,"div",32),a._UZ(2,"i",33),a.qZA(),a.TgZ(3,"div",34)(4,"h3",10),a._uU(5,"Message Sent Successfully!"),a.qZA(),a.TgZ(6,"p",12),a._uU(7,"Thank you for reaching out. I'll get back to you soon!"),a.qZA()()()),2&n&&a.Q6J("@messageAnimation",void 0)}function O3(n,e){1&n&&(a.TgZ(0,"div",35)(1,"div",36),a._UZ(2,"i",37),a.qZA(),a.TgZ(3,"div",38)(4,"h3",10),a._uU(5,"Message Not Sent"),a.qZA(),a.TgZ(6,"p",12),a._uU(7,"Sorry, there was an error sending your message. Please try again later."),a.qZA()()()),2&n&&a.Q6J("@messageAnimation",void 0)}function k3(n,e){if(1&n&&(a.TgZ(0,"div",35),a._UZ(1,"i",57),a._uU(2),a.qZA()),2&n){const t=a.oxw(2);a.xp6(2),a.hij(" ",t.getErrorMessage("name")," ")}}function N3(n,e){if(1&n&&(a.TgZ(0,"div",35),a._UZ(1,"i",57),a._uU(2),a.qZA()),2&n){const t=a.oxw(2);a.xp6(2),a.hij(" ",t.getErrorMessage("email")," ")}}function R3(n,e){if(1&n&&(a.TgZ(0,"div",35),a._UZ(1,"i",57),a._uU(2),a.qZA()),2&n){const t=a.oxw(2);a.xp6(2),a.hij(" ",t.getErrorMessage("message")," ")}}function F3(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",58)(1,"div",59),a._UZ(2,"i",60),a.TgZ(3,"h4"),a._uU(4,"Optional: Share Your Info"),a.qZA()(),a.TgZ(5,"p",61),a._uU(6," I noticed you're browsing anonymously. If you'd like me to remember you for future visits, you can optionally provide your contact number below. This helps me provide a more personalized experience. "),a.qZA(),a.TgZ(7,"div",41)(8,"label",62),a._uU(9,"Contact Number (Optional)"),a.qZA(),a.TgZ(10,"div",43),a._UZ(11,"i",63),a.TgZ(12,"input",64),a.NdJ("input",function(i){a.CHM(t);const l=a.oxw(2);return a.KtG(l.onContactInput(i))}),a.qZA()()()()}}function L3(n,e){1&n&&(a.TgZ(0,"div",65),a._UZ(1,"div",66),a.qZA())}function U3(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",39),a.NdJ("ngSubmit",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.onSubmit())}),a.TgZ(1,"div",40)(2,"div",41)(3,"label",42),a._uU(4,"Full Name"),a.qZA(),a.TgZ(5,"div",43),a._UZ(6,"i",44)(7,"input",45),a.qZA(),a.YNc(8,k3,3,1,"div",19),a.qZA(),a.TgZ(9,"div",41)(10,"label",46),a._uU(11,"Email Address"),a.qZA(),a.TgZ(12,"div",43),a._UZ(13,"i",47)(14,"input",48),a.qZA(),a.YNc(15,N3,3,1,"div",19),a.qZA()(),a.TgZ(16,"div",41)(17,"label",49),a._uU(18,"Message"),a.qZA(),a.TgZ(19,"div",43),a._UZ(20,"i",50)(21,"textarea",51),a.qZA(),a.YNc(22,R3,3,1,"div",19),a.qZA(),a.YNc(23,F3,13,0,"div",52),a.TgZ(24,"button",53)(25,"div",54),a._UZ(26,"i",55),a.TgZ(27,"span"),a._uU(28),a.qZA()(),a.YNc(29,L3,2,0,"div",56),a.qZA()()}if(2&n){const t=a.oxw();let r,i,l,u,p,y;a.Q6J("formGroup",t.contactForm),a.xp6(7),a.ekj("error",(null==(r=t.contactForm.get("name"))?null:r.invalid)&&(null==(r=t.contactForm.get("name"))?null:r.touched)),a.xp6(1),a.Q6J("ngIf",(null==(i=t.contactForm.get("name"))?null:i.invalid)&&(null==(i=t.contactForm.get("name"))?null:i.touched)),a.xp6(6),a.ekj("error",(null==(l=t.contactForm.get("email"))?null:l.invalid)&&(null==(l=t.contactForm.get("email"))?null:l.touched)),a.xp6(1),a.Q6J("ngIf",(null==(u=t.contactForm.get("email"))?null:u.invalid)&&(null==(u=t.contactForm.get("email"))?null:u.touched)),a.xp6(6),a.ekj("error",(null==(p=t.contactForm.get("message"))?null:p.invalid)&&(null==(p=t.contactForm.get("message"))?null:p.touched)),a.xp6(1),a.Q6J("ngIf",(null==(y=t.contactForm.get("message"))?null:y.invalid)&&(null==(y=t.contactForm.get("message"))?null:y.touched)),a.xp6(1),a.Q6J("ngIf",t.isAnonymousUser),a.xp6(1),a.Q6J("disabled",t.isSubmitting||t.contactForm.invalid),a.xp6(2),a.ekj("fa-paper-plane",!t.isSubmitting)("fa-spinner",t.isSubmitting)("fa-spin",t.isSubmitting),a.xp6(2),a.Oqu(t.isSubmitting?"Sending Message...":"Send Message"),a.xp6(1),a.Q6J("ngIf",t.isSubmitting)}}let V3=(()=>{const e=class{constructor(r,i,l){this.fb=r,this.authService=i,this.visitorService=l,this.isSubmitting=!1,this.showSuccess=!1,this.showError=!1,this.isAnonymousUser=!1,this.contactForm=this.fb.group({name:["",la.required],email:["",[la.required,la.email]],message:["",la.required],contact:[""]})}ngOnInit(){this.checkUserType()}checkUserType(){const r=this.authService.getCurrentUser();this.isAnonymousUser="anonymous"===r?.role}getErrorMessage(r){return"name"===r?"Name is required.":"email"===r?"Valid email is required.":"message"===r?"Message is required.":""}onContactInput(r){const i=r.target;i.value=i.value.replace(/[^0-9]/g,""),this.contactForm.get("contact")?.setValue(i.value,{emitEvent:!1})}onSubmit(){var r=this;return(0,ae.Z)(function*(){if(!r.contactForm.invalid){r.isSubmitting=!0,r.showError=!1;try{yield M3_send("service_3d095nj","template_ej5ujzi",{from_name:r.contactForm.value.name,from_email:r.contactForm.value.email,message:r.contactForm.value.message},"xP-WHpvN68bH-I6Vn"),r.isAnonymousUser&&r.contactForm.value.contact&&(yield r.updateAnonymousVisitorInfo()),r.showSuccess=!0,r.contactForm.reset()}catch(i){console.error("Error sending message:",i),r.showError=!0}finally{r.isSubmitting=!1}}})()}updateAnonymousVisitorInfo(){var r=this;return(0,ae.Z)(function*(){try{const i=r.authService.getCurrentUser();"anonymous"===i?.role&&(yield r.visitorService.saveVisitorInfo({name:r.contactForm.value.name,mobile:r.contactForm.value.contact,sessionId:i.sessionId,browserFingerprint:i.browserFingerprint}))}catch(i){console.error("Error updating anonymous visitor info:",i)}})()}markFormGroupTouched(){Object.keys(this.contactForm.controls).forEach(r=>{this.contactForm.get(r)?.markAsTouched()})}};let n=e;return e.\u0275fac=function(i){return new(i||e)(a.Y36(jw),a.Y36(Sb),a.Y36(vA))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-contact"]],decls:68,vars:3,consts:[[1,"contact-container"],[1,"contact-content"],[1,"contact-header"],[1,"contact-title","heading-main"],[1,"contact-subtitle","heading-sub"],[1,"contact-info-section"],[1,"info-card"],[1,"info-icon"],[1,"fas","fa-envelope"],[1,"info-content"],[1,"heading-sub"],[1,"meta-label"],[1,"body-content"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-clock"],[1,"contact-form-section"],[1,"form-container"],[1,"form-header"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],["class","contact-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"social-section"],[1,"social-links"],["href","http://linkedin.com/in/rohit-agarwal-a92795188","target","_blank","title","LinkedIn",1,"social-link"],[1,"fab","fa-linkedin"],["href","https://github.com/rohit-agarwal-ITT","target","_blank","title","GitHub",1,"social-link"],[1,"fab","fa-github"],["href","https://www.instagram.com/er_rohitagarwal10?igsh=MXBqNGdocGs5YzZiZQ%3D%3D&utm_source=qr","target","_blank","title","Instagram",1,"social-link"],[1,"fab","fa-instagram"],["href","https://x.com/rohitag1998?s=11","target","_blank","title","Twitter",1,"social-link"],[1,"fab","fa-twitter"],[1,"success-message"],[1,"success-icon"],[1,"fas","fa-check-circle"],[1,"success-content"],[1,"error-message"],[1,"error-icon"],[1,"fas","fa-exclamation-triangle"],[1,"error-content"],[1,"contact-form",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group"],["for","name"],[1,"input-wrapper"],[1,"fas","fa-user","input-icon"],["id","name","type","text","formControlName","name","placeholder","Enter your full name"],["for","email"],[1,"fas","fa-envelope","input-icon"],["id","email","type","email","formControlName","email","placeholder","Enter your email address"],["for","message"],[1,"fas","fa-comment","input-icon"],["id","message","formControlName","message","placeholder","Tell me about your project, timeline, and any specific requirements...","rows","6"],["class","tracking-section",4,"ngIf"],["type","submit",1,"submit-btn",3,"disabled"],[1,"btn-content"],[1,"fas"],["class","btn-progress",4,"ngIf"],[1,"fas","fa-exclamation-circle"],[1,"tracking-section"],[1,"tracking-header"],[1,"fas","fa-user-secret"],[1,"tracking-description"],["for","contact"],[1,"fas","fa-phone","input-icon"],["id","contact","type","text","formControlName","contact","placeholder","Enter your 10-digit contact number","maxlength","10","pattern","[0-9]*","inputmode","numeric",3,"input"],[1,"btn-progress"],[1,"progress-bar"]],template:function(i,l){1&i&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a._uU(4,"Get In Touch"),a.qZA(),a.TgZ(5,"p",4),a._uU(6,"Let's work together to bring your ideas to life"),a.qZA()(),a.TgZ(7,"div",5)(8,"div",6)(9,"div",7),a._UZ(10,"i",8),a.qZA(),a.TgZ(11,"div",9)(12,"h3",10),a._uU(13,"Email"),a.qZA(),a.TgZ(14,"p",11),a._uU(15,"rohitagarwal516@gmail.com"),a.qZA(),a.TgZ(16,"span",12),a._uU(17,"I'll respond within 24 hours"),a.qZA()()(),a.TgZ(18,"div",6)(19,"div",7),a._UZ(20,"i",13),a.qZA(),a.TgZ(21,"div",9)(22,"h3",10),a._uU(23,"Location"),a.qZA(),a.TgZ(24,"p",11),a._uU(25,"Available Worldwide"),a.qZA(),a.TgZ(26,"span",12),a._uU(27,"Remote and Onsite work friendly"),a.qZA()()(),a.TgZ(28,"div",6)(29,"div",7),a._UZ(30,"i",14),a.qZA(),a.TgZ(31,"div",9)(32,"h3",10),a._uU(33,"Response Time"),a.qZA(),a.TgZ(34,"p",11),a._uU(35,"Within 24 Hours"),a.qZA(),a.TgZ(36,"span",12),a._uU(37,"Usually much faster"),a.qZA()()()(),a.TgZ(38,"div",15)(39,"div",16)(40,"div",17)(41,"h2",10),a._uU(42,"Send Me a Message"),a.qZA(),a.TgZ(43,"p",12),a._uU(44,"Tell me about your project and I'll get back to you as soon as possible"),a.qZA()(),a.YNc(45,P3,8,1,"div",18),a.YNc(46,O3,8,1,"div",19),a.YNc(47,U3,30,20,"form",20),a.qZA()(),a.TgZ(48,"div",21)(49,"h3",10),a._uU(50,"Connect With Me"),a.qZA(),a.TgZ(51,"div",22)(52,"a",23),a._UZ(53,"i",24),a.TgZ(54,"span"),a._uU(55,"LinkedIn"),a.qZA()(),a.TgZ(56,"a",25),a._UZ(57,"i",26),a.TgZ(58,"span"),a._uU(59,"GitHub"),a.qZA()(),a.TgZ(60,"a",27),a._UZ(61,"i",28),a.TgZ(62,"span"),a._uU(63,"Instagram"),a.qZA()(),a.TgZ(64,"a",29),a._UZ(65,"i",30),a.TgZ(66,"span"),a._uU(67,"Twitter"),a.qZA()()()()()()),2&i&&(a.xp6(45),a.Q6J("ngIf",l.showSuccess),a.xp6(1),a.Q6J("ngIf",l.showError),a.xp6(1),a.Q6J("ngIf",!l.showSuccess))},dependencies:[Ar,vm,ec,nm,rm,Eu,op,Xd,wm],styles:['.contact-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto;min-height:calc(100vh - 80px);animation:fadeInUp .8s ease-out}.contact-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4rem}.contact-header[_ngcontent-%COMP%]{text-align:center;animation:slideInFromTop .8s ease-out}.contact-title[_ngcontent-%COMP%]{font-size:4rem;font-weight:800;font-family:Poppins,sans-serif;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:1rem;position:relative}.contact-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:80px;height:4px;background:var(--gradient-primary);border-radius:2px}.contact-subtitle[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--text-secondary);font-weight:500;margin-top:1rem}.contact-info-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;animation:fadeInUp .8s ease-out .2s both}.info-card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:var(--radius-2xl);padding:2.5rem;box-shadow:var(--shadow-lg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-color);transition:all var(--transition-normal);position:relative;overflow:hidden}.info-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--gradient-primary)}.info-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:var(--shadow-xl);border-color:var(--primary-color)}.info-icon[_ngcontent-%COMP%]{width:60px;height:60px;background:var(--gradient-primary);border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:1.5rem;font-size:1.5rem;color:#fff;box-shadow:var(--shadow-md)}.info-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--text-primary);margin-bottom:.5rem;font-family:Poppins,sans-serif}.info-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--primary-color);font-weight:600;margin-bottom:.5rem}.info-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);font-weight:500}.contact-form-section[_ngcontent-%COMP%]{animation:fadeInUp .8s ease-out .4s both}.form-container[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:var(--radius-2xl);padding:3rem;box-shadow:var(--shadow-lg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-color);position:relative;overflow:hidden}.form-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--gradient-primary)}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:var(--text-primary);margin-bottom:1rem;font-family:Poppins,sans-serif}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary);font-weight:500}.success-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf50,#45a049);color:#fff;padding:2rem;border-radius:var(--radius-xl);text-align:center;display:flex;align-items:center;gap:1.5rem;box-shadow:var(--shadow-lg)}.success-icon[_ngcontent-%COMP%]{font-size:3rem;animation:_ngcontent-%COMP%_bounce 1s ease-in-out}.success-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:.5rem;font-family:Poppins,sans-serif}.success-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9}.error-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f44336,#d32f2f);color:#fff;padding:2rem;border-radius:var(--radius-xl);text-align:center;display:flex;align-items:center;gap:1.5rem;box-shadow:var(--shadow-lg)}.error-icon[_ngcontent-%COMP%]{font-size:3rem;animation:shake .5s ease-in-out}.error-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:.5rem;font-family:Poppins,sans-serif}.error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9}.contact-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--text-primary);margin-bottom:.5rem}.input-wrapper[_ngcontent-%COMP%]{position:relative}.input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:1.56rem;font-size:1rem;color:var(--text-secondary);z-index:1;pointer-events:none}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1.25rem 1rem 1.25rem 3rem;border-radius:var(--radius-lg);border:2px solid var(--border-color);font-size:1rem;background:var(--bg-secondary);color:var(--text-primary);transition:all var(--transition-normal);font-family:inherit;resize:vertical}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #4a4e691a;background:var(--card-bg)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .input-icon[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus + .input-icon[_ngcontent-%COMP%]{color:var(--primary-color)}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%]{border-color:#f44336;box-shadow:0 0 0 3px #f443361a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-secondary);opacity:.7}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:150px;line-height:1.6;padding-top:1.15rem;padding-left:3rem}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:.9rem;display:flex;align-items:center;gap:.5rem;animation:_ngcontent-%COMP%_slideIn .3s ease}.error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.submit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:48px;padding:0 2rem;background:var(--gradient-primary);color:#fff;border:none;border-radius:var(--radius-xl);font-size:1.2rem;font-weight:700;cursor:pointer;transition:all var(--transition-normal);position:relative;overflow:hidden;margin-top:1rem;font-family:Poppins,sans-serif}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:var(--shadow-xl)}.submit-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px)}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.btn-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;position:relative;z-index:2;width:100%}.btn-progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:4px;background:rgba(255,255,255,.3);overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#00ff88,#00d4ff);animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite}.social-section[_ngcontent-%COMP%]{text-align:center;animation:fadeInUp .8s ease-out .6s both}.social-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--text-primary);margin-bottom:2rem;font-family:Poppins,sans-serif}.social-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap}.social-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 2rem;background:var(--card-bg);color:var(--text-primary);text-decoration:none;border-radius:var(--radius-xl);font-weight:600;transition:all var(--transition-normal);border:2px solid var(--border-color);position:relative;overflow:hidden}.social-link[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:var(--gradient-primary);transition:left var(--transition-normal);z-index:0}.social-link[_ngcontent-%COMP%]:hover:before{left:0}.social-link[_ngcontent-%COMP%]:hover{transform:translateY(-5px);border-color:var(--primary-color);box-shadow:var(--shadow-lg)}.social-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem;position:relative;z-index:1;transition:color var(--transition-normal)}.social-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1;transition:color var(--transition-normal)}.social-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .social-link[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff}@media (max-width: 768px){.contact-container[_ngcontent-%COMP%]{padding:1rem}.contact-title[_ngcontent-%COMP%]{font-size:3rem}.contact-info-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.form-container[_ngcontent-%COMP%]{padding:2rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.social-links[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.social-link[_ngcontent-%COMP%]{width:100%;max-width:300px;justify-content:center}}@media (max-width: 480px){.contact-title[_ngcontent-%COMP%]{font-size:2.5rem}.contact-subtitle[_ngcontent-%COMP%]{font-size:1.2rem}.info-card[_ngcontent-%COMP%]{padding:2rem}.form-container[_ngcontent-%COMP%]{padding:1.5rem}.submit-btn[_ngcontent-%COMP%]{padding:1.25rem 2rem;font-size:1.1rem}}@media (max-width: 900px){.contact-info-section[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}}@media (max-width: 700px){.contact-info-section[_ngcontent-%COMP%]{grid-template-columns:1fr}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}@keyframes _ngcontent-%COMP%_progress{0%{width:0%}50%{width:70%}to{width:100%}}.tracking-section[_ngcontent-%COMP%]{margin:2rem 0;padding:1.5rem;background:linear-gradient(135deg,rgba(140,82,255,.05) 0%,rgba(255,107,107,.05) 100%);border:1px solid var(--border-color);border-radius:var(--radius-xl);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.tracking-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.tracking-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.2rem}.tracking-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-primary);font-size:1.1rem;font-weight:600;margin:0}.tracking-description[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;line-height:1.5;margin-bottom:1.5rem}'],data:{animation:[ms("formAnimation",[fi(":enter",[Nn({opacity:0,transform:"translateY(20px)"}),Uo("400ms ease-out",Nn({opacity:1,transform:"none"}))])]),ms("messageAnimation",[fi(":enter",[Nn({opacity:0,transform:"scale(0.8)"}),Uo("300ms ease-out",Nn({opacity:1,transform:"scale(1)"}))]),fi(":leave",[Uo("200ms ease-in",Nn({opacity:0,transform:"scale(0.8)"}))])])]}}),n})();var B3=N(2961);function H3(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",32),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.toggleCredentialsEdit())}),a._UZ(1,"i",33),a._uU(2," Edit "),a.qZA()}}function $3(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Save"),a.qZA())}function Z3(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Saving..."),a.qZA())}function z3(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",34)(1,"button",35),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.saveCredentials())}),a._UZ(2,"i",36),a.YNc(3,$3,2,0,"span",37),a.YNc(4,Z3,2,0,"span",37),a.qZA(),a.TgZ(5,"button",38),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.cancelCredentialsEdit())}),a._UZ(6,"i",39),a._uU(7," Cancel "),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(1),a.Q6J("disabled",t.savingCredentials),a.xp6(2),a.Q6J("ngIf",!t.savingCredentials),a.xp6(1),a.Q6J("ngIf",t.savingCredentials)}}function q3(n,e){if(1&n&&(a.TgZ(0,"div",40)(1,"div",41)(2,"label"),a._uU(3,"Admin Name:"),a.qZA(),a.TgZ(4,"span",42),a._uU(5),a.qZA()(),a.TgZ(6,"div",41)(7,"label"),a._uU(8,"Contact:"),a.qZA(),a.TgZ(9,"span",42),a._uU(10),a.qZA()()()),2&n){const t=a.oxw();a.xp6(5),a.Oqu((null==t.currentCredentials?null:t.currentCredentials.name)||"Not set"),a.xp6(5),a.Oqu((null==t.currentCredentials?null:t.currentCredentials.contact)||"Not set")}}function G3(n,e){1&n&&(a.TgZ(0,"div",53),a._uU(1," Admin name is required "),a.qZA())}function W3(n,e){1&n&&(a.TgZ(0,"div",53),a._uU(1," Contact number must be exactly 10 digits "),a.qZA())}function K3(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Save Changes"),a.qZA())}function Y3(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Saving..."),a.qZA())}function Q3(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",43)(1,"form",44),a.NdJ("ngSubmit",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.saveCredentials())}),a.TgZ(2,"div",45)(3,"label",46),a._uU(4,"Admin Name"),a.qZA(),a._UZ(5,"input",47),a.YNc(6,G3,2,0,"div",29),a.qZA(),a.TgZ(7,"div",45)(8,"label",48),a._uU(9,"Contact Number"),a.qZA(),a.TgZ(10,"input",49),a.NdJ("input",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.onContactInput(i))}),a.qZA(),a.YNc(11,W3,2,0,"div",29),a.qZA(),a.TgZ(12,"div",50)(13,"button",51),a._UZ(14,"i",36),a.YNc(15,K3,2,0,"span",37),a.YNc(16,Y3,2,0,"span",37),a.qZA(),a.TgZ(17,"button",52),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.cancelCredentialsEdit())}),a._UZ(18,"i",39),a._uU(19," Cancel "),a.qZA()()()()}if(2&n){const t=a.oxw();let r,i,l,u;a.xp6(1),a.Q6J("formGroup",t.credentialsForm),a.xp6(4),a.ekj("error",(null==(r=t.credentialsForm.get("name"))?null:r.invalid)&&(null==(r=t.credentialsForm.get("name"))?null:r.touched)),a.xp6(1),a.Q6J("ngIf",(null==(i=t.credentialsForm.get("name"))?null:i.invalid)&&(null==(i=t.credentialsForm.get("name"))?null:i.touched)),a.xp6(4),a.ekj("error",(null==(l=t.credentialsForm.get("contact"))?null:l.invalid)&&(null==(l=t.credentialsForm.get("contact"))?null:l.touched)),a.xp6(1),a.Q6J("ngIf",(null==(u=t.credentialsForm.get("contact"))?null:u.invalid)&&(null==(u=t.credentialsForm.get("contact"))?null:u.touched)),a.xp6(2),a.Q6J("disabled",t.savingCredentials||t.credentialsForm.invalid),a.xp6(2),a.Q6J("ngIf",!t.savingCredentials),a.xp6(1),a.Q6J("ngIf",t.savingCredentials)}}function J3(n,e){1&n&&(a.TgZ(0,"div",54),a._UZ(1,"i",55),a.TgZ(2,"span"),a._uU(3,"Loading visitors..."),a.qZA()())}function X3(n,e){if(1&n&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"async"),a.qZA()),2&n){const t=a.oxw(2);let r;a.xp6(1),a.hij("Delete All (",(null==(r=a.lcZ(2,1,t.visitors$))?null:r.length)||0,")")}}function eB(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Deleting..."),a.qZA())}function tB(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",56),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.showDeleteAllConfirmation())}),a._UZ(1,"i",57),a.YNc(2,X3,3,3,"span",37),a.YNc(3,eB,2,0,"span",37),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("disabled",t.deletingAll),a.xp6(2),a.Q6J("ngIf",!t.deletingAll),a.xp6(1),a.Q6J("ngIf",t.deletingAll)}}function nB(n,e){if(1&n&&(a.TgZ(0,"div",53),a._UZ(1,"i",58),a.TgZ(2,"span"),a._uU(3),a.qZA()()),2&n){const t=a.oxw();a.xp6(3),a.Oqu(t.error)}}function rB(n,e){if(1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(1),a.Oqu(t.name)}}function iB(n,e){1&n&&(a.TgZ(0,"span",83),a._uU(1,"Anonymous Visitor"),a.qZA())}function oB(n,e){1&n&&(a.TgZ(0,"span",84),a._UZ(1,"i",21),a.qZA())}function sB(n,e){if(1&n&&(a.TgZ(0,"p",85),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(1),a.Oqu(t.mobile)}}function aB(n,e){1&n&&(a.TgZ(0,"p",85),a._uU(1,"No contact info"),a.qZA())}function lB(n,e){if(1&n&&(a.TgZ(0,"span",86),a._UZ(1,"i",87),a._uU(2),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(2),a.hij(" ",t.visitCount," visits ")}}function cB(n,e){if(1&n&&(a.TgZ(0,"span",88),a._UZ(1,"i",89),a._uU(2),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(2),a.hij(" ",t.deviceType," ")}}function uB(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",62),a.NdJ("click",function(){const l=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.selectVisitor(l))}),a.TgZ(1,"div",63)(2,"div",64)(3,"h3",65),a.YNc(4,rB,2,1,"span",37),a.YNc(5,iB,2,0,"span",66),a.YNc(6,oB,2,0,"span",67),a.qZA(),a.YNc(7,sB,2,1,"p",68),a.YNc(8,aB,2,0,"p",68),a.qZA(),a.TgZ(9,"div",69)(10,"button",70),a.NdJ("click",function(i){const u=a.CHM(t).$implicit;return a.oxw(2).selectVisitor(u),a.KtG(i.stopPropagation())}),a._UZ(11,"i",71),a.qZA(),a.TgZ(12,"button",72),a.NdJ("click",function(i){const u=a.CHM(t).$implicit;return a.oxw(2).deleteVisitor(u),a.KtG(i.stopPropagation())}),a._UZ(13,"i",73),a.qZA()()(),a.TgZ(14,"div",74)(15,"div",75)(16,"span",76),a._UZ(17,"i",77),a._uU(18),a.qZA(),a.YNc(19,lB,3,1,"span",78),a.YNc(20,cB,3,1,"span",79),a.qZA()(),a.TgZ(21,"div",80)(22,"span",81),a._UZ(23,"i",82),a._uU(24),a.qZA()()()}if(2&n){const t=e.$implicit,r=a.oxw(2);a.xp6(4),a.Q6J("ngIf",t.name),a.xp6(1),a.Q6J("ngIf",!t.name),a.xp6(1),a.Q6J("ngIf",t.isAnonymous),a.xp6(1),a.Q6J("ngIf",t.mobile),a.xp6(1),a.Q6J("ngIf",!t.mobile),a.xp6(10),a.hij(" ",r.getDeviceInfo(t.userAgent||"")," "),a.xp6(1),a.Q6J("ngIf",t.visitCount&&t.visitCount>1),a.xp6(1),a.Q6J("ngIf",t.deviceType),a.xp6(4),a.hij(" ",r.formatDate(t.timestamp)," ")}}function dB(n,e){1&n&&(a.TgZ(0,"div",90),a._UZ(1,"i",17),a.TgZ(2,"h3"),a._uU(3,"No visitors yet"),a.qZA(),a.TgZ(4,"p"),a._uU(5,"Visitor information will appear here when users visit your portfolio"),a.qZA()())}function hB(n,e){if(1&n&&(a.TgZ(0,"div",59),a.YNc(1,uB,25,9,"div",60),a.ALo(2,"async"),a.YNc(3,dB,6,0,"div",61),a.ALo(4,"async"),a.qZA()),2&n){const t=a.oxw();let r;a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,2,t.visitors$)),a.xp6(2),a.Q6J("ngIf",0===(null==(r=a.lcZ(4,4,t.visitors$))?null:r.length))}}function fB(n,e){if(1&n&&(a.TgZ(0,"strong"),a._uU(1),a.qZA()),2&n){const t=a.oxw(3);a.xp6(1),a.Oqu(t.selectedVisitor.name)}}function pB(n,e){1&n&&(a.TgZ(0,"span",106),a._uU(1,"Anonymous Visitor"),a.qZA())}function gB(n,e){1&n&&(a.TgZ(0,"span",84),a._UZ(1,"i",21),a._uU(2," Anonymous "),a.qZA())}function mB(n,e){if(1&n&&(a.TgZ(0,"div",101)(1,"label"),a._uU(2,"Mobile:"),a.qZA(),a.TgZ(3,"div",102),a._uU(4),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(4),a.Oqu(t.selectedVisitor.mobile)}}function yB(n,e){if(1&n&&(a.TgZ(0,"div",101)(1,"label"),a._uU(2,"Device Type:"),a.qZA(),a.TgZ(3,"div",102),a._uU(4),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(4),a.Oqu(t.selectedVisitor.deviceType)}}function _B(n,e){if(1&n&&(a.TgZ(0,"div",101)(1,"label"),a._uU(2,"Screen Resolution:"),a.qZA(),a.TgZ(3,"div",102),a._uU(4),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(4),a.Oqu(t.selectedVisitor.screenResolution)}}function vB(n,e){if(1&n&&(a.TgZ(0,"div",101)(1,"label"),a._uU(2,"Timezone:"),a.qZA(),a.TgZ(3,"div",102),a._uU(4),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(4),a.Oqu(t.selectedVisitor.timezone)}}function bB(n,e){if(1&n&&(a.TgZ(0,"div",101)(1,"label"),a._uU(2,"Language:"),a.qZA(),a.TgZ(3,"div",102),a._uU(4),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(4),a.Oqu(t.selectedVisitor.language)}}function wB(n,e){if(1&n&&(a.TgZ(0,"div",101)(1,"label"),a._uU(2,"Visit Count:"),a.qZA(),a.TgZ(3,"div",102),a._uU(4),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(4),a.Oqu(t.selectedVisitor.visitCount)}}function CB(n,e){if(1&n&&(a.TgZ(0,"div",101)(1,"label"),a._uU(2,"Referrer:"),a.qZA(),a.TgZ(3,"div",102),a._uU(4),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(4),a.Oqu(t.selectedVisitor.referrer)}}function EB(n,e){if(1&n&&(a.TgZ(0,"div",107)(1,"label"),a._uU(2,"User Agent:"),a.qZA(),a.TgZ(3,"div",108),a._uU(4),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(4),a.Oqu(t.selectedVisitor.userAgent)}}function IB(n,e){if(1&n&&(a.TgZ(0,"div",100)(1,"div",101)(2,"label"),a._uU(3,"Name:"),a.qZA(),a.TgZ(4,"div",102),a.YNc(5,fB,2,1,"strong",37),a.YNc(6,pB,2,0,"span",103),a.YNc(7,gB,3,0,"span",67),a.qZA()(),a.YNc(8,mB,5,1,"div",104),a.TgZ(9,"div",101)(10,"label"),a._uU(11,"Device:"),a.qZA(),a.TgZ(12,"div",102),a._uU(13),a.qZA()(),a.YNc(14,yB,5,1,"div",104),a.YNc(15,_B,5,1,"div",104),a.YNc(16,vB,5,1,"div",104),a.YNc(17,bB,5,1,"div",104),a.YNc(18,wB,5,1,"div",104),a.YNc(19,CB,5,1,"div",104),a.TgZ(20,"div",101)(21,"label"),a._uU(22,"Visit Date:"),a.qZA(),a.TgZ(23,"div",102),a._uU(24),a.qZA()(),a.YNc(25,EB,5,1,"div",105),a.qZA()),2&n){const t=a.oxw(2);a.xp6(5),a.Q6J("ngIf",t.selectedVisitor.name),a.xp6(1),a.Q6J("ngIf",!t.selectedVisitor.name),a.xp6(1),a.Q6J("ngIf",t.selectedVisitor.isAnonymous),a.xp6(1),a.Q6J("ngIf",t.selectedVisitor.mobile),a.xp6(5),a.Oqu(t.getDeviceInfo(t.selectedVisitor.userAgent||"")),a.xp6(1),a.Q6J("ngIf",t.selectedVisitor.deviceType),a.xp6(1),a.Q6J("ngIf",t.selectedVisitor.screenResolution),a.xp6(1),a.Q6J("ngIf",t.selectedVisitor.timezone),a.xp6(1),a.Q6J("ngIf",t.selectedVisitor.language),a.xp6(1),a.Q6J("ngIf",t.selectedVisitor.visitCount),a.xp6(1),a.Q6J("ngIf",t.selectedVisitor.referrer),a.xp6(5),a.Oqu(t.formatDate(t.selectedVisitor.timestamp)),a.xp6(1),a.Q6J("ngIf",t.selectedVisitor.userAgent)}}function TB(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",91),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.closeVisitor())}),a.TgZ(1,"div",92),a.NdJ("click",function(i){return i.stopPropagation()}),a.TgZ(2,"div",93)(3,"h2",94),a._uU(4,"Visitor Details"),a.qZA(),a.TgZ(5,"button",95),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.closeVisitor())}),a._UZ(6,"i",39),a.qZA()(),a.YNc(7,IB,26,13,"div",96),a.TgZ(8,"div",97)(9,"button",98),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.closeVisitor())}),a._uU(10,"Close"),a.qZA(),a.TgZ(11,"button",99),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return i.deleteVisitor(i.selectedVisitor),a.KtG(i.closeVisitor())}),a._UZ(12,"i",73),a._uU(13," Delete Record "),a.qZA()()()()}if(2&n){const t=a.oxw();a.xp6(7),a.Q6J("ngIf",t.selectedVisitor)}}function DB(n,e){if(1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.hij("Delete All ",t.visitorCountToDelete," Records")}}function xB(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Deleting..."),a.qZA())}function SB(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",91),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.cancelDeleteAll())}),a.TgZ(1,"div",109),a.NdJ("click",function(i){return i.stopPropagation()}),a.TgZ(2,"div",93)(3,"h2",94),a._UZ(4,"i",110),a._uU(5," Delete All Visitors "),a.qZA(),a.TgZ(6,"button",95),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.cancelDeleteAll())}),a._UZ(7,"i",39),a.qZA()(),a.TgZ(8,"div",100)(9,"div",111),a._UZ(10,"i",58),a.TgZ(11,"h3"),a._uU(12,"\u26a0\ufe0f Warning: This action cannot be undone!"),a.qZA(),a.TgZ(13,"p"),a._uU(14,"You are about to delete "),a.TgZ(15,"strong"),a._uU(16),a.qZA(),a._uU(17," visitor records permanently."),a.qZA(),a.TgZ(18,"p"),a._uU(19,"This will remove all visitor data including:"),a.qZA(),a.TgZ(20,"ul")(21,"li"),a._uU(22,"Visitor names and contact information"),a.qZA(),a.TgZ(23,"li"),a._uU(24,"Visit timestamps and device information"),a.qZA(),a.TgZ(25,"li"),a._uU(26,"All associated analytics data"),a.qZA()(),a.TgZ(27,"p")(28,"strong"),a._uU(29,"This action cannot be reversed!"),a.qZA()()()(),a.TgZ(30,"div",97)(31,"button",98),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.cancelDeleteAll())}),a._UZ(32,"i",39),a._uU(33," Cancel "),a.qZA(),a.TgZ(34,"button",112),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.confirmDeleteAll())}),a._UZ(35,"i",57),a.YNc(36,DB,2,1,"span",37),a.YNc(37,xB,2,0,"span",37),a.qZA()()()()}if(2&n){const t=a.oxw();a.xp6(16),a.Oqu(t.visitorCountToDelete),a.xp6(18),a.Q6J("disabled",t.deletingAll),a.xp6(2),a.Q6J("ngIf",!t.deletingAll),a.xp6(1),a.Q6J("ngIf",t.deletingAll)}}function AB(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",91),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.cancelDeleteVisitor())}),a.TgZ(1,"div",109),a.NdJ("click",function(i){return i.stopPropagation()}),a.TgZ(2,"div",93)(3,"h2",94),a._UZ(4,"i",110),a._uU(5," Delete Visitor "),a.qZA(),a.TgZ(6,"button",95),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.cancelDeleteVisitor())}),a._UZ(7,"i",39),a.qZA()(),a.TgZ(8,"div",100)(9,"div",111),a._UZ(10,"i",58),a.TgZ(11,"h3"),a._uU(12,"Are you sure you want to delete this visitor?"),a.qZA(),a.TgZ(13,"p"),a._uU(14,"This will permanently remove the following visitor record:"),a.qZA(),a.TgZ(15,"ul")(16,"li")(17,"strong"),a._uU(18,"Name:"),a.qZA(),a._uU(19),a.qZA(),a.TgZ(20,"li")(21,"strong"),a._uU(22,"Mobile:"),a.qZA(),a._uU(23),a.qZA(),a.TgZ(24,"li")(25,"strong"),a._uU(26,"Date:"),a.qZA(),a._uU(27),a.qZA()(),a.TgZ(28,"p")(29,"strong"),a._uU(30,"This action cannot be undone!"),a.qZA()()()(),a.TgZ(31,"div",97)(32,"button",98),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.cancelDeleteVisitor())}),a._UZ(33,"i",39),a._uU(34," Cancel "),a.qZA(),a.TgZ(35,"button",99),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.confirmDeleteVisitor())}),a._UZ(36,"i",73),a._uU(37," Delete Visitor "),a.qZA()()()()}if(2&n){const t=a.oxw();a.xp6(19),a.hij(" ",null==t.visitorToDelete?null:t.visitorToDelete.name,""),a.xp6(4),a.hij(" ",null==t.visitorToDelete?null:t.visitorToDelete.mobile,""),a.xp6(4),a.hij(" ",t.formatDate(null==t.visitorToDelete?null:t.visitorToDelete.timestamp),"")}}let MB=(()=>{const e=class{constructor(r,i,l,u){this.firestore=r,this.authService=i,this.visitorService=l,this.fb=u,this.loading=!0,this.error="",this.selectedVisitor=null,this.currentCredentials=null,this.editingCredentials=!1,this.savingCredentials=!1,this.deletingAll=!1,this.showDeleteAllModal=!1,this.visitorCountToDelete=0,this.showDeleteVisitorModal=!1,this.visitorToDelete=null,this.visitorStats={totalVisitors:0,anonymousVisitors:0,namedVisitors:0,todayVisitors:0,uniqueVisitors:0},this.subscription=new BS.w0,this.visitors$=this.firestore.collection("visitors",p=>p.orderBy("timestamp","desc")).valueChanges({idField:"id"}).pipe((0,Dt.U)(p=>p)),this.credentialsForm=this.fb.group({name:["",la.required],contact:["",[la.required,la.pattern("^[0-9]{10}$")]]})}ngOnInit(){this.loadCredentials(),this.loadVisitorStats(),this.subscription.add(this.visitors$.subscribe({next:()=>{this.loading=!1},error:r=>{this.error="Failed to load visitor data",this.loading=!1,console.error("Error loading visitors:",r)}}))}ngOnDestroy(){this.subscription.unsubscribe()}loadCredentials(){var r=this;return(0,ae.Z)(function*(){try{r.currentCredentials=yield r.authService.getCurrentAdminCredentials(),r.currentCredentials&&r.credentialsForm.patchValue({name:r.currentCredentials.name,contact:r.currentCredentials.contact})}catch(i){console.error("Error loading credentials:",i)}})()}loadVisitorStats(){var r=this;return(0,ae.Z)(function*(){try{r.visitorStats=yield r.visitorService.getVisitorStats()}catch(i){console.error("Error loading visitor stats:",i)}})()}toggleCredentialsEdit(){this.editingCredentials=!this.editingCredentials,this.editingCredentials&&this.currentCredentials&&this.credentialsForm.patchValue({name:this.currentCredentials.name,contact:this.currentCredentials.contact})}saveCredentials(){var r=this;return(0,ae.Z)(function*(){if(!r.credentialsForm.invalid){r.savingCredentials=!0;try{const i=r.credentialsForm.value;(yield r.authService.updateAdminCredentials(i.name,i.contact))&&(r.currentCredentials=i,r.editingCredentials=!1)}catch(i){console.error("Error saving credentials:",i)}finally{r.savingCredentials=!1}}})()}cancelCredentialsEdit(){this.editingCredentials=!1,this.currentCredentials&&this.credentialsForm.patchValue({name:this.currentCredentials.name,contact:this.currentCredentials.contact})}selectVisitor(r){this.selectedVisitor=r}closeVisitor(){this.selectedVisitor=null}deleteVisitor(r){var i=this;return(0,ae.Z)(function*(){i.visitorToDelete=r,i.showDeleteVisitorModal=!0})()}confirmDeleteVisitor(){var r=this;return(0,ae.Z)(function*(){if(r.visitorToDelete)try{yield r.firestore.collection("visitors").doc(r.visitorToDelete.id).delete(),r.showDeleteVisitorModal=!1,r.visitorToDelete=null,r.selectedVisitor=null,yield r.loadVisitorStats()}catch(i){console.error("Error deleting visitor:",i)}})()}cancelDeleteVisitor(){this.showDeleteVisitorModal=!1,this.visitorToDelete=null}showDeleteAllConfirmation(){this.visitorCountToDelete=0,this.visitors$.subscribe(r=>{this.visitorCountToDelete=r.length}).unsubscribe(),this.showDeleteAllModal=!0}confirmDeleteAll(){var r=this;return(0,ae.Z)(function*(){r.deletingAll=!0;try{const l=(yield function j3(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const l=new B3.Hp({next:u=>{r(u),l.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new ab)}});n.subscribe(l)})}(r.visitors$)).map(u=>r.firestore.collection("visitors").doc(u.id).delete());yield Promise.all(l),r.showDeleteAllModal=!1,yield r.loadVisitorStats()}catch(i){console.error("Error deleting all visitors:",i)}finally{r.deletingAll=!1}})()}cancelDeleteAll(){this.showDeleteAllModal=!1}getDeviceInfo(r){if(!r)return"Unknown";const i=r.toLowerCase();return i.includes("mobile")||i.includes("android")||i.includes("iphone")?"Mobile":i.includes("tablet")||i.includes("ipad")?"Tablet":"Desktop"}formatDate(r){return r?(r.toDate?r.toDate():new Date(r)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown"}getTodayVisitorsCount(r){const i=new Date;return i.setHours(0,0,0,0),r.filter(l=>{const u=new Date(l.timestamp);return u.setHours(0,0,0,0),u.getTime()===i.getTime()}).length}onContactInput(r){const i=r.target;i.value=i.value.replace(/[^0-9]/g,""),this.credentialsForm.get("contact")?.setValue(i.value,{emitEvent:!1})}};let n=e;return e.\u0275fac=function(i){return new(i||e)(a.Y36(MI),a.Y36(Sb),a.Y36(vA),a.Y36(jw))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-admin"]],decls:71,vars:18,consts:[[1,"admin-container"],[1,"admin-header"],[1,"admin-title"],[1,"admin-subtitle"],[1,"admin-content"],[1,"credentials-section"],[1,"section-header"],[1,"section-title"],[1,"fas","fa-key"],["class","edit-btn",3,"click",4,"ngIf"],["class","edit-actions",4,"ngIf"],[1,"credentials-card"],["class","credentials-info",4,"ngIf"],["class","credentials-form",4,"ngIf"],[1,"stats-section"],[1,"stat-card"],[1,"stat-icon"],[1,"fas","fa-users"],[1,"stat-content"],[1,"stat-number"],[1,"stat-label"],[1,"fas","fa-user-secret"],[1,"fas","fa-user-check"],[1,"fas","fa-clock"],[1,"fas","fa-fingerprint"],[1,"visitors-section"],[1,"section-actions"],["class","loading-spinner",4,"ngIf"],["class","delete-all-btn","type","button",3,"disabled","click",4,"ngIf"],["class","error-message",4,"ngIf"],["class","visitors-grid",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"edit-btn",3,"click"],[1,"fas","fa-edit"],[1,"edit-actions"],[1,"save-btn",3,"disabled","click"],[1,"fas","fa-save"],[4,"ngIf"],[1,"cancel-btn",3,"click"],[1,"fas","fa-times"],[1,"credentials-info"],[1,"credential-row"],[1,"credential-value"],[1,"credentials-form"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","adminName"],["id","adminName","type","text","formControlName","name","placeholder","Enter admin name"],["for","adminContact"],["id","adminContact","type","text","formControlName","contact","placeholder","Enter 10-digit contact number","maxlength","10","pattern","[0-9]*","inputmode","numeric",3,"input"],[1,"form-actions"],["type","submit",1,"save-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[1,"loading-spinner"],[1,"fas","fa-spinner","fa-spin"],["type","button",1,"delete-all-btn",3,"disabled","click"],[1,"fas","fa-trash-alt"],[1,"fas","fa-exclamation-triangle"],[1,"visitors-grid"],["class","visitor-card",3,"click",4,"ngFor","ngForOf"],["class","no-visitors",4,"ngIf"],[1,"visitor-card",3,"click"],[1,"visitor-header"],[1,"visitor-info"],[1,"visitor-name"],["class","anonymous-visitor",4,"ngIf"],["class","anonymous-badge",4,"ngIf"],["class","visitor-mobile",4,"ngIf"],[1,"visitor-actions"],[1,"action-btn","view-btn",3,"click"],[1,"fas","fa-eye"],[1,"action-btn","delete-btn",3,"click"],[1,"fas","fa-trash"],[1,"visitor-content"],[1,"visitor-details"],[1,"device-info"],[1,"fas","fa-mobile-alt"],["class","visit-count",4,"ngIf"],["class","device-type",4,"ngIf"],[1,"visitor-footer"],[1,"visitor-date"],[1,"fas","fa-calendar"],[1,"anonymous-visitor"],[1,"anonymous-badge"],[1,"visitor-mobile"],[1,"visit-count"],[1,"fas","fa-redo"],[1,"device-type"],[1,"fas","fa-desktop"],[1,"no-visitors"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"close-btn",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal-body"],[1,"detail-row"],[1,"detail-value"],["class","anonymous-text",4,"ngIf"],["class","detail-row",4,"ngIf"],["class","detail-row full-width",4,"ngIf"],[1,"anonymous-text"],[1,"detail-row","full-width"],[1,"detail-value","user-agent-text"],[1,"modal-content","delete-all-modal",3,"click"],[1,"fas","fa-exclamation-triangle",2,"color","#f44336","margin-right","0.5rem"],[1,"warning-message"],[1,"btn","btn-danger",3,"disabled","click"]],template:function(i,l){if(1&i&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),a._uU(3,"Dashboard"),a.qZA(),a.TgZ(4,"p",3),a._uU(5,"Visitor Analytics & Settings"),a.qZA()(),a.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"h2",7),a._UZ(10,"i",8),a._uU(11," Credentials "),a.qZA(),a.YNc(12,H3,3,0,"button",9),a.YNc(13,z3,8,3,"div",10),a.qZA(),a.TgZ(14,"div",11),a.YNc(15,q3,11,2,"div",12),a.YNc(16,Q3,20,10,"div",13),a.qZA()(),a.TgZ(17,"div",14)(18,"div",15)(19,"div",16),a._UZ(20,"i",17),a.qZA(),a.TgZ(21,"div",18)(22,"h3",19),a._uU(23),a.qZA(),a.TgZ(24,"p",20),a._uU(25,"Total Visits"),a.qZA()()(),a.TgZ(26,"div",15)(27,"div",16),a._UZ(28,"i",21),a.qZA(),a.TgZ(29,"div",18)(30,"h3",19),a._uU(31),a.qZA(),a.TgZ(32,"p",20),a._uU(33,"Anonymous Visitors"),a.qZA()()(),a.TgZ(34,"div",15)(35,"div",16),a._UZ(36,"i",22),a.qZA(),a.TgZ(37,"div",18)(38,"h3",19),a._uU(39),a.qZA(),a.TgZ(40,"p",20),a._uU(41,"Named Visitors"),a.qZA()()(),a.TgZ(42,"div",15)(43,"div",16),a._UZ(44,"i",23),a.qZA(),a.TgZ(45,"div",18)(46,"h3",19),a._uU(47),a.qZA(),a.TgZ(48,"p",20),a._uU(49,"Today's Visits"),a.qZA()()(),a.TgZ(50,"div",15)(51,"div",16),a._UZ(52,"i",24),a.qZA(),a.TgZ(53,"div",18)(54,"h3",19),a._uU(55),a.qZA(),a.TgZ(56,"p",20),a._uU(57,"Unique Visitors"),a.qZA()()()(),a.TgZ(58,"div",25)(59,"div",6)(60,"h2",7),a._uU(61,"Recent Visitors"),a.qZA(),a.TgZ(62,"div",26),a.YNc(63,J3,4,0,"div",27),a.YNc(64,tB,4,3,"button",28),a.ALo(65,"async"),a.qZA()(),a.YNc(66,nB,4,1,"div",29),a.YNc(67,hB,5,6,"div",30),a.qZA()(),a.YNc(68,TB,14,1,"div",31),a.YNc(69,SB,38,4,"div",31),a.YNc(70,AB,38,3,"div",31),a.qZA()),2&i){let u;a.xp6(12),a.Q6J("ngIf",!l.editingCredentials),a.xp6(1),a.Q6J("ngIf",l.editingCredentials),a.xp6(2),a.Q6J("ngIf",!l.editingCredentials),a.xp6(1),a.Q6J("ngIf",l.editingCredentials),a.xp6(7),a.Oqu(l.visitorStats.totalVisitors),a.xp6(8),a.Oqu(l.visitorStats.anonymousVisitors),a.xp6(8),a.Oqu(l.visitorStats.namedVisitors),a.xp6(8),a.Oqu(l.visitorStats.todayVisitors),a.xp6(8),a.Oqu(l.visitorStats.uniqueVisitors),a.xp6(8),a.Q6J("ngIf",l.loading),a.xp6(1),a.Q6J("ngIf",!l.loading&&((null==(u=a.lcZ(65,16,l.visitors$))?null:u.length)||0)>0),a.xp6(2),a.Q6J("ngIf",l.error),a.xp6(1),a.Q6J("ngIf",!l.loading&&!l.error),a.xp6(1),a.Q6J("ngIf",l.selectedVisitor),a.xp6(1),a.Q6J("ngIf",l.showDeleteAllModal),a.xp6(1),a.Q6J("ngIf",l.showDeleteVisitorModal)}},dependencies:[Vr,Ar,vm,ec,nm,rm,Eu,op,Xd,wm,_r],styles:[".admin-container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto;min-height:calc(100vh - 80px);animation:_ngcontent-%COMP%_fadeInUp .8s ease-out}.admin-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem;animation:_ngcontent-%COMP%_slideInFromTop .8s ease-out}.admin-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:800;font-family:Poppins,sans-serif;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.5rem}.admin-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--text-secondary);font-weight:500}.admin-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem}.credentials-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .1s both}.credentials-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.credentials-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--text-primary);font-family:Poppins,sans-serif;display:flex;align-items:center;gap:.75rem}.credentials-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.5rem}.edit-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:var(--radius-lg);font-weight:600;cursor:pointer;transition:all var(--transition-normal);display:flex;align-items:center;gap:.5rem;font-size:.9rem}.edit-btn[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:var(--shadow-md)}.edit-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}.save-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf50,#45a049);color:#fff;box-shadow:var(--shadow-md)}.save-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-lg)}.save-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.cancel-btn[_ngcontent-%COMP%]{background:var(--card-bg);color:var(--text-secondary);border:1px solid var(--border-color)}.cancel-btn[_ngcontent-%COMP%]:hover{background:var(--border-color);color:var(--text-primary)}.edit-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.credentials-card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:var(--radius-2xl);padding:2rem;box-shadow:var(--shadow-lg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-color);transition:all var(--transition-normal)}.credentials-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);box-shadow:var(--shadow-xl)}.credentials-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.credential-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:var(--bg-secondary);border-radius:var(--radius-lg);border:1px solid var(--border-color)}.credential-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-secondary);font-size:.8rem;text-transform:uppercase;letter-spacing:.5px}.credential-value[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);font-family:Poppins,sans-serif;font-size:.95rem}.credentials-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.credentials-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.credentials-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);font-size:.9rem}.credentials-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1rem;border:2px solid var(--border-color);border-radius:var(--radius-lg);background:var(--bg-secondary);color:var(--text-primary);font-size:1rem;transition:all var(--transition-normal)}.credentials-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(var(--primary-color-rgb),.1)}.credentials-form[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#f44336;box-shadow:0 0 0 3px #f443361a}.credentials-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#f44336;font-size:.8rem;font-weight:500;margin-top:.25rem}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.stats-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:2rem;animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .2s both}.stat-card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:var(--radius-2xl);padding:2rem;box-shadow:var(--shadow-lg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-color);display:flex;align-items:center;gap:1.5rem;transition:all var(--transition-normal)}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:var(--shadow-xl);border-color:var(--primary-color)}.stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;background:var(--gradient-primary);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff;box-shadow:var(--shadow-md)}.stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;color:var(--text-primary);margin-bottom:.25rem;font-family:Poppins,sans-serif}.stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-secondary);font-weight:600;margin:0}.messages-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .4s both}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.section-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--text-primary);font-family:Poppins,sans-serif}.section-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.delete-all-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:var(--radius-lg);font-weight:600;cursor:pointer;transition:all var(--transition-normal);display:flex;align-items:center;gap:.5rem;font-size:.9rem;background:linear-gradient(135deg,#f44336,#d32f2f);color:#fff;box-shadow:var(--shadow-md)}.delete-all-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-lg);background:linear-gradient(135deg,#d32f2f,#b71c1c)}.delete-all-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.delete-all-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--text-secondary);font-weight:500}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.error-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f44336,#d32f2f);color:#fff;padding:1rem 1.5rem;border-radius:var(--radius-lg);display:flex;align-items:center;gap:.75rem;margin-bottom:2rem;box-shadow:var(--shadow-md)}.error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.messages-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:1.5rem}.message-card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:var(--radius-xl);padding:1.5rem;box-shadow:var(--shadow-md);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-color);transition:all var(--transition-normal);cursor:pointer}.message-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:var(--shadow-lg);border-color:var(--primary-color)}.message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.message-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:var(--text-primary);margin-bottom:.25rem;font-family:Poppins,sans-serif}.message-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0}.message-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-btn[_ngcontent-%COMP%]{width:36px;height:36px;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition-normal);font-size:.9rem}.view-btn[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.view-btn[_ngcontent-%COMP%]:hover{background:var(--primary-dark);transform:scale(1.1)}.delete-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff}.delete-btn[_ngcontent-%COMP%]:hover{background:#d32f2f;transform:scale(1.1)}.message-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--text-primary);margin-bottom:.5rem}.message-preview[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);line-height:1.5;margin-bottom:1rem}.message-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.message-date[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);display:flex;align-items:center;gap:.5rem}.no-messages[_ngcontent-%COMP%]{grid-column:1/-1;text-align:center;padding:4rem 2rem;color:var(--text-secondary)}.no-messages[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.no-messages[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:var(--text-primary)}.no-messages[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:1000;padding:2rem;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-content[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:var(--radius-2xl);max-width:600px;width:100%;max-height:80vh;overflow-y:auto;box-shadow:var(--shadow-xl);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-color);animation:_ngcontent-%COMP%_slideInUp .3s ease-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:2rem 2rem 1rem;border-bottom:1px solid var(--border-color)}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--text-primary);font-family:Poppins,sans-serif;margin:0}.close-btn[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:50%;background:var(--bg-secondary);color:var(--text-secondary);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--transition-normal)}.close-btn[_ngcontent-%COMP%]:hover{background:var(--primary-color);color:#fff}.modal-body[_ngcontent-%COMP%]{padding:2rem}.detail-row[_ngcontent-%COMP%]{display:flex;margin-bottom:1.5rem;gap:1rem}.detail-row.full-width[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.detail-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);min-width:80px}.detail-value[_ngcontent-%COMP%]{flex:1;color:var(--text-secondary)}.detail-value[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary);display:block;margin-bottom:.25rem}.detail-value[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:.9rem;color:var(--primary-color)}.message-text[_ngcontent-%COMP%]{background:var(--bg-secondary);padding:1rem;border-radius:var(--radius-lg);line-height:1.6;white-space:pre-wrap}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1rem 2rem 2rem;border-top:1px solid var(--border-color)}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:var(--radius-lg);font-weight:600;cursor:pointer;transition:all var(--transition-normal);display:flex;align-items:center;gap:.5rem}.btn-secondary[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--text-primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--border-color)}.btn-danger[_ngcontent-%COMP%]{background:#f44336;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#d32f2f;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInFromTop{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.admin-container[_ngcontent-%COMP%]{padding:1rem}.admin-title[_ngcontent-%COMP%]{font-size:2rem}.stats-section[_ngcontent-%COMP%], .messages-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-content[_ngcontent-%COMP%]{margin:1rem;max-height:90vh}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:1rem}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.section-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.delete-all-btn[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:.85rem}}.visitors-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .4s both}.visitors-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:1.5rem}.visitor-card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:var(--radius-xl);padding:1.5rem;box-shadow:var(--shadow-md);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-color);transition:all var(--transition-normal);cursor:pointer}.visitor-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:var(--shadow-lg);border-color:var(--primary-color)}.visitor-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.visitor-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:var(--text-primary);margin-bottom:.25rem;font-family:Poppins,sans-serif}.visitor-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0}.visitor-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.visitor-content[_ngcontent-%COMP%]{margin-bottom:1rem}.visitor-details[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.device-info[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);display:flex;align-items:center;gap:.5rem;background:var(--bg-secondary);padding:.25rem .75rem;border-radius:var(--radius-md)}.visitor-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.visitor-date[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);display:flex;align-items:center;gap:.5rem}.no-visitors[_ngcontent-%COMP%]{grid-column:1/-1;text-align:center;padding:4rem 2rem;color:var(--text-secondary)}.no-visitors[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.no-visitors[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:var(--text-primary)}.no-visitors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0}.user-agent-text[_ngcontent-%COMP%]{background:var(--bg-secondary);padding:1rem;border-radius:var(--radius-lg);line-height:1.6;white-space:pre-wrap;font-size:.8rem;max-height:200px;overflow-y:auto}.delete-all-modal[_ngcontent-%COMP%]{max-width:500px}.warning-message[_ngcontent-%COMP%]{text-align:center;padding:1rem 0}.warning-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#f44336;margin-bottom:1rem;display:block}.warning-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#f44336;margin-bottom:1rem;font-family:Poppins,sans-serif}.warning-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-primary);margin-bottom:1rem;line-height:1.5}.warning-message[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:left;margin:1rem 0;padding-left:1.5rem}.warning-message[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin-bottom:.5rem;line-height:1.4}.warning-message[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f44336;font-weight:700}.anonymous-visitor[_ngcontent-%COMP%]{color:var(--text-secondary);font-style:italic}.anonymous-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;background:linear-gradient(135deg,#ff6b6b 0%,#ff8e8e 100%);color:#fff;padding:.25rem .5rem;border-radius:var(--radius-sm);font-size:.7rem;font-weight:600;margin-left:.5rem}.visit-count[_ngcontent-%COMP%]{font-size:.8rem;color:var(--primary-color);display:flex;align-items:center;gap:.5rem;background:var(--bg-secondary);padding:.25rem .75rem;border-radius:var(--radius-md);font-weight:600}.device-type[_ngcontent-%COMP%]{font-size:.8rem;color:var(--accent-color);display:flex;align-items:center;gap:.5rem;background:var(--bg-secondary);padding:.25rem .75rem;border-radius:var(--radius-md)}.anonymous-text[_ngcontent-%COMP%]{color:var(--text-secondary);font-style:italic}"]}),n})(),PB=(()=>{const e=class{constructor(r,i){this.authService=r,this.router=i}canActivate(){const r=this.authService.getCurrentUser();return!(!r||"admin"!==r.role)||(this.router.navigate(["/about"],{queryParams:{denied:"1"}}),!1)}};let n=e;return e.\u0275fac=function(i){return new(i||e)(a.LFG(Sb),a.LFG(xo))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function OB(n,e){1&n&&(a.TgZ(0,"h1"),a._uU(1,"404"),a.qZA())}function kB(n,e){1&n&&(a.TgZ(0,"h1"),a._uU(1,"Access Denied"),a.qZA())}const NB=[{path:"",redirectTo:"about",pathMatch:"full"},{path:"about",component:o3},{path:"skills",component:w3},{path:"projects",component:D3},{path:"contact",component:V3},{path:"admin",component:MB,canActivate:[PB]},{path:"**",component:(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-not-found"]],inputs:{message:"message"},decls:7,vars:3,consts:[[1,"not-found-container"],[4,"ngIf"],["routerLink","/about",1,"back-link"]],template:function(i,l){1&i&&(a.TgZ(0,"div",0),a.YNc(1,OB,2,0,"h1",1),a.YNc(2,kB,2,0,"h1",1),a.TgZ(3,"p"),a._uU(4),a.qZA(),a.TgZ(5,"a",2),a._uU(6,"Go to Home"),a.qZA()()),2&i&&(a.xp6(1),a.Q6J("ngIf",!l.message),a.xp6(1),a.Q6J("ngIf",l.message),a.xp6(2),a.Oqu(l.message||"Page Not Found"))},dependencies:[Ar,Tb],styles:[".not-found-container[_ngcontent-%COMP%]{text-align:center;padding:4rem 1rem;color:#a259ff}.not-found-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;margin-bottom:1rem;font-weight:900}.not-found-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:2rem}.back-link[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(90deg,#e0c3fc 0%,#fcb7e7 100%);padding:.7rem 2rem;border-radius:2rem;text-decoration:none;font-weight:700;font-size:1.1rem;box-shadow:0 2px 8px #8c52ff21;transition:background .2s,color .2s}.back-link[_ngcontent-%COMP%]:hover{background:#a259ff;color:#fff}"]}),n})()}],RB={scrollPositionRestoration:"enabled",anchorScrolling:"enabled"};let FB=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[tN.forRoot(NB,RB),tN]}),n})();function LB(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.closeModal())}),a._uU(1,"\xd7"),a.qZA()}}function UB(n,e){if(1&n){const t=a.EpF();a.ynx(0),a.TgZ(1,"h2",10),a._uU(2,"\u{1f389} Welcome to My Portfolio!"),a.qZA(),a.TgZ(3,"p",11),a._uU(4,"I'm excited to have you here! How would you like to explore my portfolio?"),a.qZA(),a.TgZ(5,"div",12)(6,"button",13),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.onAnonymousBrowse())}),a.TgZ(7,"div",14),a._UZ(8,"i",15),a.qZA(),a.TgZ(9,"div",16)(10,"h3"),a._uU(11,"Browse Anonymously"),a.qZA(),a.TgZ(12,"p"),a._uU(13,"Explore freely without sharing personal information"),a.qZA()()(),a.TgZ(14,"button",17),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.onProvideInfo())}),a.TgZ(15,"div",14),a._UZ(16,"i",18),a.qZA(),a.TgZ(17,"div",16)(18,"h3"),a._uU(19,"Share Your Info"),a.qZA(),a.TgZ(20,"p"),a._uU(21,"Get a personalized experience and stay connected"),a.qZA()()(),a.TgZ(22,"button",19),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.onSkip())}),a.TgZ(23,"span"),a._uU(24,"Skip for now"),a.qZA()()(),a.BQk()}if(2&n){const t=a.oxw();a.xp6(6),a.Q6J("disabled",t.isSaving),a.xp6(8),a.Q6J("disabled",t.isSaving),a.xp6(8),a.Q6J("disabled",t.isSaving)}}function VB(n,e){1&n&&(a.TgZ(0,"div",31),a._uU(1,"Name is required."),a.qZA())}function BB(n,e){1&n&&(a.TgZ(0,"div",31),a._uU(1," Contact number must be exactly 10 digits and only numbers are allowed. "),a.qZA())}function jB(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Let's Go \u{1f680}"),a.qZA())}function HB(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Processing..."),a.qZA())}function $B(n,e){if(1&n){const t=a.EpF();a.ynx(0),a.TgZ(1,"h2",10),a._uU(2,"\u{1f4dd} Tell Me About Yourself"),a.qZA(),a.TgZ(3,"p",11),a._uU(4,"Share your details for a personalized experience (optional but appreciated!)"),a.qZA(),a.TgZ(5,"form",20),a.NdJ("ngSubmit",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.onSubmit())}),a.TgZ(6,"div",21)(7,"label",22),a._uU(8,"Name"),a.qZA(),a._UZ(9,"input",23),a.YNc(10,VB,2,0,"div",24),a.qZA(),a.TgZ(11,"div",21)(12,"label",25),a._uU(13,"Contact Number"),a.qZA(),a.TgZ(14,"input",26),a.NdJ("input",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.onContactInput(i))}),a.qZA(),a.YNc(15,BB,2,0,"div",24),a.qZA(),a.TgZ(16,"div",27)(17,"button",28),a.YNc(18,jB,2,0,"span",8),a.YNc(19,HB,2,0,"span",8),a.qZA(),a.TgZ(20,"button",29),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return i.showOptions=!0,a.KtG(i.showForm=!1)}),a._UZ(21,"i",30),a._uU(22," Back to Options "),a.qZA()()(),a.BQk()}if(2&n){const t=a.oxw();let r,i,l,u;a.xp6(5),a.Q6J("formGroup",t.welcomeForm),a.xp6(4),a.ekj("error",t.submitted&&(null==(r=t.welcomeForm.get("name"))?null:r.invalid)),a.xp6(1),a.Q6J("ngIf",t.submitted&&(null==(i=t.welcomeForm.get("name"))?null:i.invalid)),a.xp6(4),a.ekj("error",t.submitted&&(null==(l=t.welcomeForm.get("contact"))?null:l.invalid)),a.xp6(1),a.Q6J("ngIf",t.submitted&&(null==(u=t.welcomeForm.get("contact"))?null:u.invalid)),a.xp6(2),a.Q6J("disabled",t.isSaving),a.xp6(1),a.Q6J("ngIf",!t.isSaving),a.xp6(1),a.Q6J("ngIf",t.isSaving)}}function ZB(n,e){if(1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.hij("Welcome back, ",t.userName,"! \u{1f451}")}}function zB(n,e){if(1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.hij("Thank you, ",t.userName,"! \u{1f389}")}}function qB(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Welcome, Guest! \u{1f389}"),a.qZA())}function GB(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Admin access granted! You can now access the admin dashboard to view visitor analytics."),a.qZA())}function WB(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"We're thrilled to have you here. Enjoy exploring the portfolio and feel free to reach out if you have any questions or feedback!"),a.qZA())}function KB(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Feel free to explore my portfolio! You can always share your information later through the contact form if you'd like to connect."),a.qZA())}function YB(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"h2",10),a.YNc(2,ZB,2,1,"span",8),a.YNc(3,zB,2,1,"span",8),a.YNc(4,qB,2,0,"span",8),a.qZA(),a.TgZ(5,"p",11),a.YNc(6,GB,2,0,"span",8),a.YNc(7,WB,2,0,"span",8),a.YNc(8,KB,2,0,"span",8),a.qZA(),a.BQk()),2&n){const t=a.oxw();a.xp6(2),a.Q6J("ngIf",t.isAdmin),a.xp6(1),a.Q6J("ngIf",!t.isAdmin&&"Guest"!==t.userName),a.xp6(1),a.Q6J("ngIf",!t.isAdmin&&"Guest"===t.userName),a.xp6(2),a.Q6J("ngIf",t.isAdmin),a.xp6(1),a.Q6J("ngIf",!t.isAdmin&&"Guest"!==t.userName),a.xp6(1),a.Q6J("ngIf",!t.isAdmin&&"Guest"===t.userName)}}const QB=function(n){return{thanks:n}};let JB=(()=>{const e=class{constructor(r,i,l,u){this.fb=r,this.renderer=i,this.el=l,this.authService=u,this.submitInfo=new a.vpe,this.close=new a.vpe,this.submitted=!1,this.showThanks=!1,this.userName="",this.isSaving=!1,this.isAdmin=!1,this.showForm=!1,this.showOptions=!0,this.welcomeForm=this.fb.group({name:["",la.required],contact:["",[la.required,la.pattern("^[0-9]{10}$")]]})}ngOnInit(){this.renderer.addClass(document.body,"modal-open")}ngOnDestroy(){this.renderer.removeClass(document.body,"modal-open")}onBackdropClick(r){r.target===r.currentTarget&&this.closeModal()}closeModal(){this.close.emit()}onAnonymousBrowse(){var r=this;return(0,ae.Z)(function*(){r.isSaving=!0;try{yield r.authService.initializeAnonymousVisitor(),r.userName="Guest",r.isAdmin=!1,r.showThanks=!0,localStorage.setItem("visitedPortfolio","true")}catch(i){console.error("Error in anonymous browsing:",i),r.userName="Guest",r.showThanks=!0,localStorage.setItem("visitedPortfolio","true")}finally{r.isSaving=!1}})()}onProvideInfo(){this.showOptions=!1,this.showForm=!0}onSkip(){this.onAnonymousBrowse()}onSubmit(){var r=this;return(0,ae.Z)(function*(){if(r.submitted=!0,r.welcomeForm.valid){r.isSaving=!0;try{const i=r.welcomeForm.value,l=yield r.authService.authenticateUser(i.name,i.contact);l.success?(r.userName=i.name,r.isAdmin=l.isAdmin,r.submitInfo.emit({name:i.name,contact:i.contact}),r.showThanks=!0,localStorage.setItem("visitedPortfolio","true")):(r.userName=i.name,r.showThanks=!0,localStorage.setItem("visitedPortfolio","true"))}catch(i){console.error("Error in welcome modal:",i),r.userName=r.welcomeForm.value.name,r.showThanks=!0,localStorage.setItem("visitedPortfolio","true")}finally{r.isSaving=!1}}})()}onContactInput(r){const i=r.target;i.value=i.value.replace(/[^0-9]/g,""),this.welcomeForm.get("contact")?.setValue(i.value,{emitEvent:!1})}};let n=e;return e.\u0275fac=function(i){return new(i||e)(a.Y36(jw),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Sb))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-welcome-modal"]],outputs:{submitInfo:"submitInfo",close:"close"},decls:11,vars:7,consts:[[1,"welcome-modal-backdrop",3,"click"],[1,"sparkle-container"],[1,"confetti-container"],[1,"welcome-modal","glass",3,"ngClass","click"],["class","modal-close-btn","aria-label","Close",3,"click",4,"ngIf"],[1,"floating-shape","shape1"],[1,"floating-shape","shape2"],[1,"floating-shape","shape3"],[4,"ngIf"],["aria-label","Close",1,"modal-close-btn",3,"click"],[1,"modal-title","gradient-text"],[1,"modal-message","body-content"],[1,"welcome-options"],[1,"option-btn","primary-option",3,"disabled","click"],[1,"option-icon"],[1,"fas","fa-eye"],[1,"option-content"],[1,"option-btn","secondary-option",3,"disabled","click"],[1,"fas","fa-user-plus"],[1,"option-btn","skip-option",3,"disabled","click"],[1,"welcome-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Enter your name"],["class","error-message",4,"ngIf"],["for","contact"],["id","contact","type","text","formControlName","contact","maxlength","10","pattern","[0-9]*","inputmode","numeric","placeholder","Enter your 10-digit number",3,"input"],[1,"form-actions"],["type","submit",1,"submit-btn","gradient-bg",3,"disabled"],["type","button",1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"error-message"]],template:function(i,l){1&i&&(a.TgZ(0,"div",0),a.NdJ("click",function(p){return l.onBackdropClick(p)}),a._UZ(1,"div",1)(2,"div",2),a.TgZ(3,"div",3),a.NdJ("click",function(p){return p.stopPropagation()}),a.YNc(4,LB,2,0,"button",4),a._UZ(5,"div",5)(6,"div",6)(7,"div",7),a.YNc(8,UB,25,3,"ng-container",8),a.YNc(9,$B,23,10,"ng-container",8),a.YNc(10,YB,9,6,"ng-container",8),a.qZA()()),2&i&&(a.xp6(3),a.Q6J("ngClass",a.VKq(5,QB,l.showThanks)),a.xp6(1),a.Q6J("ngIf",l.showThanks),a.xp6(4),a.Q6J("ngIf",!l.showThanks&&l.showOptions),a.xp6(1),a.Q6J("ngIf",!l.showThanks&&l.showForm),a.xp6(1),a.Q6J("ngIf",l.showThanks))},dependencies:[Rt,Ar,vm,ec,nm,rm,Eu,op,Xd,wm],styles:['.welcome-modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(30,41,59,.45);z-index:2000;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .4s;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:5vh 0;min-height:100vh;width:100vw;overflow:auto}.welcome-modal[_ngcontent-%COMP%]{position:relative;z-index:1;background:linear-gradient(90deg,#ffb347 0%,#ff5e62 100%);border-radius:var(--radius-2xl);box-shadow:var(--shadow-xl);max-width:380px;width:100%;box-sizing:border-box;margin:0 auto;padding:2rem 1.2rem;overflow-y:auto;max-height:90vh;display:flex;flex-direction:column;justify-content:flex-start;animation:_ngcontent-%COMP%_scaleIn .5s;border:4px solid transparent;-webkit-backdrop-filter:none;backdrop-filter:none;overflow:hidden}.welcome-modal[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-4px;z-index:-1;border-radius:inherit;padding:0;background:linear-gradient(270deg,#ffb347,#ff5e62,#a18cd1,#fbc2eb,#ffb347);background-size:400% 400%;animation:_ngcontent-%COMP%_borderGradientMove 8s ease-in-out infinite}@keyframes _ngcontent-%COMP%_borderGradientMove{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.welcome-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%], .welcome-modal[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%], .welcome-modal[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .welcome-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .welcome-modal[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%], .welcome-modal[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#2d2340;font-weight:800}.welcome-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .welcome-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(255,255,255,.18);color:#232946;border:1.5px solid rgba(255,255,255,.2);font-weight:800}.welcome-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#7c7c98}.welcome-modal[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{background:rgba(255,255,255,.22);color:#fff;font-weight:900}.welcome-modal[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:rgba(255,255,255,.22);color:#232946;font-weight:900}.welcome-modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:900;margin-bottom:.6rem;text-align:center;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:#5f4b8b}.modal-message[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.1rem;color:var(--text-secondary);font-size:1rem}.welcome-form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:.7rem;padding-left:1.2rem;padding-right:1.2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.8rem 1rem;border-radius:var(--radius-lg);border:1.5px solid var(--border-color);background:var(--bg-secondary);color:var(--text-primary);font-size:1rem;transition:border-color .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);outline:none}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#f44336}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:.9rem}.submit-btn[_ngcontent-%COMP%]{margin-top:.3rem;padding:.7rem 1.2rem;border-radius:var(--radius-xl);background:var(--gradient-primary);color:#fff;font-weight:700;font-size:1rem;border:none;cursor:pointer;transition:background .2s,transform .1s;box-shadow:var(--shadow-md)}.submit-btn[_ngcontent-%COMP%]:hover{background:var(--gradient-secondary);transform:translateY(-2px) scale(1.03)}.close-btn[_ngcontent-%COMP%]{margin-top:2rem;padding:.8rem 1.5rem;border-radius:var(--radius-xl);background:var(--gradient-secondary);color:#fff;font-weight:700;font-size:1.1rem;border:none;cursor:pointer;transition:background .2s,transform .1s;box-shadow:var(--shadow-md)}.close-btn[_ngcontent-%COMP%]:hover{background:var(--gradient-primary);transform:translateY(-2px) scale(1.03)}@media (max-width: 480px){.welcome-modal[_ngcontent-%COMP%]{max-width:98vw;padding:1rem .3rem;max-height:98vh}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.sparkle-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:2100}.welcome-banner[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:.7rem;background:linear-gradient(90deg,#ffb347 0%,#ff5e62 100%);color:#fff;font-weight:700;font-size:1.08rem;border-radius:var(--radius-xl) var(--radius-xl) 0 0;padding:.7rem 1.2rem;margin-bottom:1.1rem;box-shadow:0 2px 12px #ff5e6221;justify-content:center;letter-spacing:.01em;animation:_ngcontent-%COMP%_bannerPop .7s}.banner-icon[_ngcontent-%COMP%]{font-size:1.3rem;filter:drop-shadow(0 0 6px rgba(255,255,255,.4666666667))}@keyframes _ngcontent-%COMP%_bannerPop{0%{transform:scale(.7);opacity:0}70%{transform:scale(1.08);opacity:1}to{transform:scale(1)}}.sparkle[_ngcontent-%COMP%]{position:absolute;width:18px;height:18px;pointer-events:none;animation:_ngcontent-%COMP%_sparkle-fade 1.2s linear forwards;background:linear-gradient(135deg,#ffb347 60%,#ff5e62 100%)!important;border-radius:50%;opacity:.85}@keyframes _ngcontent-%COMP%_sparkle-fade{0%{opacity:0;transform:scale(.5) rotate(0)}10%{opacity:1;transform:scale(1.2) rotate(20deg)}80%{opacity:1}to{opacity:0;transform:scale(.7) rotate(60deg)}}.floating-shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(18px);opacity:.25;z-index:0;pointer-events:none;animation:_ngcontent-%COMP%_floatShape 8s ease-in-out infinite alternate}.floating-shape.shape1[_ngcontent-%COMP%]{width:90px;height:90px;background:#fffbe6;top:10%;left:5%;animation-delay:0s}.floating-shape.shape2[_ngcontent-%COMP%]{width:60px;height:60px;background:#ffe082;bottom:12%;right:8%;animation-delay:2s}.floating-shape.shape3[_ngcontent-%COMP%]{width:70px;height:70px;background:#fbc2eb;top:60%;left:80%;animation-delay:4s}@keyframes _ngcontent-%COMP%_floatShape{0%{transform:translateY(0) scale(1)}to{transform:translateY(-18px) scale(1.08)}}.confetti-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:2200}.confetti[_ngcontent-%COMP%]{position:absolute;z-index:2222;will-change:transform,opacity;pointer-events:none;box-shadow:0 2px 8px #00000014}.modal-close-btn[_ngcontent-%COMP%]{position:absolute;top:16px;right:18px;z-index:10;background:transparent;border:none;font-size:2.1rem;font-weight:900;color:#232323;cursor:pointer;line-height:1;padding:0;transition:color .2s,transform .2s}.modal-close-btn[_ngcontent-%COMP%]:hover, .modal-close-btn[_ngcontent-%COMP%]:focus{color:#444;transform:scale(1.15);outline:none}.welcome-options[_ngcontent-%COMP%]{flex-direction:column;gap:2.2rem;margin:.7rem 0 0;width:100%}.option-btn[_ngcontent-%COMP%]{flex-shrink:0;min-width:0;width:100%;display:flex;align-items:center;gap:1rem;padding:1.5rem;border:2px solid transparent;border-radius:var(--radius-xl);background:var(--card-bg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);cursor:pointer;transition:all var(--transition-normal);text-align:left;position:relative;overflow:hidden}.option-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}.option-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.option-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.1) 0%,rgba(255,255,255,.05) 100%);opacity:0;transition:opacity var(--transition-normal)}.option-btn[_ngcontent-%COMP%]:hover:before{opacity:1}.primary-option[_ngcontent-%COMP%]{border-color:var(--primary-color);background:linear-gradient(135deg,rgba(140,82,255,.1) 0%,rgba(140,82,255,.05) 100%);margin-bottom:7px}.primary-option[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);background:linear-gradient(135deg,rgba(140,82,255,.15) 0%,rgba(140,82,255,.08) 100%)}.primary-option[_ngcontent-%COMP%]   .option-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#8c52ff 100%)}.secondary-option[_ngcontent-%COMP%]{border-color:var(--accent-color);background:linear-gradient(135deg,rgba(255,107,107,.1) 0%,rgba(255,107,107,.05) 100%)}.secondary-option[_ngcontent-%COMP%]:hover{border-color:var(--accent-color);background:linear-gradient(135deg,rgba(255,107,107,.15) 0%,rgba(255,107,107,.08) 100%)}.secondary-option[_ngcontent-%COMP%]   .option-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-color) 0%,#ff6b6b 100%)}.skip-option[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border-color);color:var(--text-secondary);font-size:.9rem;padding:.75rem 1rem;justify-content:center;margin-top:.5rem}.skip-option[_ngcontent-%COMP%]:hover{background:var(--bg-secondary);color:var(--text-primary)}.skip-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.option-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem;flex-shrink:0;box-shadow:var(--shadow-md)}.option-content[_ngcontent-%COMP%]{flex:1}.option-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-primary);margin:0 0 .25rem;font-family:Poppins,sans-serif}.option-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#444!important;opacity:.95;margin:0;line-height:1.4}.form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:1.5rem}.back-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;background:transparent;border:1px solid var(--border-color);border-radius:var(--radius-lg);color:var(--text-secondary);font-size:.9rem;font-weight:500;cursor:pointer;transition:all var(--transition-normal)}.back-btn[_ngcontent-%COMP%]:hover{background:var(--bg-secondary);color:var(--text-primary);border-color:var(--primary-color)}.back-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}']}),n})();function XB(n,e){1&n&&(a.TgZ(0,"a",48),a._UZ(1,"i",49),a.TgZ(2,"span",18),a._uU(3,"Dashboard"),a.qZA()())}function ej(n,e){if(1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&n){const t=a.oxw().ngIf;a.xp6(1),a.hij("Welcome ",t.name,"")}}function tj(n,e){if(1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&n){const t=a.oxw().ngIf;a.xp6(1),a.hij("Welcome ",t.name,"")}}function nj(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Welcome Guest"),a.qZA())}function rj(n,e){if(1&n){const t=a.EpF();a.ynx(0),a.TgZ(1,"span",50)(2,"span",51),a.YNc(3,ej,2,1,"span",27),a.YNc(4,tj,2,1,"span",27),a.YNc(5,nj,2,0,"span",27),a.qZA(),a.TgZ(6,"button",52),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.exitUser())}),a._UZ(7,"i",53),a.qZA()(),a.TgZ(8,"button",54),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.toggleTheme())}),a._UZ(9,"i",55),a.qZA(),a.BQk()}if(2&n){const t=e.ngIf,r=a.oxw();a.xp6(3),a.Q6J("ngIf","admin"===t.role),a.xp6(1),a.Q6J("ngIf","user"===t.role&&t.name),a.xp6(1),a.Q6J("ngIf","anonymous"===t.role),a.xp6(3),a.uIk("aria-label",r.isDarkMode?"Switch to light mode":"Switch to dark mode"),a.xp6(1),a.ekj("fa-sun",r.isDarkMode)("fa-moon",!r.isDarkMode)}}function ij(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"a",56),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.closeMobileMenu())}),a._UZ(1,"i",49),a._uU(2," Dashboard "),a.qZA()}}function oj(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",57),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.closeMobileMenu())}),a.qZA()}}function sj(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"footer",58)(1,"div",59)(2,"div",60)(3,"h3",61),a._uU(4,"Let's Connect!"),a.qZA(),a.TgZ(5,"p",62),a._uU(6,"Ready to bring your ideas to life? Let's create something amazing together."),a.qZA(),a.TgZ(7,"div",63)(8,"div",64)(9,"span",65),a._uU(10,"10+"),a.qZA(),a.TgZ(11,"span",66),a._uU(12,"Projects Completed"),a.qZA()(),a.TgZ(13,"div",64)(14,"span",65),a._uU(15,"4+"),a.qZA(),a.TgZ(16,"span",66),a._uU(17,"Years Experience"),a.qZA()()()(),a.TgZ(18,"div",60)(19,"h4",67),a._uU(20,"Quick Links"),a.qZA(),a.TgZ(21,"div",68)(22,"a",69),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.scrollToTop())}),a.TgZ(23,"span"),a._uU(24,"About Me"),a.qZA()(),a.TgZ(25,"a",70),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.scrollToTop())}),a.TgZ(26,"span"),a._uU(27,"My Work"),a.qZA()(),a.TgZ(28,"a",71),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.scrollToTop())}),a.TgZ(29,"span"),a._uU(30,"Get In Touch"),a.qZA()(),a.TgZ(31,"a",72),a.NdJ("click",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.downloadResume(i))}),a._UZ(32,"i",73),a.TgZ(33,"span"),a._uU(34,"Download Resume"),a.qZA()()()(),a.TgZ(35,"div",60)(36,"h4",67),a._uU(37,"Connect With Me"),a.qZA(),a.TgZ(38,"div",74)(39,"a",75),a._UZ(40,"i",76),a.qZA(),a.TgZ(41,"a",77),a._UZ(42,"i",78),a.qZA(),a.TgZ(43,"a",79),a._UZ(44,"i",80),a.qZA(),a.TgZ(45,"a",81),a._UZ(46,"i",82),a.qZA()()()(),a.TgZ(47,"div",83)(48,"div",84)(49,"p",62),a._uU(50,"Built with "),a._UZ(51,"i",85),a._uU(52," using Angular & lots of "),a._UZ(53,"i",86),a.qZA(),a.TgZ(54,"p",18),a._uU(55,"Rohit Agarwal \xa9 2025"),a.qZA()()()()}}function aj(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"app-welcome-modal",87),a.NdJ("submitInfo",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.onWelcomeSubmit(i))})("close",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.onWelcomeClose())}),a.qZA()}}let lj=(()=>{const e=class{constructor(r,i,l,u){this.configService=r,this.router=i,this.authService=l,this.route=u,this.title="portfolio",this.isMobile=!1,this.sidebarOpen=!1,this.isDarkMode=!1,this.isMobileMenuOpen=!1,this.showScrollToTop=!1,this.config=null,this.showBanner=!0,this.bannerMessage="",this.showWelcomeModal=!0,this.isAdminRoute=!1,this.currentUser$=this.authService.currentUser$}onResize(){this.checkMobile()}onWindowScroll(){this.showScrollToTop=window.scrollY>300}onWindowResize(){window.innerWidth>768&&this.isMobileMenuOpen&&(this.isMobileMenuOpen=!1)}ngOnInit(){this.checkMobile(),this.loadTheme(),this.loadConfig(),this.setupRouteDetection(),"true"!==localStorage.getItem("visitedPortfolio")?this.showWelcomeModal=!0:(this.showWelcomeModal=!1,this.initializeAnonymousTracking()),this.route.queryParams.subscribe(r=>{r.denied&&this.showAccessDeniedToast()})}setupRouteDetection(){this.router.events.pipe(Or(r=>r instanceof Xh)).subscribe(r=>{this.isAdminRoute=r.url.includes("/admin")})}loadConfig(){this.configService.getConfig().subscribe(r=>{r&&(this.config=r)})}checkMobile(){this.isMobile=window.innerWidth<=800,this.isMobile||(this.sidebarOpen=!1)}toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}closeSidebar(){this.isMobile&&(this.sidebarOpen=!1)}toggleTheme(){this.isDarkMode=!this.isDarkMode,this.applyTheme(),localStorage.setItem("theme",this.isDarkMode?"dark":"light")}loadTheme(){const r=localStorage.getItem("theme");this.isDarkMode="dark"===r||!r,this.applyTheme()}applyTheme(){document.documentElement.setAttribute("data-theme",this.isDarkMode?"dark":"light")}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen,this.isMobileMenuOpen?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")}closeMobileMenu(){this.isMobileMenuOpen=!1,document.body.classList.remove("no-scroll")}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}scrollToTopAndNavigate(r){this.scrollToTop(),setTimeout(()=>{},100)}prepareRoute(r){return r&&r.activatedRouteData&&r.activatedRouteData.animation}downloadResume(r){r.preventDefault();const l=this.configService.getCurrentConfig()?.portfolio?.resumePath||"assets/Rohit_Agarwal_ITT_Resume.pdf",u=l.split("/").pop()||"Resume.pdf",p=document.createElement("a");p.href=l,p.download=u,document.body.appendChild(p),p.click(),document.body.removeChild(p)}onBannerClosed(){this.showBanner=!1}onWelcomeClose(){this.showWelcomeModal=!1}onWelcomeSubmit(r){console.log("Welcome modal submitted:",r)}logout(){this.authService.logout(),this.router.navigate(["/"])}exitUser(){localStorage.removeItem("visitedPortfolio"),this.authService.logout(),this.showWelcomeModal=!0,this.router.navigate(["/about"])}showAccessDeniedToast(){const r=document.createElement("div");r.textContent="Access Denied: You are not authorized to view the dashboard.",r.style.position="fixed",r.style.bottom="2.5rem",r.style.right="2.5rem",r.style.background="linear-gradient(90deg, #fce4ec 0%, #fcb7e7 100%)",r.style.color="#d32f2f",r.style.fontWeight="700",r.style.padding="0.6rem 1.1rem 0.6rem 0.9rem",r.style.borderRadius="1.1rem",r.style.boxShadow="0 8px 32px rgba(244,67,54,0.13), 0 1.5px 8px 0 rgba(140, 82, 255, 0.10)",r.style.zIndex="9999",r.style.fontSize="0.97rem",r.style.letterSpacing="0.01em",r.style.display="flex",r.style.alignItems="center",r.style.gap="0.3rem",r.style.border="1.5px solid #f44336",r.style.backdropFilter="blur(6px)",r.style.transition="transform 0.35s cubic-bezier(.4,2,.6,1), opacity 0.25s",r.style.transform="translateY(60px)",r.style.opacity="0",r.style.maxWidth="320px",r.style.minWidth="180px",r.style.whiteSpace="pre-line",document.body.appendChild(r),setTimeout(()=>{r.style.transform="translateY(0)",r.style.opacity="1"},50),setTimeout(()=>{r.style.transform="translateY(60px)",r.style.opacity="0",setTimeout(()=>r.remove(),350)},4e3)}initializeAnonymousTracking(){var r=this;return(0,ae.Z)(function*(){try{r.authService.getCurrentUser()||(yield r.authService.initializeAnonymousVisitor())}catch(i){console.error("Error initializing anonymous tracking:",i)}})()}};let n=e;return e.\u0275fac=function(i){return new(i||e)(a.Y36(yA),a.Y36(xo),a.Y36(Sb),a.Y36(mg))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-root"]],hostBindings:function(i,l){1&i&&a.NdJ("resize",function(){return l.onWindowResize()},!1,a.Jf7)("scroll",function(){return l.onWindowScroll()},!1,a.Jf7)},decls:75,vars:19,consts:[[1,"app-container"],[1,"animated-background"],[1,"floating-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"shape","shape-5"],[1,"header","glass"],[1,"header-content"],[1,"header-actions","header-actions-left"],[1,"mobile-menu-toggle",3,"click"],[1,"logo"],[1,"logo-text","gradient-text","heading-main"],[1,"logo-subtitle","meta-label"],[1,"nav-desktop"],["routerLink","/about","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-user"],[1,"meta-label"],["routerLink","/skills","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-code"],["routerLink","/projects","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-project-diagram"],["routerLink","/contact","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-envelope"],["routerLink","/admin","routerLinkActive","active","class","nav-link admin-link",4,"ngIf"],[1,"header-actions","user-buttons-row"],[4,"ngIf"],[1,"mobile-menu"],[1,"sidebar-header"],[1,"avatar"],[1,"brand-info"],[1,"name"],[1,"tagline"],[1,"nav-mobile"],["routerLink","/about","routerLinkActive","active",3,"click"],["routerLink","/skills","routerLinkActive","active",3,"click"],["routerLink","/projects","routerLinkActive","active",3,"click"],["routerLink","/contact","routerLinkActive","active",3,"click"],["routerLink","/admin","routerLinkActive","active",3,"click",4,"ngIf"],[1,"sidebar-footer"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"main-content"],[1,"content-wrapper"],["class","footer glass",4,"ngIf"],[1,"scroll-to-top",3,"click"],[1,"fas","fa-arrow-up"],[3,"submitInfo","close",4,"ngIf"],["routerLink","/admin","routerLinkActive","active",1,"nav-link","admin-link"],[1,"fas","fa-chart-line"],[1,"welcome-pill"],[1,"welcome-user-text"],["title","Exit",1,"exit-icon-btn",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"theme-toggle",3,"click"],[1,"fas"],["routerLink","/admin","routerLinkActive","active",3,"click"],[1,"sidebar-overlay",3,"click"],[1,"footer","glass"],[1,"footer-content"],[1,"footer-section"],[1,"gradient-text","heading-main"],[1,"body-content"],[1,"footer-stats"],[1,"stat-item"],[1,"stat-number","heading-sub"],[1,"stat-label","meta-label"],[1,"heading-sub"],[1,"footer-links"],["routerLink","/about","routerLinkActive","router-link-active",1,"footer-link",3,"click"],["routerLink","/projects","routerLinkActive","router-link-active",1,"footer-link",3,"click"],["routerLink","/contact","routerLinkActive","router-link-active",1,"footer-link",3,"click"],["href","#",1,"footer-link","download-link",3,"click"],[1,"fas","fa-download"],[1,"social-links"],["href","http://linkedin.com/in/rohit-agarwal-a92795188","target","_blank","title","LinkedIn",1,"social-link"],[1,"fab","fa-linkedin"],["href","https://github.com/rohit-agarwal-ITT","target","_blank","title","GitHub",1,"social-link"],[1,"fab","fa-github"],["href","https://www.instagram.com/er_rohitagarwal10?igsh=MXBqNGdocGs5YzZiZQ%3D%3D&utm_source=qr","target","_blank","title","Instagram",1,"social-link"],[1,"fab","fa-instagram"],["href","https://x.com/rohitag1998?s=11","target","_blank","title","Twitter",1,"social-link"],[1,"fab","fa-twitter"],[1,"footer-bottom"],[1,"footer-bottom-content"],[1,"fas","fa-heart"],[1,"fas","fa-coffee"],[3,"submitInfo","close"]],template:function(i,l){if(1&i&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a._UZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),a.qZA()(),a.TgZ(8,"header",8)(9,"div",9)(10,"div",10)(11,"button",11),a.NdJ("click",function(){return l.toggleMobileMenu()}),a._UZ(12,"span")(13,"span")(14,"span"),a.qZA()(),a.TgZ(15,"div",12)(16,"h1",13),a._uU(17,"RA"),a.qZA(),a.TgZ(18,"span",14),a._uU(19,"Portfolio"),a.qZA()(),a.TgZ(20,"nav",15)(21,"a",16),a._UZ(22,"i",17),a.TgZ(23,"span",18),a._uU(24,"About"),a.qZA()(),a.TgZ(25,"a",19),a._UZ(26,"i",20),a.TgZ(27,"span",18),a._uU(28,"Skills"),a.qZA()(),a.TgZ(29,"a",21),a._UZ(30,"i",22),a.TgZ(31,"span",18),a._uU(32,"Projects"),a.qZA()(),a.TgZ(33,"a",23),a._UZ(34,"i",24),a.TgZ(35,"span",18),a._uU(36,"Contact"),a.qZA()(),a.YNc(37,XB,4,0,"a",25),a.ALo(38,"async"),a.qZA(),a.TgZ(39,"div",26),a.YNc(40,rj,10,8,"ng-container",27),a.ALo(41,"async"),a.qZA()()(),a.TgZ(42,"div",28)(43,"div",29)(44,"div",30),a._uU(45,"RA"),a.qZA(),a.TgZ(46,"div",31)(47,"span",32),a._uU(48,"Rohit Agarwal"),a.qZA(),a.TgZ(49,"span",33),a._uU(50,"Web Developer"),a.qZA()()(),a.TgZ(51,"nav",34)(52,"a",35),a.NdJ("click",function(){return l.closeMobileMenu()}),a._UZ(53,"i",17),a._uU(54," About "),a.qZA(),a.TgZ(55,"a",36),a.NdJ("click",function(){return l.closeMobileMenu()}),a._UZ(56,"i",20),a._uU(57," Skills "),a.qZA(),a.TgZ(58,"a",37),a.NdJ("click",function(){return l.closeMobileMenu()}),a._UZ(59,"i",22),a._uU(60," Projects "),a.qZA(),a.TgZ(61,"a",38),a.NdJ("click",function(){return l.closeMobileMenu()}),a._UZ(62,"i",24),a._uU(63," Contact "),a.qZA(),a.YNc(64,ij,3,0,"a",39),a.ALo(65,"async"),a.qZA(),a._UZ(66,"div",40),a.qZA(),a.YNc(67,oj,1,0,"div",41),a.TgZ(68,"main",42)(69,"div",43),a._UZ(70,"router-outlet"),a.qZA()(),a.YNc(71,sj,56,0,"footer",44),a.TgZ(72,"button",45),a.NdJ("click",function(){return l.scrollToTop()}),a._UZ(73,"i",46),a.qZA(),a.YNc(74,aj,1,0,"app-welcome-modal",47),a.qZA()),2&i){let u,p;a.uIk("data-theme",l.isDarkMode?"dark":"light"),a.xp6(11),a.ekj("active",l.isMobileMenuOpen),a.xp6(26),a.Q6J("ngIf","admin"===(null==(u=a.lcZ(38,13,l.currentUser$))?null:u.role)),a.xp6(3),a.Q6J("ngIf",a.lcZ(41,15,l.currentUser$)),a.xp6(2),a.ekj("open",l.isMobileMenuOpen),a.xp6(22),a.Q6J("ngIf","admin"===(null==(p=a.lcZ(65,17,l.currentUser$))?null:p.role)),a.xp6(3),a.Q6J("ngIf",l.isMobileMenuOpen),a.xp6(4),a.Q6J("ngIf",!l.isAdminRoute),a.xp6(1),a.ekj("visible",l.showScrollToTop),a.xp6(2),a.Q6J("ngIf",l.showWelcomeModal)}},dependencies:[Ar,iA,Tb,Gk,JB,_r],styles:['.app-container[_ngcontent-%COMP%]{min-height:100vh;position:relative;overflow-x:hidden}.animated-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;overflow:hidden}.floating-shapes[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:var(--gradient-primary);opacity:.1;animation:float 6s ease-in-out infinite}.shape-1[_ngcontent-%COMP%]{width:80px;height:80px;top:20%;left:10%;animation-delay:0s}.shape-2[_ngcontent-%COMP%]{width:120px;height:120px;top:60%;right:10%;background:var(--gradient-secondary);animation-delay:2s}.shape-3[_ngcontent-%COMP%]{width:60px;height:60px;top:80%;left:20%;background:var(--gradient-accent);animation-delay:4s}.shape-4[_ngcontent-%COMP%]{width:100px;height:100px;top:10%;right:30%;animation-delay:1s}.shape-5[_ngcontent-%COMP%]{width:40px;height:40px;top:40%;left:60%;background:var(--gradient-secondary);animation-delay:3s}.header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000;padding:1rem 0;transition:all var(--transition-normal)}.header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;align-items:center;justify-content:space-between;position:relative}.header-actions.header-actions-left[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:1.5rem}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-left:.5rem}.logo-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;font-family:Poppins,sans-serif;margin:0}.logo-subtitle[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);font-weight:500}.nav-desktop[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border-radius:var(--radius-lg);color:var(--text-secondary);font-weight:500;transition:all var(--transition-normal);position:relative;overflow:hidden}.nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:var(--gradient-primary);transition:left var(--transition-normal);z-index:-1}.nav-link[_ngcontent-%COMP%]:hover:before, .nav-link.active[_ngcontent-%COMP%]:before{left:0}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active[_ngcontent-%COMP%]{color:#fff;transform:translateY(-2px)}.nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.user-actions-vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.2rem}.user-buttons-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1.3rem;margin-top:0}.welcome-pill[_ngcontent-%COMP%]{margin-left:1.5rem;display:flex;align-items:center;background:linear-gradient(90deg,#e0c3fc 0%,#fcb7e7 100%);border-radius:1.5rem;padding:.18rem .9rem .18rem .7rem;box-shadow:0 2px 8px #8c52ff21;gap:.5rem;font-size:.98rem;font-weight:600;color:#5f259f;border:1.2px solid #b39ddb;min-height:2.1rem;height:2.1rem;line-height:1.1;white-space:nowrap}.welcome-user-text[_ngcontent-%COMP%]{font-size:.98rem;color:#5f259f;font-weight:600;background:none;border:none;padding:0;display:inline-flex;align-items:center;white-space:nowrap;max-width:8.5rem;overflow:hidden}.exit-icon-btn[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color, #a259ff);border:none;border-radius:50%;width:1.9rem;height:1.9rem;display:inline-flex;align-items:center;justify-content:center;font-size:1.1rem;cursor:pointer;margin-left:.1rem;transition:background .2s,color .2s,box-shadow .2s;box-shadow:none}.exit-icon-btn[_ngcontent-%COMP%]:hover{background:var(--primary-color, #a259ff);color:#fff;box-shadow:0 2px 8px #0000001a}.theme-toggle[_ngcontent-%COMP%]{width:2.1rem;height:2.1rem;min-width:2.1rem;min-height:2.1rem;font-size:1.08rem;display:flex;align-items:center;justify-content:center;background:#fff;border:none;border-radius:50%;box-shadow:0 2px 8px #8c52ff14;color:var(--primary-color, #a259ff);transition:background .18s,color .18s,box-shadow .18s;margin:0;padding:0;touch-action:manipulation;-webkit-tap-highlight-color:transparent;overflow:visible;position:relative}.theme-toggle[_ngcontent-%COMP%]:hover{background:#f3e6fa;color:#5f259f;box-shadow:0 4px 16px #8c52ff21}.logout-btn[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;background:var(--card-bg);border:2px solid var(--border-color);color:var(--text-primary);font-size:1.2rem;transition:all var(--transition-normal);display:flex;align-items:center;justify-content:center;cursor:pointer}.logout-btn[_ngcontent-%COMP%]:hover{background:#f44336;color:#fff;border-color:#f44336;transform:scale(1.1)}.nav-link.admin-link[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);font-weight:600;border-radius:1.2rem;padding:.7rem 1.5rem;transition:background .2s,color .2s,box-shadow .2s;box-shadow:none}.nav-link.admin-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#a18cd1 0%,#fcb7e7 100%);color:#fff;box-shadow:0 4px 16px #8c52ff2e,0 1.5px 8px #8c52ff1a}.mobile-menu-toggle[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;background:none;border:none;cursor:pointer;padding:.5rem;margin-right:.5rem}.mobile-menu-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25px;height:3px;background:var(--text-primary);border-radius:2px;transition:all var(--transition-normal)}.mobile-menu-toggle.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:rotate(45deg) translate(6px,6px)}.mobile-menu-toggle.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){opacity:0}.mobile-menu-toggle.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}.mobile-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:60vw;max-width:350px;height:100dvh;min-height:100dvh;max-height:100dvh;height:100vh;min-height:100vh;max-height:100vh;background:var(--card-bg, #fff);z-index:1200;transform:translate(-100%);transition:transform var(--transition-normal);display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;overflow-y:auto;-webkit-overflow-scrolling:touch;border-radius:0 1.5rem 1.5rem 0;box-shadow:2px 0 24px #1f268721;padding-bottom:2rem}.mobile-menu.open[_ngcontent-%COMP%]{transform:translate(0)}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100dvh;background:rgba(30,44,72,.35);z-index:1100;transition:background .2s;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}.sidebar-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:1rem;padding:2rem 1.5rem 1rem;background:transparent}.avatar[_ngcontent-%COMP%]{width:48px;height:48px;background:var(--primary-color, #0072ff);color:#fff;font-weight:800;font-size:1.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001a}.brand-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.brand-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700;color:var(--text-primary, #222c3a);font-size:1.1rem}.brand-info[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{color:var(--text-secondary, #7a8ca3);font-size:.9rem}.brand-info.single-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.7rem;white-space:nowrap}.brand-info.single-line[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700;color:var(--text-primary, #222c3a);font-size:1.1rem}.brand-info.single-line[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{color:var(--text-secondary, #7a8ca3);font-size:.95rem;font-weight:500}.close-btn[_ngcontent-%COMP%]{width:44px;height:44px;display:flex;align-items:center;justify-content:center;border:none;border-radius:50%;background:rgba(255,255,255,.18);box-shadow:0 2px 8px #5a6cff1a;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);cursor:pointer;transition:background .2s,transform .2s;margin-left:auto}.close-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color, #5a6cff);transition:color .2s,transform .2s}.close-btn[_ngcontent-%COMP%]:hover, .close-btn[_ngcontent-%COMP%]:focus{background:rgba(90,108,255,.15);transform:scale(1.08)}.close-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .close-btn[_ngcontent-%COMP%]:focus   i[_ngcontent-%COMP%]{color:#fff;transform:rotate(90deg) scale(1.15)}.close-btn[_ngcontent-%COMP%]:active{background:rgba(90,108,255,.25)}.close-btn[_ngcontent-%COMP%]:active   i[_ngcontent-%COMP%]{color:#fff;transform:rotate(180deg) scale(1.1)}.nav-mobile[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;text-align:left;width:100%;margin-top:1.5rem;margin-bottom:1.5rem;padding:0 1.5rem}.nav-mobile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.1rem 1.5rem;color:var(--text-primary, #222c3a);font-weight:600;border-radius:1.2rem;margin:.3rem 0;font-size:1.1rem;background:transparent;transition:background .2s,box-shadow .2s,color .2s;text-decoration:none;box-shadow:none}.nav-mobile[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav-mobile[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%], .nav-mobile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:var(--primary-color, #0072ff);color:#fff}.download-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00c6ff,#ff6a00);color:#fff!important;font-weight:700;margin:1.5rem 0 0;border-radius:1.5rem;padding:1.1rem 1.5rem;display:flex;align-items:center;gap:1rem;justify-content:center;box-shadow:0 2px 12px #ff6a0026;font-size:1.1rem;border:none;text-decoration:none;transition:background .2s,box-shadow .2s,transform .1s}.download-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#ff6a00,#00c6ff);color:#fff;transform:scale(1.04)}.sidebar-footer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;gap:1.2rem;margin:2rem 0 1rem}.social-icon[_ngcontent-%COMP%]{background:#f3f6fa;color:var(--primary-color, #0072ff);border-radius:50%;width:38px;height:38px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;transition:background .2s,color .2s;box-shadow:0 2px 8px #00000014;text-decoration:none}.social-icon[_ngcontent-%COMP%]:hover{background:var(--primary-color, #0072ff);color:#fff}.main-content[_ngcontent-%COMP%]{margin-top:80px;min-height:calc(100vh - 480px);display:flex;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]{padding:2rem;flex:1;display:flex;flex-direction:column}.footer[_ngcontent-%COMP%]{margin-top:auto;padding:.5rem 0 0;border-top:1px solid var(--border-color);position:relative;flex-shrink:0}.footer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--gradient-primary)}.footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;display:grid;grid-template-columns:2fr 1fr 1.5fr;gap:3.5rem;align-items:start}.footer-section[_ngcontent-%COMP%]{padding:2.5rem 2rem;margin:0;background:rgba(255,255,255,.04);border-radius:1.5rem;box-shadow:0 2px 16px #5a6cff14;transition:box-shadow .2s;position:relative}.footer-section[_ngcontent-%COMP%]:not(:last-child){margin-bottom:2rem}.footer-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;font-family:Poppins,sans-serif;margin-bottom:.75rem}.footer-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--text-primary);margin-bottom:.75rem;font-family:Poppins,sans-serif}.footer-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0 0 1.5rem;font-size:1.1rem;line-height:1.6}.footer-stats[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-top:2rem}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:1rem;background:var(--bg-secondary);border-radius:var(--radius-lg);border:2px solid var(--border-color);transition:all var(--transition-normal)}.stat-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);border-color:var(--primary-color);box-shadow:var(--shadow-lg)}.stat-number[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:800;color:var(--primary-color);font-family:Poppins,sans-serif}.stat-label[_ngcontent-%COMP%]{display:block;font-size:.9rem;color:var(--text-secondary);font-weight:500;margin-top:.5rem}.footer-links[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.footer-link[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:500;transition:all var(--transition-normal);padding:.75rem 1rem;border-radius:var(--radius-lg);position:relative;overflow:hidden;text-decoration:none;background:var(--bg-secondary);border:2px solid transparent;display:block}.footer-link[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:var(--gradient-primary);transition:left var(--transition-normal);z-index:0}.footer-link[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:0;width:0;height:3px;background:var(--gradient-secondary);transition:width var(--transition-normal);z-index:1}.footer-link[_ngcontent-%COMP%]:hover, .footer-link[_ngcontent-%COMP%]:active, .footer-link.router-link-active[_ngcontent-%COMP%]{color:#fff;border-color:var(--primary-color);box-shadow:var(--shadow-md)}.footer-link[_ngcontent-%COMP%]:hover:before, .footer-link[_ngcontent-%COMP%]:active:before, .footer-link.router-link-active[_ngcontent-%COMP%]:before{left:0}.footer-link[_ngcontent-%COMP%]:hover:after, .footer-link[_ngcontent-%COMP%]:active:after, .footer-link.router-link-active[_ngcontent-%COMP%]:after{width:100%}.footer-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:2;color:inherit}.footer-link[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .footer-link[_ngcontent-%COMP%]:active   span[_ngcontent-%COMP%], .footer-link.router-link-active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.social-links[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem}.social-link[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:var(--card-bg);border:2px solid var(--border-color);color:var(--text-primary);font-size:1.3rem;display:flex;align-items:center;justify-content:center;transition:all var(--transition-normal);position:relative;overflow:hidden}.social-link[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:var(--gradient-primary);transition:left var(--transition-normal);z-index:0}.social-link[_ngcontent-%COMP%]:hover:before{left:0}.social-link[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.1);border-color:var(--primary-color);box-shadow:var(--shadow-lg)}.social-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;z-index:1;transition:color var(--transition-normal)}.social-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.contact-info[_ngcontent-%COMP%]{margin-top:1rem}.contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem;font-size:1rem}.contact-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.1rem;width:20px}.footer-bottom[_ngcontent-%COMP%]{border-top:1px solid var(--border-color);padding:.5rem 0;background:var(--bg-secondary)}.footer-bottom-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;justify-content:center;align-items:center;flex-direction:column;flex-wrap:wrap;gap:.2rem;padding-right:0;margin-bottom:.5rem;text-align:center}.footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0;font-size:1rem}.footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ef4444;margin:0 .25rem;animation:pulse 2s infinite}.footer-bottom-links[_ngcontent-%COMP%]{display:flex;gap:2rem}.footer-bottom-link[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;transition:color var(--transition-normal)}.footer-bottom-link[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.scroll-to-top[_ngcontent-%COMP%]{position:fixed;bottom:3.5rem;right:2rem;width:50px;height:50px;border-radius:50%;background:var(--gradient-primary);color:#fff;border:none;font-size:1.2rem;cursor:pointer;opacity:0;visibility:hidden;transform:translateY(20px);transition:all var(--transition-normal);z-index:1000;box-shadow:var(--shadow-lg)}.scroll-to-top.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.scroll-to-top[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:var(--shadow-xl)}@media (max-width: 768px){.nav-desktop[_ngcontent-%COMP%]{display:none}.mobile-menu-toggle[_ngcontent-%COMP%]{display:flex}.header-content[_ngcontent-%COMP%]{padding:0 1rem}.content-wrapper[_ngcontent-%COMP%]{padding:1rem}.footer-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:2rem;text-align:center}.footer-stats[_ngcontent-%COMP%], .social-links[_ngcontent-%COMP%]{justify-content:center}.scroll-to-top[_ngcontent-%COMP%]{bottom:1.5rem;right:.6rem;width:45px;height:45px;font-size:1rem}.logo-text[_ngcontent-%COMP%]{font-size:1.5rem}.logo-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.theme-toggle[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;min-width:2.5rem;min-height:2.5rem;font-size:1.2rem;padding:.25rem}.user-buttons-row[_ngcontent-%COMP%]{gap:1rem}.welcome-pill[_ngcontent-%COMP%]{margin-left:1rem;padding:.2rem .8rem .2rem .6rem;font-size:.9rem;min-height:2.3rem;height:2.3rem}.welcome-user-text[_ngcontent-%COMP%]{font-size:.9rem;max-width:7rem}.exit-icon-btn[_ngcontent-%COMP%]{width:2.1rem;height:2.1rem;font-size:1.2rem}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]{padding:0 .5rem}.content-wrapper[_ngcontent-%COMP%]{padding:.5rem}.footer[_ngcontent-%COMP%]{padding:3rem 0 0}.footer-content[_ngcontent-%COMP%]{padding:0 1rem 2rem}.footer-bottom-content[_ngcontent-%COMP%]{padding:0 1rem}.footer-stats[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.stat-item[_ngcontent-%COMP%]{padding:.75rem}.stat-number[_ngcontent-%COMP%]{font-size:1.5rem}.social-links[_ngcontent-%COMP%]{gap:.75rem}.social-link[_ngcontent-%COMP%]{width:45px;height:45px;font-size:1.2rem}.theme-toggle[_ngcontent-%COMP%]{width:2.8rem;height:2.8rem;min-width:2.8rem;min-height:2.8rem;font-size:1.3rem;padding:.3rem}.user-buttons-row[_ngcontent-%COMP%]{gap:.8rem}.welcome-pill[_ngcontent-%COMP%]{margin-left:.8rem;padding:.15rem .7rem .15rem .5rem;font-size:.85rem;min-height:2.2rem;height:2.2rem}.welcome-user-text[_ngcontent-%COMP%]{font-size:.85rem;max-width:6.5rem}.exit-icon-btn[_ngcontent-%COMP%]{width:2rem;height:2rem;font-size:1.1rem}}@media screen and (max-width: 430px) and (max-height: 932px){.theme-toggle[_ngcontent-%COMP%]{width:3rem;height:3rem;min-width:3rem;min-height:3rem;font-size:1.4rem;padding:.35rem}.user-buttons-row[_ngcontent-%COMP%]{gap:.7rem}.welcome-pill[_ngcontent-%COMP%]{margin-left:.6rem;padding:.12rem .6rem .12rem .4rem;font-size:.8rem;min-height:2.1rem;height:2.1rem}.welcome-user-text[_ngcontent-%COMP%]{font-size:.8rem;max-width:6rem}.exit-icon-btn[_ngcontent-%COMP%]{width:1.9rem;height:1.9rem;font-size:1rem}}.theme-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;line-height:1}.nav-link[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.nav-link[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.nav-link[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.nav-link[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.nav-link[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.glass[_ngcontent-%COMP%]{backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px)}*[_ngcontent-%COMP%]{transition:color var(--transition-normal),background-color var(--transition-normal),border-color var(--transition-normal),box-shadow var(--transition-normal)}.footer-link.download-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;min-height:48px;padding:0 1.5rem;background:linear-gradient(90deg,#00c6ff,#0072ff);color:#fff;border:none;box-shadow:0 2px 12px #0072ff14;font-weight:700;transition:transform .2s,box-shadow .2s,background .2s;margin-top:.5rem;position:relative;overflow:hidden}.footer-link.download-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.footer-link.download-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.04);background:linear-gradient(90deg,#0072ff,#00c6ff);box-shadow:0 4px 20px #0072ff26;color:#fff}.footer-link.download-link[_ngcontent-%COMP%]:before, .footer-link.download-link[_ngcontent-%COMP%]:after{display:none!important}@media (min-width: 769px){.mobile-menu[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%]{display:none!important}.header-actions.header-actions-left[_ngcontent-%COMP%]{display:none}}.main-content[_ngcontent-%COMP%]{min-height:calc(100vh - 80px);overflow-y:auto}body.no-scroll[_ngcontent-%COMP%]{overflow:hidden!important;position:fixed;width:100vw}@media (max-width: 900px){.footer-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:2rem}.footer-section[_ngcontent-%COMP%]{padding:2rem 1rem;margin-bottom:1.5rem}}'],data:{animation:[ms("routeAnimations",[fi("* <=> *",[Nn({opacity:0,transform:"translateY(20px)"}),Uo("400ms cubic-bezier(.35,0,.25,1)",Nn({opacity:1,transform:"none"}))])]),ms("sidebarAnimation",[au("closed",Nn({transform:"translateX(-100%)"})),au("open",Nn({transform:"translateX(0)"})),fi("closed <=> open",[Uo("300ms cubic-bezier(.35,0,.25,1)")])]),ms("themeToggle",[fi("* <=> *",[Uo("300ms ease-in-out")])])]}}),n})(),cj=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=a.oAB({type:e,bootstrap:[lj]}),e.\u0275inj=a.cJS({imports:[Xs,FB,vu,tD,dD,ua.hO.initializeApp(A2_firebase),S2]}),n})();hd().bootstrapModule(cj).catch(n=>console.error(n))},9751:(yt,xe,N)=>{N.d(xe,{y:()=>fe});var a=N(2961),J=N(727),k=N(8822),re=N(9635),ie=N(2416),ne=N(576),me=N(2806);let fe=(()=>{class W{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const He=new W;return He.source=this,He.operator=Te,He}subscribe(Te,He,at){const ge=function H(W){return W&&W instanceof a.Lv||function $(W){return W&&(0,ne.m)(W.next)&&(0,ne.m)(W.error)&&(0,ne.m)(W.complete)}(W)&&(0,J.Nn)(W)}(Te)?Te:new a.Hp(Te,He,at);return(0,me.x)(()=>{const{operator:Se,source:De}=this;ge.add(Se?Se.call(ge,De):De?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Te){try{return this._subscribe(Te)}catch(He){Te.error(He)}}forEach(Te,He){return new(He=he(He))((at,ge)=>{const Se=new a.Hp({next:De=>{try{Te(De)}catch(Ue){ge(Ue),Se.unsubscribe()}},error:ge,complete:at});this.subscribe(Se)})}_subscribe(Te){var He;return null===(He=this.source)||void 0===He?void 0:He.subscribe(Te)}[k.L](){return this}pipe(...Te){return(0,re.U)(Te)(this)}toPromise(Te){return new(Te=he(Te))((He,at)=>{let ge;this.subscribe(Se=>ge=Se,Se=>at(Se),()=>He(ge))})}}return W.create=je=>new W(je),W})();function he(W){var je;return null!==(je=W??ie.v.Promise)&&void 0!==je?je:Promise}},7579:(yt,xe,N)=>{N.d(xe,{x:()=>me});var a=N(9751),J=N(727);const re=(0,N(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=N(8737),ne=N(2806);let me=(()=>{class he extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const W=new fe(this,this);return W.operator=H,W}_throwIfClosed(){if(this.closed)throw new re}next(H){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const W of this.currentObservers)W.next(H)}})}error(H){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:W}=this;for(;W.length;)W.shift().error(H)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:W,isStopped:je,observers:Te}=this;return W||je?J.Lc:(this.currentObservers=null,Te.push(H),new J.w0(()=>{this.currentObservers=null,(0,ie.P)(Te,H)}))}_checkFinalizedStatuses(H){const{hasError:W,thrownError:je,isStopped:Te}=this;W?H.error(je):Te&&H.complete()}asObservable(){const H=new a.y;return H.source=this,H}}return he.create=($,H)=>new fe($,H),he})();class fe extends me{constructor($,H){super(),this.destination=$,this.source=H}next($){var H,W;null===(W=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===W||W.call(H,$)}error($){var H,W;null===(W=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===W||W.call(H,$)}complete(){var $,H;null===(H=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===H||H.call($)}_subscribe($){var H,W;return null!==(W=null===(H=this.source)||void 0===H?void 0:H.subscribe($))&&void 0!==W?W:J.Lc}}},2961:(yt,xe,N)=>{N.d(xe,{Hp:()=>at,Lv:()=>W});var a=N(576),J=N(727),k=N(2416),re=N(7849);function ie(){}const ne=he("C",void 0,void 0);function he(Ie,we,Me){return{kind:Ie,value:we,error:Me}}var $=N(3410),H=N(2806);class W extends J.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,J.Nn)(we)&&we.add(this)):this.destination=Ue}static create(we,Me,Fe){return new at(we,Me,Fe)}next(we){this.isStopped?De(function fe(Ie){return he("N",Ie,void 0)}(we),this):this._next(we)}error(we){this.isStopped?De(function me(Ie){return he("E",void 0,Ie)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?De(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Te(Ie,we){return je.call(Ie,we)}class He{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Me}=this;if(Me.next)try{Me.next(we)}catch(Fe){ge(Fe)}}error(we){const{partialObserver:Me}=this;if(Me.error)try{Me.error(we)}catch(Fe){ge(Fe)}else ge(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Me){ge(Me)}}}class at extends W{constructor(we,Me,Fe){let Ne;if(super(),(0,a.m)(we)||!we)Ne={next:we??void 0,error:Me??void 0,complete:Fe??void 0};else{let V;this&&k.v.useDeprecatedNextContext?(V=Object.create(we),V.unsubscribe=()=>this.unsubscribe(),Ne={next:we.next&&Te(we.next,V),error:we.error&&Te(we.error,V),complete:we.complete&&Te(we.complete,V)}):Ne=we}this.destination=new He(Ne)}}function ge(Ie){k.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ie):(0,re.h)(Ie)}function De(Ie,we){const{onStoppedNotification:Me}=k.v;Me&&$.z.setTimeout(()=>Me(Ie,we))}const Ue={closed:!0,next:ie,error:function Se(Ie){throw Ie},complete:ie}},727:(yt,xe,N)=>{N.d(xe,{Lc:()=>ne,w0:()=>ie,Nn:()=>me});var a=N(576);const k=(0,N(3888).d)(he=>function(H){he(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((W,je)=>`${je+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var re=N(8737);class ie{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Te of H)Te.remove(this);else H.remove(this);const{initialTeardown:W}=this;if((0,a.m)(W))try{W()}catch(Te){$=Te instanceof k?Te.errors:[Te]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Te of je)try{fe(Te)}catch(He){$=$??[],He instanceof k?$=[...$,...He.errors]:$.push(He)}}if($)throw new k($)}}add($){var H;if($&&$!==this)if(this.closed)fe($);else{if($ instanceof ie){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push($)}}_hasParent($){const{_parentage:H}=this;return H===$||Array.isArray(H)&&H.includes($)}_addParent($){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push($),H):H?[H,$]:$}_removeParent($){const{_parentage:H}=this;H===$?this._parentage=null:Array.isArray(H)&&(0,re.P)(H,$)}remove($){const{_finalizers:H}=this;H&&(0,re.P)(H,$),$ instanceof ie&&$._removeParent(this)}}ie.EMPTY=(()=>{const he=new ie;return he.closed=!0,he})();const ne=ie.EMPTY;function me(he){return he instanceof ie||he&&"closed"in he&&(0,a.m)(he.remove)&&(0,a.m)(he.add)&&(0,a.m)(he.unsubscribe)}function fe(he){(0,a.m)(he)?he():he.unsubscribe()}},2416:(yt,xe,N)=>{N.d(xe,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,xe,N)=>{N.d(xe,{E:()=>J});const J=new(N(9751).y)(ie=>ie.complete())},8996:(yt,xe,N)=>{N.d(xe,{D:()=>we});var a=N(8421),J=N(5363),k=N(9468),ne=N(9751),fe=N(2202),he=N(576),$=N(9672);function W(Me,Fe){if(!Me)throw new Error("Iterable cannot be null");return new ne.y(Ne=>{(0,$.f)(Ne,Fe,()=>{const V=Me[Symbol.asyncIterator]();(0,$.f)(Ne,Fe,()=>{V.next().then(ve=>{ve.done?Ne.complete():Ne.next(ve.value)})},0,!0)})})}var je=N(3670),Te=N(8239),He=N(1144),at=N(6495),ge=N(2206),Se=N(4532),De=N(3260);function we(Me,Fe){return Fe?function Ie(Me,Fe){if(null!=Me){if((0,je.c)(Me))return function re(Me,Fe){return(0,a.Xf)(Me).pipe((0,k.R)(Fe),(0,J.Q)(Fe))}(Me,Fe);if((0,He.z)(Me))return function me(Me,Fe){return new ne.y(Ne=>{let V=0;return Fe.schedule(function(){V===Me.length?Ne.complete():(Ne.next(Me[V++]),Ne.closed||this.schedule())})})}(Me,Fe);if((0,Te.t)(Me))return function ie(Me,Fe){return(0,a.Xf)(Me).pipe((0,k.R)(Fe),(0,J.Q)(Fe))}(Me,Fe);if((0,ge.D)(Me))return W(Me,Fe);if((0,at.T)(Me))return function H(Me,Fe){return new ne.y(Ne=>{let V;return(0,$.f)(Ne,Fe,()=>{V=Me[fe.h](),(0,$.f)(Ne,Fe,()=>{let ve,Be;try{({value:ve,done:Be}=V.next())}catch(Ze){return void Ne.error(Ze)}Be?Ne.complete():Ne.next(ve)},0,!0)}),()=>(0,he.m)(V?.return)&&V.return()})}(Me,Fe);if((0,De.L)(Me))return function Ue(Me,Fe){return W((0,De.Q)(Me),Fe)}(Me,Fe)}throw(0,Se.z)(Me)}(Me,Fe):(0,a.Xf)(Me)}},8421:(yt,xe,N)=>{N.d(xe,{Xf:()=>je});var a=N(7582),J=N(1144),k=N(8239),re=N(9751),ie=N(3670),ne=N(2206),me=N(4532),fe=N(6495),he=N(3260),$=N(576),H=N(7849),W=N(8822);function je(Ie){if(Ie instanceof re.y)return Ie;if(null!=Ie){if((0,ie.c)(Ie))return function Te(Ie){return new re.y(we=>{const Me=Ie[W.L]();if((0,$.m)(Me.subscribe))return Me.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,J.z)(Ie))return function He(Ie){return new re.y(we=>{for(let Me=0;Me<Ie.length&&!we.closed;Me++)we.next(Ie[Me]);we.complete()})}(Ie);if((0,k.t)(Ie))return function at(Ie){return new re.y(we=>{Ie.then(Me=>{we.closed||(we.next(Me),we.complete())},Me=>we.error(Me)).then(null,H.h)})}(Ie);if((0,ne.D)(Ie))return Se(Ie);if((0,fe.T)(Ie))return function ge(Ie){return new re.y(we=>{for(const Me of Ie)if(we.next(Me),we.closed)return;we.complete()})}(Ie);if((0,he.L)(Ie))return function De(Ie){return Se((0,he.Q)(Ie))}(Ie)}throw(0,me.z)(Ie)}function Se(Ie){return new re.y(we=>{(function Ue(Ie,we){var Me,Fe,Ne,V;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Me=(0,a.KL)(Ie);!(Fe=yield Me.next()).done;)if(we.next(Fe.value),we.closed)return}catch(ve){Ne={error:ve}}finally{try{Fe&&!Fe.done&&(V=Me.return)&&(yield V.call(Me))}finally{if(Ne)throw Ne.error}}we.complete()})})(Ie,we).catch(Me=>we.error(Me))})}},6451:(yt,xe,N)=>{N.d(xe,{T:()=>ne});var a=N(8189),J=N(8421),k=N(515),re=N(7669),ie=N(8996);function ne(...me){const fe=(0,re.yG)(me),he=(0,re._6)(me,1/0),$=me;return $.length?1===$.length?(0,J.Xf)($[0]):(0,a.J)(he)((0,ie.D)($,fe)):k.E}},5403:(yt,xe,N)=>{N.d(xe,{x:()=>J});var a=N(2961);function J(re,ie,ne,me,fe){return new k(re,ie,ne,me,fe)}class k extends a.Lv{constructor(ie,ne,me,fe,he,$){super(ie),this.onFinalize=he,this.shouldUnsubscribe=$,this._next=ne?function(H){try{ne(H)}catch(W){ie.error(W)}}:super._next,this._error=fe?function(H){try{fe(H)}catch(W){ie.error(W)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(H){ie.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(yt,xe,N)=>{N.d(xe,{U:()=>k});var a=N(4482),J=N(5403);function k(re,ie){return(0,a.e)((ne,me)=>{let fe=0;ne.subscribe((0,J.x)(me,he=>{me.next(re.call(ie,he,fe++))}))})}},8189:(yt,xe,N)=>{N.d(xe,{J:()=>k});var a=N(5577),J=N(4671);function k(re=1/0){return(0,a.z)(J.y,re)}},5577:(yt,xe,N)=>{N.d(xe,{z:()=>fe});var a=N(4004),J=N(8421),k=N(4482),re=N(9672),ie=N(5403),me=N(576);function fe(he,$,H=1/0){return(0,me.m)($)?fe((W,je)=>(0,a.U)((Te,He)=>$(W,Te,je,He))((0,J.Xf)(he(W,je))),H):("number"==typeof $&&(H=$),(0,k.e)((W,je)=>function ne(he,$,H,W,je,Te,He,at){const ge=[];let Se=0,De=0,Ue=!1;const Ie=()=>{Ue&&!ge.length&&!Se&&$.complete()},we=Fe=>Se<W?Me(Fe):ge.push(Fe),Me=Fe=>{Te&&$.next(Fe),Se++;let Ne=!1;(0,J.Xf)(H(Fe,De++)).subscribe((0,ie.x)($,V=>{je?.(V),Te?we(V):$.next(V)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Se--;ge.length&&Se<W;){const V=ge.shift();He?(0,re.f)($,He,()=>Me(V)):Me(V)}Ie()}catch(V){$.error(V)}}))};return he.subscribe((0,ie.x)($,we,()=>{Ue=!0,Ie()})),()=>{at?.()}}(W,je,he,H)))}},5363:(yt,xe,N)=>{N.d(xe,{Q:()=>re});var a=N(9672),J=N(4482),k=N(5403);function re(ie,ne=0){return(0,J.e)((me,fe)=>{me.subscribe((0,k.x)(fe,he=>(0,a.f)(fe,ie,()=>fe.next(he),ne),()=>(0,a.f)(fe,ie,()=>fe.complete(),ne),he=>(0,a.f)(fe,ie,()=>fe.error(he),ne)))})}},3099:(yt,xe,N)=>{N.d(xe,{B:()=>ie});var a=N(8421),J=N(7579),k=N(2961),re=N(4482);function ie(me={}){const{connector:fe=(()=>new J.x),resetOnError:he=!0,resetOnComplete:$=!0,resetOnRefCountZero:H=!0}=me;return W=>{let je,Te,He,at=0,ge=!1,Se=!1;const De=()=>{Te?.unsubscribe(),Te=void 0},Ue=()=>{De(),je=He=void 0,ge=Se=!1},Ie=()=>{const we=je;Ue(),we?.unsubscribe()};return(0,re.e)((we,Me)=>{at++,!Se&&!ge&&De();const Fe=He=He??fe();Me.add(()=>{at--,0===at&&!Se&&!ge&&(Te=ne(Ie,H))}),Fe.subscribe(Me),!je&&at>0&&(je=new k.Hp({next:Ne=>Fe.next(Ne),error:Ne=>{Se=!0,De(),Te=ne(Ue,he,Ne),Fe.error(Ne)},complete:()=>{ge=!0,De(),Te=ne(Ue,$),Fe.complete()}}),(0,a.Xf)(we).subscribe(je))})(W)}}function ne(me,fe,...he){if(!0===fe)return void me();if(!1===fe)return;const $=new k.Hp({next:()=>{$.unsubscribe(),me()}});return(0,a.Xf)(fe(...he)).subscribe($)}},9468:(yt,xe,N)=>{N.d(xe,{R:()=>J});var a=N(4482);function J(k,re=0){return(0,a.e)((ie,ne)=>{ne.add(k.schedule(()=>ie.subscribe(ne),re))})}},8505:(yt,xe,N)=>{N.d(xe,{b:()=>ie});var a=N(576),J=N(4482),k=N(5403),re=N(4671);function ie(ne,me,fe){const he=(0,a.m)(ne)||me||fe?{next:ne,error:me,complete:fe}:ne;return he?(0,J.e)(($,H)=>{var W;null===(W=he.subscribe)||void 0===W||W.call(he);let je=!0;$.subscribe((0,k.x)(H,Te=>{var He;null===(He=he.next)||void 0===He||He.call(he,Te),H.next(Te)},()=>{var Te;je=!1,null===(Te=he.complete)||void 0===Te||Te.call(he),H.complete()},Te=>{var He;je=!1,null===(He=he.error)||void 0===He||He.call(he,Te),H.error(Te)},()=>{var Te,He;je&&(null===(Te=he.unsubscribe)||void 0===Te||Te.call(he)),null===(He=he.finalize)||void 0===He||He.call(he)}))}):re.y}},4408:(yt,xe,N)=>{N.d(xe,{o:()=>ie});var a=N(727);class J extends a.w0{constructor(me,fe){super()}schedule(me,fe=0){return this}}const k={setInterval(ne,me,...fe){const{delegate:he}=k;return he?.setInterval?he.setInterval(ne,me,...fe):setInterval(ne,me,...fe)},clearInterval(ne){const{delegate:me}=k;return(me?.clearInterval||clearInterval)(ne)},delegate:void 0};var re=N(8737);class ie extends J{constructor(me,fe){super(me,fe),this.scheduler=me,this.work=fe,this.pending=!1}schedule(me,fe=0){var he;if(this.closed)return this;this.state=me;const $=this.id,H=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(H,$,fe)),this.pending=!0,this.delay=fe,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(H,this.id,fe),this}requestAsyncId(me,fe,he=0){return k.setInterval(me.flush.bind(me,this),he)}recycleAsyncId(me,fe,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return fe;null!=fe&&k.clearInterval(fe)}execute(me,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(me,fe);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,fe){let $,he=!1;try{this.work(me)}catch(H){he=!0,$=H||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:me,scheduler:fe}=this,{actions:he}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(he,this),null!=me&&(this.id=this.recycleAsyncId(fe,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,xe,N)=>{N.d(xe,{v:()=>k});var a=N(6063);class J{constructor(ie,ne=J.now){this.schedulerActionCtor=ie,this.now=ne}schedule(ie,ne=0,me){return new this.schedulerActionCtor(this,ie).schedule(me,ne)}}J.now=a.l.now;class k extends J{constructor(ie,ne=J.now){super(ie,ne),this.actions=[],this._active=!1}flush(ie){const{actions:ne}=this;if(this._active)return void ne.push(ie);let me;this._active=!0;do{if(me=ie.execute(ie.state,ie.delay))break}while(ie=ne.shift());if(this._active=!1,me){for(;ie=ne.shift();)ie.unsubscribe();throw me}}}},4986:(yt,xe,N)=>{N.d(xe,{z:()=>k});var a=N(4408);const k=new(N(7565).v)(a.o)},6063:(yt,xe,N)=>{N.d(xe,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(yt,xe,N)=>{N.d(xe,{z:()=>a});const a={setTimeout(J,k,...re){const{delegate:ie}=a;return ie?.setTimeout?ie.setTimeout(J,k,...re):setTimeout(J,k,...re)},clearTimeout(J){const{delegate:k}=a;return(k?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(yt,xe,N)=>{N.d(xe,{h:()=>J});const J=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,xe,N)=>{N.d(xe,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yt,xe,N)=>{N.d(xe,{_6:()=>ne,jO:()=>re,yG:()=>ie});var a=N(576);function k(me){return me[me.length-1]}function re(me){return(0,a.m)(k(me))?me.pop():void 0}function ie(me){return function J(me){return me&&(0,a.m)(me.schedule)}(k(me))?me.pop():void 0}function ne(me,fe){return"number"==typeof k(me)?me.pop():fe}},8737:(yt,xe,N)=>{function a(J,k){if(J){const re=J.indexOf(k);0<=re&&J.splice(re,1)}}N.d(xe,{P:()=>a})},3888:(yt,xe,N)=>{function a(J){const re=J(ie=>{Error.call(ie),ie.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}N.d(xe,{d:()=>a})},2806:(yt,xe,N)=>{N.d(xe,{O:()=>re,x:()=>k});var a=N(2416);let J=null;function k(ie){if(a.v.useDeprecatedSynchronousErrorHandling){const ne=!J;if(ne&&(J={errorThrown:!1,error:null}),ie(),ne){const{errorThrown:me,error:fe}=J;if(J=null,me)throw fe}}else ie()}function re(ie){a.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ie)}},9672:(yt,xe,N)=>{function a(J,k,re,ie=0,ne=!1){const me=k.schedule(function(){re(),ne?J.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(J.add(me),!ne)return me}N.d(xe,{f:()=>a})},4671:(yt,xe,N)=>{function a(J){return J}N.d(xe,{y:()=>a})},1144:(yt,xe,N)=>{N.d(xe,{z:()=>a});const a=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(yt,xe,N)=>{N.d(xe,{D:()=>J});var a=N(576);function J(k){return Symbol.asyncIterator&&(0,a.m)(k?.[Symbol.asyncIterator])}},576:(yt,xe,N)=>{function a(J){return"function"==typeof J}N.d(xe,{m:()=>a})},3670:(yt,xe,N)=>{N.d(xe,{c:()=>k});var a=N(8822),J=N(576);function k(re){return(0,J.m)(re[a.L])}},6495:(yt,xe,N)=>{N.d(xe,{T:()=>k});var a=N(2202),J=N(576);function k(re){return(0,J.m)(re?.[a.h])}},8239:(yt,xe,N)=>{N.d(xe,{t:()=>J});var a=N(576);function J(k){return(0,a.m)(k?.then)}},3260:(yt,xe,N)=>{N.d(xe,{L:()=>re,Q:()=>k});var a=N(7582),J=N(576);function k(ie){return(0,a.FC)(this,arguments,function*(){const me=ie.getReader();try{for(;;){const{value:fe,done:he}=yield(0,a.qq)(me.read());if(he)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(fe)}}finally{me.releaseLock()}})}function re(ie){return(0,J.m)(ie?.getReader)}},4482:(yt,xe,N)=>{N.d(xe,{A:()=>J,e:()=>k});var a=N(576);function J(re){return(0,a.m)(re?.lift)}function k(re){return ie=>{if(J(ie))return ie.lift(function(ne){try{return re(ne,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(yt,xe,N)=>{N.d(xe,{U:()=>k,z:()=>J});var a=N(4671);function J(...re){return k(re)}function k(re){return 0===re.length?a.y:1===re.length?re[0]:function(ne){return re.reduce((me,fe)=>fe(me),ne)}}},7849:(yt,xe,N)=>{N.d(xe,{h:()=>k});var a=N(2416),J=N(3410);function k(re){J.z.setTimeout(()=>{const{onUnhandledError:ie}=a.v;if(!ie)throw re;ie(re)})}},4532:(yt,xe,N)=>{function a(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(xe,{z:()=>a})},4650:(yt,xe,N)=>{N.d(xe,{$8M:()=>Al,$WT:()=>eo,$Z:()=>_w,AFp:()=>Vp,ALo:()=>Pp,AaK:()=>fe,BQk:()=>av,CHM:()=>qc,CRH:()=>sE,CZH:()=>Up,CqO:()=>Gw,D6c:()=>Ey,EJc:()=>tn,EpF:()=>iD,F4k:()=>oD,FYo:()=>Xl,FiY:()=>lu,GfV:()=>tw,Gpc:()=>H,JOm:()=>uo,Jf7:()=>b_,KtG:()=>ed,LFG:()=>un,LSH:()=>Wg,Lbi:()=>mE,Lck:()=>Gv,MMx:()=>jn,MR2:()=>iT,NdJ:()=>lv,O4$:()=>us,OlP:()=>Jt,Oqu:()=>dh,P3R:()=>Zb,PXZ:()=>Fh,Q6J:()=>Sm,QGY:()=>qw,QbO:()=>bc,Qsj:()=>sa,R0b:()=>Wo,RDi:()=>ws,Rgc:()=>Ch,SBq:()=>Kf,Sil:()=>bE,Suo:()=>XD,TTD:()=>cl,TgZ:()=>Am,Udp:()=>pv,VKq:()=>t0,X6Q:()=>vy,XFs:()=>tt,Xpm:()=>Mo,Xts:()=>g_,Y36:()=>Qa,YKP:()=>Ap,YNc:()=>tv,Yjl:()=>Oc,Yz7:()=>le,Z0I:()=>mt,ZZ4:()=>Yo,_Bn:()=>Sp,_UZ:()=>ov,_Vd:()=>Wf,_c5:()=>Qp,_uU:()=>Rm,aQg:()=>V0,c2e:()=>yE,cJS:()=>Ht,cg1:()=>gp,dDg:()=>TE,dqk:()=>fn,eFA:()=>Cc,eJc:()=>rl,ekj:()=>Ds,eoX:()=>Pn,f3M:()=>Ee,g9A:()=>gE,h0i:()=>da,hGG:()=>Jp,hij:()=>_o,iGM:()=>p0,ifc:()=>ee,ip1:()=>C0,jDz:()=>GC,kL8:()=>kr,kcU:()=>cr,lG2:()=>On,lcZ:()=>c0,lqb:()=>vu,lri:()=>Ni,n5z:()=>dd,oAB:()=>Ns,oxw:()=>uv,q4F:()=>nw,qLn:()=>Wd,qOj:()=>Tm,qZA:()=>rc,rWj:()=>qr,sBO:()=>Lu,s_b:()=>sy,soG:()=>Bp,tb:()=>M0,tp0:()=>D,uIk:()=>Ts,vHH:()=>ge,vpe:()=>ha,wAp:()=>Et,xp6:()=>P_,ynx:()=>sv,z2F:()=>_y,zSh:()=>__,zs3:()=>Kd});var a=N(7579),J=N(727),k=N(9751),re=N(6451),ie=N(3099);function ne(o){for(let s in o)if(o[s]===ne)return s;throw Error("Could not find renamed property on target object.")}function me(o,s){for(const c in s)s.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=s[c])}function fe(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(fe).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function he(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const $=ne({__forward_ref__:ne});function H(o){return o.__forward_ref__=H,o.toString=function(){return fe(this())},o}function W(o){return je(o)?o():o}function je(o){return"function"==typeof o&&o.hasOwnProperty($)&&o.__forward_ref__===H}function Te(o){return o&&!!o.\u0275providers}const at="https://g.co/ng/security#xss";class ge extends Error{constructor(s,c){super(Se(s,c)),this.code=s}}function Se(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}function De(o){return"string"==typeof o?o:null==o?"":String(o)}function Fe(o,s){throw new ge(-201,!1)}function Q(o,s){null==o&&function Y(o,s,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${s} <=Actual]`))}(s,o,null,"!=")}function le(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ht(o){return{providers:o.providers||[],imports:o.imports||[]}}function ln(o){return Wt(o,$t)||Wt(o,Jn)}function mt(o){return null!==ln(o)}function Wt(o,s){return o.hasOwnProperty(s)?o[s]:null}function Ir(o){return o&&(o.hasOwnProperty(hn)||o.hasOwnProperty(Yt))?o[hn]:null}const $t=ne({\u0275prov:ne}),hn=ne({\u0275inj:ne}),Jn=ne({ngInjectableDef:ne}),Yt=ne({ngInjectorDef:ne});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let Hi;function Sn(o){const s=Hi;return Hi=o,s}function ai(o,s,c){const d=ln(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&tt.Optional?null:void 0!==s?s:void Fe(fe(o))}const fn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Lr={},zn="__NG_DI_FLAG__",Dn="ngTempTokenPath",Ao="ngTokenPath",Tr=/\n/gm,ya="\u0275",cn="__source";let ci;function Qt(o){const s=ci;return ci=o,s}function $i(o,s=tt.Default){if(void 0===ci)throw new ge(-203,!1);return null===ci?ai(o,void 0,s):ci.get(o,s&tt.Optional?null:void 0,s)}function un(o,s=tt.Default){return(function Jo(){return Hi}()||$i)(W(o),s)}function Ee(o,s=tt.Default){return un(o,et(s))}function et(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function St(o){const s=[];for(let c=0;c<o.length;c++){const d=W(o[c]);if(Array.isArray(d)){if(0===d.length)throw new ge(900,!1);let h,g=tt.Default;for(let _=0;_<d.length;_++){const w=d[_],E=qt(w);"number"==typeof E?-1===E?h=w.token:g|=E:h=w}s.push(un(h,g))}else s.push(un(d))}return s}function Tt(o,s){return o[zn]=s,o.prototype[zn]=s,o}function qt(o){return o[zn]}function z(o){return{toString:o}.toString()}var ye=(()=>((ye=ye||{})[ye.OnPush=0]="OnPush",ye[ye.Default=1]="Default",ye))(),ee=(()=>{return(o=ee||(ee={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ee;var o})();const Qe={},Ke=[],rn=ne({\u0275cmp:ne}),yr=ne({\u0275dir:ne}),bn=ne({\u0275pipe:ne}),Dr=ne({\u0275mod:ne}),kt=ne({\u0275fac:ne}),Ln=ne({__NG_ELEMENT_ID__:ne});let _a=0;function Mo(o){return z(()=>{const s=Xo(o),c={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===ye.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||ee.Emulated,id:"c"+_a++,styles:o.styles||Ke,_:null,schemas:o.schemas||null,tView:null};Sr(c);const d=o.dependencies;return c.directiveDefs=es(d,!1),c.pipeDefs=es(d,!0),c})}function rf(o){return nn(o)||qn(o)}function Pc(o){return null!==o}function Ns(o){return z(()=>({type:o.type,bootstrap:o.bootstrap||Ke,declarations:o.declarations||Ke,imports:o.imports||Ke,exports:o.exports||Ke,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Ku(o,s){if(null==o)return Qe;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,s&&(s[h]=g)}return c}function On(o){return z(()=>{const s=Xo(o);return Sr(s),s})}function Oc(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function nn(o){return o[rn]||null}function qn(o){return o[yr]||null}function lr(o){return o[bn]||null}function eo(o){const s=nn(o)||qn(o)||lr(o);return null!==s&&s.standalone}function xr(o,s){const c=o[Dr]||null;if(!c&&!0===s)throw new Error(`Type ${fe(o)} does not have '\u0275mod' property.`);return c}function Xo(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||Ke,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ku(o.inputs,s),outputs:Ku(o.outputs)}}function Sr(o){o.features?.forEach(s=>s(o))}function es(o,s){if(!o)return null;const c=s?lr:rf;return()=>("function"==typeof o?o():o).map(d=>c(d)).filter(Pc)}const ui=0,Je=1,Rt=2,wn=3,Ur=4,to=5,Gn=6,Vr=7,An=8,Rs=9,Ar=10,Bt=11,kc=12,Po=13,Nc=14,wi=15,Mr=16,Fs=17,ts=18,Ci=19,Oo=20,no=21,mn=22,di=1,Yu=2,Ls=7,ns=8,_r=9,Pr=10;function Gr(o){return Array.isArray(o)&&"object"==typeof o[di]}function Ei(o){return Array.isArray(o)&&!0===o[di]}function va(o){return 0!=(4&o.flags)}function Ii(o){return o.componentOffset>-1}function Rc(o){return 1==(1&o.flags)}function Wr(o){return!!o.template}function ba(o){return 0!=(256&o[Rt])}function is(o,s){return o.hasOwnProperty(kt)?o[kt]:null}class os{constructor(s,c,d){this.previousValue=s,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function cl(){return Bs}function Bs(o){return o.type.prototype.ngOnChanges&&(o.setInput=js),ul}function ul(){const o=Ca(this),s=o?.current;if(s){const c=o.previous;if(c===Qe)o.previous=s;else for(let d in s)c[d]=s[d];o.current=null,this.ngOnChanges(s)}}function js(o,s,c,d){const h=this.declaredInputs[c],g=Ca(o)||function jc(o,s){return o[ss]=s}(o,{previous:Qe,current:null}),_=g.current||(g.current={}),w=g.previous,E=w[h];_[h]=new os(E&&E.currentValue,s,w===Qe),o[d]=s}cl.ngInherit=!0;const ss="__ngSimpleChanges__";function Ca(o){return o[ss]||null}const Kr=function(o,s,c){},kn="svg";function Un(o){for(;Array.isArray(o);)o=o[ui];return o}function as(o,s){return Un(s[o])}function Wn(o,s){return Un(s[o.index])}function zs(o,s){return o.data[s]}function Xn(o,s){const c=s[o];return Gr(c)?c:c[ui]}function qs(o){return 64==(64&o[Rt])}function io(o,s){return null==s?null:o[s]}function Ia(o){o[ts]=0}function Ta(o,s){o[to]+=s;let c=o,d=o[wn];for(;null!==d&&(1===s&&1===c[to]||-1===s&&0===c[to]);)d[to]+=s,c=d,d=d[wn]}const Pt={lFrame:Jy(null),bindingsEnabled:!0};function gl(){return Pt.bindingsEnabled}function _e(){return Pt.lFrame.lView}function Xt(){return Pt.lFrame.tView}function qc(o){return Pt.lFrame.contextLView=o,o[An]}function ed(o){return Pt.lFrame.contextLView=null,o}function vr(){let o=Da();for(;null!==o&&64===o.type;)o=o.parent;return o}function Da(){return Pt.lFrame.currentTNode}function Yr(o,s){const c=Pt.lFrame;c.currentTNode=o,c.isParent=s}function yl(){return Pt.lFrame.isParent}function _l(){Pt.lFrame.isParent=!1}function er(){const o=Pt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function cs(){return Pt.lFrame.bindingIndex++}function rd(o,s){const c=Pt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Kc(s)}function Kc(o){Pt.lFrame.currentDirectiveIndex=o}function id(){return Pt.lFrame.currentQueryIndex}function Yc(o){Pt.lFrame.currentQueryIndex=o}function od(o){const s=o[Je];return 2===s.type?s.declTNode:1===s.type?o[Gn]:null}function df(o,s,c){if(c&tt.SkipSelf){let h=s,g=o;for(;!(h=h.parent,null!==h||c&tt.Host||(h=od(g),null===h||(g=g[wi],10&h.type))););if(null===h)return!1;s=h,o=g}const d=Pt.lFrame=hf();return d.currentTNode=s,d.lView=o,!0}function bl(o){const s=hf(),c=o[Je];Pt.lFrame=s,s.currentTNode=c.firstChild,s.lView=o,s.tView=c,s.contextLView=o,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function hf(){const o=Pt.lFrame,s=null===o?null:o.child;return null===s?Jy(o):s}function Jy(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function wg(){const o=Pt.lFrame;return Pt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Qc=wg;function Cg(){const o=wg();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function jr(){return Pt.lFrame.selectedIndex}function Gs(o){Pt.lFrame.selectedIndex=o}function Cn(){const o=Pt.lFrame;return zs(o.tView,o.selectedIndex)}function us(){Pt.lFrame.currentNamespace=kn}function cr(){!function ff(){Pt.lFrame.currentNamespace=null}()}function Sa(o,s){for(let c=s.directiveStart,d=s.directiveEnd;c<d;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:P}=g;_&&(o.contentHooks??(o.contentHooks=[])).push(-c,_),w&&((o.contentHooks??(o.contentHooks=[])).push(c,w),(o.contentCheckHooks??(o.contentCheckHooks=[])).push(c,w)),E&&(o.viewHooks??(o.viewHooks=[])).push(-c,E),S&&((o.viewHooks??(o.viewHooks=[])).push(c,S),(o.viewCheckHooks??(o.viewCheckHooks=[])).push(c,S)),null!=P&&(o.destroyHooks??(o.destroyHooks=[])).push(c,P)}}function ds(o,s,c){Aa(o,s,3,c)}function Xc(o,s,c,d){(3&o[Rt])===c&&Aa(o,s,c,d)}function No(o,s){let c=o[Rt];(3&c)===s&&(c&=2047,c+=1,o[Rt]=c)}function Aa(o,s,c,d){const g=d??-1,_=s.length-1;let w=0;for(let E=void 0!==d?65535&o[ts]:0;E<_;E++)if("number"==typeof s[E+1]){if(w=s[E],null!=d&&w>=d)break}else s[E]<0&&(o[ts]+=65536),(w<g||-1==g)&&(Ma(o,c,s,E),o[ts]=(4294901760&o[ts])+E+2),E++}function Ma(o,s,c,d){const h=c[d]<0,g=c[d+1],w=o[h?-c[d]:c[d]];if(h){if(o[Rt]>>11<o[ts]>>16&&(3&o[Rt])===s){o[Rt]+=2048,Kr(4,w,g);try{g.call(w)}finally{Kr(5,w,g)}}}else{Kr(4,w,g);try{g.call(w)}finally{Kr(5,w,g)}}}const Ws=-1;class Ro{constructor(s,c,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Mn(o,s,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const g=c[d++],_=c[d++],w=c[d++];o.setAttribute(s,_,w,g)}else{const g=h,_=c[++d];so(g)?o.setProperty(s,g,_):o.setAttribute(s,g,_),d++}}return d}function Oa(o){return 3===o||4===o||6===o}function so(o){return 64===o.charCodeAt(0)}function ao(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let c=-1;for(let d=0;d<s.length;d++){const h=s[d];"number"==typeof h?c=h:0===c||Ks(o,c,h,null,-1===c||2===c?s[++d]:null)}}return o}function Ks(o,s,c,d,h){let g=0,_=o.length;if(-1===s)_=-1;else for(;g<o.length;){const w=o[g++];if("number"==typeof w){if(w===s){_=-1;break}if(w>s){_=g-1;break}}}for(;g<o.length;){const w=o[g];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==h&&(o[g+1]=h));if(d===o[g+1])return void(o[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==_&&(o.splice(_,0,s),g=_+1),o.splice(g++,0,c),null!==d&&o.splice(g++,0,d),null!==h&&o.splice(g++,0,h)}function eu(o){return o!==Ws}function ka(o){return 32767&o}function El(o,s){let c=function Cl(o){return o>>16}(o),d=s;for(;c>0;)d=d[wi],c--;return d}let Fo=!0;function Ys(o){const s=Fo;return Fo=o,s}const Na=255,Ra=5;let Il=0;const br={};function Js(o,s){const c=La(o,s);if(-1!==c)return c;const d=s[Je];d.firstCreatePass&&(o.injectorIndex=s.length,Lo(d.data,o),Lo(s,null),Lo(d.blueprint,null));const h=Tl(o,s),g=o.injectorIndex;if(eu(h)){const _=ka(h),w=El(h,s),E=w[Je].data;for(let S=0;S<8;S++)s[g+S]=w[_+S]|E[_+S]}return s[g+8]=h,g}function Lo(o,s){o.push(0,0,0,0,0,0,0,0,s)}function La(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Tl(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=s;for(;null!==h;){if(d=nu(h),null===d)return Ws;if(c++,h=h[wi],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Ws}function Ua(o,s,c){!function Fa(o,s,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ln)&&(d=c[Ln]),null==d&&(d=c[Ln]=Il++);const h=d&Na;s.data[o+(h>>Ra)]|=1<<h}(o,s,c)}function ps(o,s,c){if(c&tt.Optional||void 0!==o)return o;Fe()}function Va(o,s,c,d){if(c&tt.Optional&&void 0===d&&(d=null),!(c&(tt.Self|tt.Host))){const h=o[Rs],g=Sn(void 0);try{return h?h.get(s,d,c&tt.Optional):ai(s,d,c&tt.Optional)}finally{Sn(g)}}return ps(d,0,c)}function cd(o,s,c,d=tt.Default,h){if(null!==o){if(1024&s[Rt]){const _=function hd(o,s,c,d,h){let g=o,_=s;for(;null!==g&&null!==_&&1024&_[Rt]&&!(256&_[Rt]);){const w=Gi(g,_,c,d|tt.Self,br);if(w!==br)return w;let E=g.parent;if(!E){const S=_[no];if(S){const P=S.get(c,br,d);if(P!==br)return P}E=nu(_),_=_[wi]}g=E}return h}(o,s,c,d,br);if(_!==br)return _}const g=Gi(o,s,c,d,br);if(g!==br)return g}return Va(s,c,d,h)}function Gi(o,s,c,d,h){const g=function ud(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Ln)?o[Ln]:void 0;return"number"==typeof s?s>=0?s&Na:Tg:s}(c);if("function"==typeof g){if(!df(s,o,d))return d&tt.Host?ps(h,0,d):Va(s,c,d,h);try{const _=g(d);if(null!=_||d&tt.Optional)return _;Fe()}finally{Qc()}}else if("number"==typeof g){let _=null,w=La(o,s),E=Ws,S=d&tt.Host?s[Mr][Gn]:null;for((-1===w||d&tt.SkipSelf)&&(E=-1===w?Tl(o,s):s[w+8],E!==Ws&&lo(d,!1)?(_=s[Je],w=ka(E),s=El(E,s)):w=-1);-1!==w;){const P=s[Je];if(xl(g,w,P.data)){const R=Dl(w,s,c,_,d,S);if(R!==br)return R}E=s[w+8],E!==Ws&&lo(d,s[Je].data[w+8]===S)&&xl(g,w,s)?(_=P,w=ka(E),s=El(E,s)):w=-1}}return h}function Dl(o,s,c,d,h,g){const _=s[Je],w=_.data[o+8],P=gs(w,_,c,null==d?Ii(w)&&Fo:d!=_&&0!=(3&w.type),h&tt.Host&&g===w);return null!==P?Wi(s,_,P,w):br}function gs(o,s,c,d,h){const g=o.providerIndexes,_=s.data,w=1048575&g,E=o.directiveStart,P=g>>20,q=h?w+P:o.directiveEnd;for(let X=d?w:w+P;X<q;X++){const be=_[X];if(X<E&&c===be||X>=E&&be.type===c)return X}if(h){const X=_[E];if(X&&Wr(X)&&X.type===c)return E}return null}function Wi(o,s,c,d){let h=o[c];const g=s.data;if(function hi(o){return o instanceof Ro}(h)){const _=h;_.resolving&&function Ie(o,s){const c=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new ge(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Ue(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():De(o)}(g[c]));const w=Ys(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?Sn(_.injectImpl):null;df(o,d,tt.Default);try{h=o[c]=_.factory(void 0,g,o,d),s.firstCreatePass&&c>=d.directiveStart&&function Ig(o,s,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(d){const _=Bs(s);(c.preOrderHooks??(c.preOrderHooks=[])).push(o,_),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,_)}h&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-o,h),g&&((c.preOrderHooks??(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],s)}finally{null!==E&&Sn(E),Ys(w),_.resolving=!1,Qc()}}return h}function xl(o,s,c){return!!(c[s+(o>>Ra)]&1<<o)}function lo(o,s){return!(o&tt.Self||o&tt.Host&&s)}class Ti{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,d){return cd(this._tNode,this._lView,s,et(d),c)}}function Tg(){return new Ti(vr(),_e())}function dd(o){return z(()=>{const s=o.prototype.constructor,c=s[kt]||Sl(s),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const g=h[kt]||Sl(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Sl(o){return je(o)?()=>{const s=Sl(W(o));return s&&s()}:is(o)}function nu(o){const s=o[Je],c=s.type;return 2===c?s.declTNode:1===c?o[Gn]:null}function Al(o){return function tu(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(Oa(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===s)return c[h+1];h+=2}}}return null}(vr(),o)}const Xs="__parameters__";function Ba(o,s,c){return z(()=>{const d=function gf(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(s);function h(...g){if(this instanceof h)return d.apply(this,g),this;const _=new h(...g);return w.annotation=_,w;function w(E,S,P){const R=E.hasOwnProperty(Xs)?E[Xs]:Object.defineProperty(E,Xs,{value:[]})[Xs];for(;R.length<=P;)R.push(null);return(R[P]=R[P]||[]).push(_),E}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class Jt{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=le({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ki(o,s){o.forEach(c=>Array.isArray(c)?Ki(c,s):s(c))}function Rl(o,s,c){s>=o.length?o.push(c):o.splice(s,0,c)}function ja(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Hr(o,s,c){let d=Di(o,s);return d>=0?o[1|d]=c:(d=~d,function bf(o,s,c,d){let h=o.length;if(h==s)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=c,o[s+1]=d}}(o,d,s,c)),d}function ta(o,s){const c=Di(o,s);if(c>=0)return o[1|c]}function Di(o,s){return function ms(o,s,c){let d=0,h=o.length>>c;for(;h!==d;){const g=d+(h-d>>1),_=o[g<<c];if(s===_)return g<<c;_>s?h=g:d=g+1}return~(h<<c)}(o,s,1)}const lu=Tt(Ba("Optional"),8),D=Tt(Ba("SkipSelf"),4);var uo=(()=>((uo=uo||{})[uo.Important=1]="Important",uo[uo.DashCase=2]="DashCase",uo))();const $a=new Map;let xf=0;const Af="__ngContext__";function Vn(o,s){Gr(s)?(o[Af]=s[Oo],function Si(o){$a.set(o[Oo],o)}(s)):o[Af]=s}let du;function hu(o,s){return du(o,s)}function jo(o){const s=o[wn];return Ei(s)?s[wn]:s}function za(o){return Cd(o[Po])}function ho(o){return Cd(o[Ur])}function Cd(o){for(;null!==o&&!Ei(o);)o=o[Ur];return o}function _s(o,s,c,d,h){if(null!=d){let g,_=!1;Ei(d)?g=d:Gr(d)&&(_=!0,d=d[ui]);const w=Un(d);0===o&&null!==c?null==h?Zl(s,c,w):Ga(s,c,w,h||null,!0):1===o&&null!==c?Ga(s,c,w,h||null,!0):2===o?function $o(o,s,c){const d=Wa(o,s);d&&function pi(o,s,c,d){o.removeChild(s,c,d)}(o,d,s,c)}(s,w,_):3===o&&s.destroyNode(w),null!=g&&function Ff(o,s,c,d,h){const g=c[Ls];g!==Un(c)&&_s(s,o,d,g,h);for(let w=Pr;w<c.length;w++){const E=c[w];ql(E[Je],E,o,s,d,g)}}(s,o,g,c,h)}}function fu(o,s,c){return o.createElement(s,c)}function vs(o,s){const c=o[_r],d=c.indexOf(s),h=s[wn];512&s[Rt]&&(s[Rt]&=-513,Ta(h,-1)),c.splice(d,1)}function Nf(o,s){if(o.length<=Pr)return;const c=Pr+s,d=o[c];if(d){const h=d[Fs];null!==h&&h!==o&&vs(h,d),s>0&&(o[c-1][Ur]=d[Ur]);const g=ja(o,Pr+s);!function jg(o,s){ql(o,s,s[Bt],2,null,null),s[ui]=null,s[Gn]=null}(d[Je],d);const _=g[Ci];null!==_&&_.detachView(g[Je]),d[wn]=null,d[Ur]=null,d[Rt]&=-65}return d}function Td(o,s){if(!(128&s[Rt])){const c=s[Bt];c.destroyNode&&ql(o,s,c,3,null,null),function Id(o){let s=o[Po];if(!s)return Dd(o[Je],o);for(;s;){let c=null;if(Gr(s))c=s[Po];else{const d=s[Pr];d&&(c=d)}if(!c){for(;s&&!s[Ur]&&s!==o;)Gr(s)&&Dd(s[Je],s),s=s[wn];null===s&&(s=o),Gr(s)&&Dd(s[Je],s),c=s&&s[Ur]}s=c}}(s)}}function Dd(o,s){if(!(128&s[Rt])){s[Rt]&=-65,s[Rt]|=128,function xd(o,s){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=s[c[d]];if(!(h instanceof Ro)){const g=c[d+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const w=h[g[_]],E=g[_+1];Kr(4,w,E);try{E.call(w)}finally{Kr(5,w,E)}}else{Kr(4,h,g);try{g.call(h)}finally{Kr(5,h,g)}}}}}(o,s),function $l(o,s){const c=o.cleanup,d=s[Vr];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const _=c[g+3];_>=0?d[h=_]():d[h=-_].unsubscribe(),g+=2}else{const _=d[h=c[g+1]];c[g].call(_)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();s[Vr]=null}}(o,s),1===s[Je].type&&s[Bt].destroy();const c=s[Fs];if(null!==c&&Ei(s[wn])){c!==s[wn]&&vs(c,s);const d=s[Ci];null!==d&&d.detachView(o)}!function Sf(o){$a.delete(o[Oo])}(s)}}function Hg(o,s,c){return function Sd(o,s,c){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return c[ui];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=o.data[d.directiveStart+h];if(g===ee.None||g===ee.Emulated)return null}return Wn(d,c)}}(o,s.parent,c)}function Ga(o,s,c,d,h){o.insertBefore(s,c,d,h)}function Zl(o,s,c){o.appendChild(s,c)}function $g(o,s,c,d,h){null!==d?Ga(o,s,c,d,h):Zl(o,s,c)}function Wa(o,s){return o.parentNode(s)}let Pd,Bf,pu,Md=function Rf(o,s,c){return 40&o.type?Wn(o,c):null};function Ka(o,s,c,d){const h=Hg(o,d,s),g=s[Bt],w=function Zg(o,s,c){return Md(o,s,c)}(d.parent||s[Gn],d,s);if(null!=h)if(Array.isArray(c))for(let E=0;E<c.length;E++)$g(g,h,c[E],w,!1);else $g(g,h,c,w,!1);void 0!==Pd&&Pd(g,d,s,c,h)}function zl(o,s){if(null!==s){const c=s.type;if(3&c)return Wn(s,o);if(4&c)return ni(-1,o[s.index]);if(8&c){const d=s.child;if(null!==d)return zl(o,d);{const h=o[s.index];return Ei(h)?ni(-1,h):Un(h)}}if(32&c)return hu(s,o)()||Un(o[s.index]);{const d=qg(o,s);return null!==d?Array.isArray(d)?d[0]:zl(jo(o[Mr]),d):zl(o,s.next)}}return null}function qg(o,s){return null!==s?o[Mr][Gn].projection[s.projection]:null}function ni(o,s){const c=Pr+o+1;if(c<s.length){const d=s[c],h=d[Je].firstChild;if(null!==h)return zl(d,h)}return s[Ls]}function Ya(o,s,c,d,h,g,_){for(;null!=c;){const w=d[c.index],E=c.type;if(_&&0===s&&(w&&Vn(Un(w),d),c.flags|=2),32!=(32&c.flags))if(8&E)Ya(o,s,c.child,d,h,g,!1),_s(s,o,h,w,g);else if(32&E){const S=hu(c,d);let P;for(;P=S();)_s(s,o,h,P,g);_s(s,o,h,w,g)}else 16&E?kd(o,s,d,c,h,g):_s(s,o,h,w,g);c=_?c.projectionNext:c.next}}function ql(o,s,c,d,h,g){Ya(c,d,o.firstChild,s,h,g,!1)}function kd(o,s,c,d,h,g){const _=c[Mr],E=_[Gn].projection[d.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)_s(s,o,h,E[S],g);else Ya(o,s,E,_[wn],h,g,!0)}function bs(o,s,c){""===c?o.removeAttribute(s,"class"):o.setAttribute(s,"class",c)}function Uf(o,s,c){const{mergedAttrs:d,classes:h,styles:g}=c;null!==d&&Mn(o,s,d),null!==h&&bs(o,s,h),null!==g&&function l_(o,s,c){o.setAttribute(s,"style",c)}(o,s,g)}function ws(o){Bf=o}function gu(o){return function Fd(){if(void 0===pu&&(pu=null,fn.trustedTypes))try{pu=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return pu}()?.createScriptURL(o)||o}class Vd{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${at})`}}function b(o){return o instanceof Vd?o.changingThisBreaksApplicationSecurity:o}function x(o,s){const c=function O(o){return o instanceof Vd&&o.getTypeName()||null}(o);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see ${at})`)}return c===s}const Ql=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var wr=(()=>((wr=wr||{})[wr.NONE=0]="NONE",wr[wr.HTML=1]="HTML",wr[wr.STYLE=2]="STYLE",wr[wr.SCRIPT=3]="SCRIPT",wr[wr.URL=4]="URL",wr[wr.RESOURCE_URL=5]="RESOURCE_URL",wr))();function Wg(o){const s=Zf();return s?s.sanitize(wr.URL,o)||"":x(o,"URL")?b(o):function mu(o){return(o=String(o)).match(Ql)?o:"unsafe:"+o}(De(o))}function go(o){const s=Zf();if(s)return gu(s.sanitize(wr.RESOURCE_URL,o)||"");if(x(o,"ResourceURL"))return gu(b(o));throw new ge(904,!1)}function Zb(o,s,c){return function $b(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?go:Wg}(s,c)(o)}function Zf(){const o=_e();return o&&o[kc]}const g_=new Jt("ENVIRONMENT_INITIALIZER"),Kg=new Jt("INJECTOR",-1),zb=new Jt("INJECTOR_DEF_TYPES");class m_{get(s,c=Lr){if(c===Lr){const d=new Error(`NullInjectorError: No provider for ${fe(s)}!`);throw d.name="NullInjectorError",d}return c}}function iT(o){return{\u0275providers:o}}function oT(...o){return{\u0275providers:qb(0,o),\u0275fromNgModule:!0}}function qb(o,...s){const c=[],d=new Set;let h;return Ki(s,g=>{const _=g;Yg(_,c,[],d)&&(h||(h=[]),h.push(_))}),void 0!==h&&Gb(h,c),c}function Gb(o,s){for(let c=0;c<o.length;c++){const{providers:h}=o[c];Qg(h,g=>{s.push(g)})}}function Yg(o,s,c,d){if(!(o=W(o)))return!1;let h=null,g=Ir(o);const _=!g&&nn(o);if(g||_){if(_&&!_.standalone)return!1;h=o}else{const E=o.ngModule;if(g=Ir(E),!g)return!1;h=E}const w=d.has(h);if(_){if(w)return!1;if(d.add(h),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const S of E)Yg(S,s,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!w){let S;d.add(h);try{Ki(g.imports,P=>{Yg(P,s,c,d)&&(S||(S=[]),S.push(P))})}finally{}void 0!==S&&Gb(S,s)}if(!w){const S=is(h)||(()=>new h);s.push({provide:h,useFactory:S,deps:Ke},{provide:zb,useValue:h,multi:!0},{provide:g_,useValue:()=>un(h),multi:!0})}const E=g.providers;null==E||w||Qg(E,P=>{s.push(P)})}}return h!==o&&void 0!==o.providers}function Qg(o,s){for(let c of o)Te(c)&&(c=c.\u0275providers),Array.isArray(c)?Qg(c,s):s(c)}const sT=ne({provide:String,useValue:ne});function Jg(o){return null!==o&&"object"==typeof o&&sT in o}function _u(o){return"function"==typeof o}const __=new Jt("Set Injector scope."),Xg={},Yb={};let zf;function qf(){return void 0===zf&&(zf=new m_),zf}class vu{}class lT extends vu{get destroyed(){return this._destroyed}constructor(s,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,em(s,_=>this.processProvider(_)),this.records.set(Kg,qd(void 0,this)),h.has("environment")&&this.records.set(vu,qd(void 0,this));const g=this.records.get(__);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(zb.multi,Ke,tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const c=Qt(this),d=Sn(void 0);try{return s()}finally{Qt(c),Sn(d)}}get(s,c=Lr,d=tt.Default){this.assertNotDestroyed(),d=et(d);const h=Qt(this),g=Sn(void 0);try{if(!(d&tt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const E=function dT(o){return"function"==typeof o||"object"==typeof o&&o instanceof Jt}(s)&&ln(s);w=E&&this.injectableDefInScope(E)?qd(Qb(s),Xg):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(d&tt.Self?qf():this.parent).get(s,c=d&tt.Optional&&c===Lr?null:c)}catch(_){if("NullInjectorError"===_.name){if((_[Dn]=_[Dn]||[]).unshift(fe(s)),h)throw _;return function j(o,s,c,d){const h=o[Dn];throw s[cn]&&h.unshift(s[cn]),o.message=function U(o,s,c,d=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==ya?o.slice(2):o;let h=fe(s);if(Array.isArray(s))h=s.map(fe).join(" -> ");else if("object"==typeof s){let g=[];for(let _ in s)if(s.hasOwnProperty(_)){let w=s[_];g.push(_+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(Tr,"\n  ")}`}("\n"+o.message,h,c,d),o[Ao]=h,o[Dn]=null,o}(_,s,"R3InjectorError",this.source)}throw _}finally{Sn(g),Qt(h)}}resolveInjectorInitializers(){const s=Qt(this),c=Sn(void 0);try{const d=this.get(g_.multi,Ke,tt.Self);for(const h of d)h()}finally{Qt(s),Sn(c)}}toString(){const s=[],c=this.records;for(const d of c.keys())s.push(fe(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(s){let c=_u(s=W(s))?s:W(s&&s.provide);const d=function Rn(o){return Jg(o)?qd(void 0,o.useValue):qd(Cs(o),Xg)}(s);if(_u(s)||!0!==s.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=qd(void 0,Xg,!0),h.factory=()=>St(h.multi),this.records.set(c,h)),c=s,h.multi.push(s)}this.records.set(c,d)}hydrate(s,c){return c.value===Xg&&(c.value=Yb,c.value=c.factory()),"object"==typeof c.value&&c.value&&function uT(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(s){if(!s.providedIn)return!1;const c=W(s.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Qb(o){const s=ln(o),c=null!==s?s.factory:is(o);if(null!==c)return c;if(o instanceof Jt)throw new ge(204,!1);if(o instanceof Function)return function CA(o){const s=o.length;if(s>0)throw function ea(o,s){const c=[];for(let d=0;d<o;d++)c.push(s);return c}(s,"?"),new ge(204,!1);const c=function Tn(o){return o&&(o[$t]||o[Jn])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new ge(204,!1)}function Cs(o,s,c){let d;if(_u(o)){const h=W(o);return is(h)||Qb(h)}if(Jg(o))d=()=>W(o.useValue);else if(function Kb(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...St(o.deps||[]));else if(function Wb(o){return!(!o||!o.useExisting)}(o))d=()=>un(W(o.useExisting));else{const h=W(o&&(o.useClass||o.provide));if(!function cT(o){return!!o.deps}(o))return is(h)||Qb(h);d=()=>new h(...St(o.deps))}return d}function qd(o,s,c=!1){return{factory:o,value:s,multi:c?[]:void 0}}function em(o,s){for(const c of o)Array.isArray(c)?em(c,s):c&&Te(c)?em(c.\u0275providers,s):s(c)}class hT{}class Gf{}class fT{resolveComponentFactory(s){throw function Gd(o){const s=Error(`No component factory found for ${fe(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let Wf=(()=>{class o{}return o.NULL=new fT,o})();function Jb(){return bu(vr(),_e())}function bu(o,s){return new Kf(Wn(o,s))}let Kf=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=Jb,o})();function Xb(o){return o instanceof Kf?o.nativeElement:o}class Xl{}let sa=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function pT(){const o=_e(),c=Xn(vr().index,o);return(Gr(c)?c:o)[Bt]}(),o})(),ew=(()=>{class o{}return o.\u0275prov=le({token:o,providedIn:"root",factory:()=>null}),o})();class tw{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const nw=new tw("15.2.10"),v_={},ec="ngOriginalError";function aa(o){return o[ec]}class Wd{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s);this._console.error("ERROR",s),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(s){let c=s&&aa(s);for(;c&&aa(c);)c=aa(c);return c||null}}function b_(o){return o.ownerDocument.defaultView}function ca(o){return o instanceof Function?o():o}function E_(o,s,c){let d=o.length;for(;;){const h=o.indexOf(s,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=s.length;if(h+g===d||o.charCodeAt(h+g)<=32)return h}c=h+1}}const I_="ng-template";function vT(o,s,c){let d=0,h=!0;for(;d<o.length;){let g=o[d++];if("string"==typeof g&&h){const _=o[d++];if(c&&"class"===g&&-1!==E_(_.toLowerCase(),s,0))return!0}else{if(1===g){for(;d<o.length&&"string"==typeof(g=o[d++]);)if(g.toLowerCase()===s)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function T_(o){return 4===o.type&&o.value!==I_}function aw(o,s,c){return s===(4!==o.type||c?o.value:I_)}function D_(o,s,c){let d=4;const h=o.attrs||[],g=function cw(o){for(let s=0;s<o.length;s++)if(Oa(o[s]))return s;return o.length}(h);let _=!1;for(let w=0;w<s.length;w++){const E=s[w];if("number"!=typeof E){if(!_)if(4&d){if(d=2|1&d,""!==E&&!aw(o,E,c)||""===E&&1===s.length){if(Zo(d))return!1;_=!0}}else{const S=8&d?E:s[++w];if(8&d&&null!==o.attrs){if(!vT(o.attrs,S,c)){if(Zo(d))return!1;_=!0}continue}const R=x_(8&d?"class":E,h,T_(o),c);if(-1===R){if(Zo(d))return!1;_=!0;continue}if(""!==S){let q;q=R>g?"":h[R+1].toLowerCase();const X=8&d?q:null;if(X&&-1!==E_(X,S,0)||2&d&&S!==q){if(Zo(d))return!1;_=!0}}}}else{if(!_&&!Zo(d)&&!Zo(E))return!1;if(_&&Zo(E))continue;_=!1,d=E|1&d}}return Zo(d)||_}function Zo(o){return 0==(1&o)}function x_(o,s,c,d){if(null===s)return-1;let h=0;if(d||!c){let g=!1;for(;h<s.length;){const _=s[h];if(_===o)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let w=s[++h];for(;"string"==typeof w;)w=s[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function A_(o,s){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===s)return c;c++}return-1}(s,o)}function S_(o,s,c=!1){for(let d=0;d<s.length;d++)if(D_(o,s[d],c))return!0;return!1}function M_(o,s){return o?":not("+s.trim()+")":s}function uw(o){let s=o[0],c=1,d=2,h="",g=!1;for(;c<o.length;){let _=o[c];if("string"==typeof _)if(2&d){const w=o[++c];h+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+_:4&d&&(h+=" "+_);else""!==h&&!Zo(_)&&(s+=M_(g,h),h=""),d=_,g=g||!Zo(d);c++}return""!==h&&(s+=M_(g,h)),s}const At={};function P_(o){bT(Xt(),_e(),jr()+o,!1)}function bT(o,s,c,d){if(!d)if(3==(3&s[Rt])){const g=o.preOrderCheckHooks;null!==g&&ds(s,g,c)}else{const g=o.preOrderHooks;null!==g&&Xc(s,g,0,c)}Gs(c)}function ET(o,s=null,c=null,d){const h=IT(o,s,c,d);return h.resolveInjectorInitializers(),h}function IT(o,s=null,c=null,d,h=new Set){const g=[c||Ke,oT(o)];return d=d||("object"==typeof o?void 0:fe(o)),new lT(g,s||qf(),d||null,h)}let Kd=(()=>{class o{static create(c,d){if(Array.isArray(c))return ET({name:""},d,c,"");{const h=c.name??"";return ET({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=Lr,o.NULL=new m_,o.\u0275prov=le({token:o,providedIn:"any",factory:()=>un(Kg)}),o.__NG_ELEMENT_ID__=-1,o})();function Qa(o,s=tt.Default){const c=_e();return null===c?un(o,s):cd(vr(),c,W(o),s)}function _w(){throw new Error("invalid")}function Xf(o,s){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const g=c[d+1];if(-1!==g){const _=o.data[g];Yc(c[d]),_.contentQueries(2,s[g],g)}}}function ep(o,s,c,d,h,g,_,w,E,S,P){const R=s.blueprint.slice();return R[ui]=h,R[Rt]=76|d,(null!==P||o&&1024&o[Rt])&&(R[Rt]|=1024),Ia(R),R[wn]=R[wi]=o,R[An]=c,R[Ar]=_||o&&o[Ar],R[Bt]=w||o&&o[Bt],R[kc]=E||o&&o[kc]||null,R[Rs]=S||o&&o[Rs]||null,R[Gn]=g,R[Oo]=function uu(){return xf++}(),R[no]=P,R[Mr]=2==s.type?o[Mr]:R,R}function Qd(o,s,c,d,h){let g=o.data[s];if(null===g)g=function fm(o,s,c,d,h){const g=Da(),_=yl(),E=o.data[s]=function NT(o,s,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,c,s,d,h);return null===o.firstChild&&(o.firstChild=E),null!==g&&(_?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E,E.prev=g)),E}(o,s,c,d,h),function nd(){return Pt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const _=function ml(){const o=Pt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return Yr(g,!0),g}function tp(o,s,c,d){if(0===c)return-1;const h=s.length;for(let g=0;g<c;g++)s.push(d),o.blueprint.push(d),o.data.push(null);return h}function vw(o,s,c){bl(s);try{const d=o.viewQuery;null!==d&&Z_(1,d,c);const h=o.template;null!==h&&gm(o,s,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Xf(o,s),o.staticViewQueries&&Z_(2,o.viewQuery,c);const g=o.components;null!==g&&function PT(o,s){for(let c=0;c<s.length;c++)Xd(o,s[c])}(s,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{s[Rt]&=-5,Cg()}}function pm(o,s,c,d){const h=s[Rt];if(128!=(128&h)){bl(s);try{Ia(s),function ko(o){return Pt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&gm(o,s,c,2,d);const _=3==(3&h);if(_){const S=o.preOrderCheckHooks;null!==S&&ds(s,S,null)}else{const S=o.preOrderHooks;null!==S&&Xc(s,S,0,null),No(s,0)}if(function $T(o){for(let s=za(o);null!==s;s=ho(s)){if(!s[Yu])continue;const c=s[_r];for(let d=0;d<c.length;d++){const h=c[d];512&h[Rt]||Ta(h[wn],1),h[Rt]|=512}}}(s),function H_(o){for(let s=za(o);null!==s;s=ho(s))for(let c=Pr;c<s.length;c++){const d=s[c],h=d[Je];qs(d)&&pm(h,d,h.template,d[An])}}(s),null!==o.contentQueries&&Xf(o,s),_){const S=o.contentCheckHooks;null!==S&&ds(s,S)}else{const S=o.contentHooks;null!==S&&Xc(s,S,1),No(s,1)}!function L_(o,s){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)Gs(~h);else{const g=h,_=c[++d],w=c[++d];rd(_,g),w(2,s[g])}}}finally{Gs(-1)}}(o,s);const w=o.components;null!==w&&function MT(o,s){for(let c=0;c<s.length;c++)Aw(o,s[c])}(s,w);const E=o.viewQuery;if(null!==E&&Z_(2,E,d),_){const S=o.viewCheckHooks;null!==S&&ds(s,S)}else{const S=o.viewHooks;null!==S&&Xc(s,S,2),No(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[Rt]&=-41,512&s[Rt]&&(s[Rt]&=-513,Ta(s[wn],-1))}finally{Cg()}}}function gm(o,s,c,d,h){const g=jr(),_=2&d;try{Gs(-1),_&&s.length>mn&&bT(o,s,mn,!1),Kr(_?2:0,h),c(d,h)}finally{Gs(g),Kr(_?3:1,h)}}function bw(o,s,c){if(va(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const _=o.data[g];_.contentQueries&&_.contentQueries(1,c[g],g)}}}function ww(o,s,c){gl()&&(function UT(o,s,c,d){const h=c.directiveStart,g=c.directiveEnd;Ii(c)&&function MA(o,s,c){const d=Wn(s,o),h=Cw(c),g=o[Ar],_=eh(o,ep(o,h,null,c.onPush?32:16,d,s,g,g.createRenderer(d,c),null,null,null));o[s.index]=_}(s,c,o.data[h+c.componentOffset]),o.firstCreatePass||Js(c,s),Vn(d,s);const _=c.initialInputs;for(let w=h;w<g;w++){const E=o.data[w],S=Wi(s,o,w,c);Vn(S,s),null!==_&&Sw(0,w-h,S,E,0,_),Wr(E)&&(Xn(c.index,s)[An]=Wi(s,o,w,c))}}(o,s,c,Wn(c,s)),64==(64&c.flags)&&V_(o,s,c))}function np(o,s,c=Wn){const d=s.localNames;if(null!==d){let h=s.index+1;for(let g=0;g<d.length;g+=2){const _=d[g+1],w=-1===_?c(s,o):o[_];o[h++]=w}}}function Cw(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=mm(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function mm(o,s,c,d,h,g,_,w,E,S){const P=mn+d,R=P+h,q=function U_(o,s){const c=[];for(let d=0;d<s;d++)c.push(d<o?null:At);return c}(P,R),X="function"==typeof S?S():S;return q[Je]={type:o,blueprint:q,template:c,queries:null,viewQuery:w,declTNode:s,data:q.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:X,incompleteFirstPass:!1}}function kT(o,s,c,d){const h=Mw(s);null===c?h.push(d):(h.push(c),o.firstCreatePass&&z_(o).push(d,h.length-1))}function Jd(o,s,c,d){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const g=o[h];null===d?ym(c,s,h,g):d.hasOwnProperty(h)&&ym(c,s,d[h],g)}return c}function ym(o,s,c,d){o.hasOwnProperty(c)?o[c].push(s,d):o[c]=[s,d]}function Tw(o,s,c,d){if(gl()){const h=null===d?null:{"":-1},g=function Dw(o,s){const c=o.directiveRegistry;let d=null,h=null;if(c)for(let g=0;g<c.length;g++){const _=c[g];if(S_(s,_.selectors,!1))if(d||(d=[]),Wr(_))if(null!==_.findHostDirectiveDefs){const w=[];h=h||new Map,_.findHostDirectiveDefs(_,w,h),d.unshift(...w,_),_m(o,s,w.length)}else d.unshift(_),_m(o,s,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,d,h),d.push(_)}return null===d?null:[d,h]}(o,c);let _,w;null===g?_=w=null:[_,w]=g,null!==_&&LT(o,s,c,_,h,w),h&&function vm(o,s,c){if(s){const d=o.localNames=[];for(let h=0;h<s.length;h+=2){const g=c[s[h+1]];if(null==g)throw new ge(-301,!1);d.push(s[h],g)}}}(c,d,h)}c.mergedAttrs=ao(c.mergedAttrs,c.attrs)}function LT(o,s,c,d,h,g){for(let S=0;S<d.length;S++)Ua(Js(c,s),o,d[S].type);!function xw(o,s,c){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+c,o.providerIndexes=s}(c,o.data.length,d.length);for(let S=0;S<d.length;S++){const P=d[S];P.providersResolver&&P.providersResolver(P)}let _=!1,w=!1,E=tp(o,s,d.length,null);for(let S=0;S<d.length;S++){const P=d[S];c.mergedAttrs=ao(c.mergedAttrs,P.hostAttrs),jT(o,c,s,E,P),BT(E,P,h),null!==P.contentQueries&&(c.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(c.flags|=64);const R=P.type.prototype;!_&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((o.preOrderHooks??(o.preOrderHooks=[])).push(c.index),_=!0),!w&&(R.ngOnChanges||R.ngDoCheck)&&((o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(c.index),w=!0),E++}!function Ew(o,s,c){const h=s.directiveEnd,g=o.data,_=s.attrs,w=[];let E=null,S=null;for(let P=s.directiveStart;P<h;P++){const R=g[P],q=c?c.get(R):null,be=q?q.outputs:null;E=Jd(R.inputs,P,E,q?q.inputs:null),S=Jd(R.outputs,P,S,be);const Le=null===E||null===_||T_(s)?null:HT(E,P,_);w.push(Le)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=8),E.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=w,s.inputs=E,s.outputs=S}(o,c,g)}function V_(o,s,c){const d=c.directiveStart,h=c.directiveEnd,g=c.index,_=function Wc(){return Pt.lFrame.currentDirectiveIndex}();try{Gs(g);for(let w=d;w<h;w++){const E=o.data[w],S=s[w];Kc(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&VT(E,S)}}finally{Gs(-1),Kc(_)}}function VT(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function _m(o,s,c){s.componentOffset=c,(o.components??(o.components=[])).push(s.index)}function BT(o,s,c){if(c){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)c[s.exportAs[d]]=o;Wr(s)&&(c[""]=o)}}function jT(o,s,c,d,h){o.data[d]=h;const g=h.factory||(h.factory=is(h.type)),_=new Ro(g,Wr(h),Qa);o.blueprint[d]=_,c[d]=_,function SA(o,s,c,d,h){const g=h.hostBindings;if(g){let _=o.hostBindingOpCodes;null===_&&(_=o.hostBindingOpCodes=[]);const w=~s.index;(function AA(o){let s=o.length;for(;s>0;){const c=o[--s];if("number"==typeof c&&c<0)return c}return 0})(_)!=w&&_.push(w),_.push(c,d,g)}}(o,s,d,tp(o,c,h.hostVars,At),h)}function Is(o,s,c,d,h,g){const _=Wn(o,s);!function B_(o,s,c,d,h,g,_){if(null==g)o.removeAttribute(s,h,c);else{const w=null==_?De(g):_(g,d||"",h);o.setAttribute(s,h,w,c)}}(s[Bt],_,g,o.value,c,d,h)}function Sw(o,s,c,d,h,g){const _=g[s];if(null!==_){const w=d.setInput;for(let E=0;E<_.length;){const S=_[E++],P=_[E++],R=_[E++];null!==w?d.setInput(c,R,S,P):c[P]=R}}}function HT(o,s,c){let d=null,h=0;for(;h<c.length;){const g=c[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===d&&(d=[]);const _=o[g];for(let w=0;w<_.length;w+=2)if(_[w]===s){d.push(g,_[w+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function j_(o,s,c,d){return[o,!0,!1,s,null,0,d,c,null,null]}function Aw(o,s){const c=Xn(s,o);if(qs(c)){const d=c[Je];48&c[Rt]?pm(d,c,d.template,c[An]):c[to]>0&&$_(c)}}function $_(o){for(let d=za(o);null!==d;d=ho(d))for(let h=Pr;h<d.length;h++){const g=d[h];if(qs(g))if(512&g[Rt]){const _=g[Je];pm(_,g,_.template,g[An])}else g[to]>0&&$_(g)}const c=o[Je].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Xn(c[d],o);qs(h)&&h[to]>0&&$_(h)}}function Xd(o,s){const c=Xn(s,o),d=c[Je];(function ZT(o,s){for(let c=s.length;c<o.blueprint.length;c++)s.push(o.blueprint[c])})(d,c),vw(d,c,c[An])}function eh(o,s){return o[Po]?o[Nc][Ur]=s:o[Po]=s,o[Nc]=s,s}function bm(o){for(;o;){o[Rt]|=32;const s=jo(o);if(ba(o)&&!s)return o;o=s}return null}function th(o,s,c,d=!0){const h=s[Ar];h.begin&&h.begin();try{pm(o,s,o.template,c)}catch(_){throw d&&Cm(s,_),_}finally{h.end&&h.end()}}function Z_(o,s,c){Yc(0),s(o,c)}function Mw(o){return o[Vr]||(o[Vr]=[])}function z_(o){return o.cleanup||(o.cleanup=[])}function Cm(o,s){const c=o[Rs],d=c?c.get(Wd,null):null;d&&d.handleError(s)}function q_(o,s,c,d,h){for(let g=0;g<c.length;){const _=c[g++],w=c[g++],E=s[_],S=o.data[_];null!==S.setInput?S.setInput(E,h,d,w):E[w]=h}}function rp(o,s,c){let d=c?o.styles:null,h=c?o.classes:null,g=0;if(null!==s)for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?g=w:1==g?h=he(h,w):2==g&&(d=he(d,w+": "+s[++_]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}function Em(o,s,c,d,h=!1){for(;null!==c;){const g=s[c.index];if(null!==g&&d.push(Un(g)),Ei(g))for(let w=Pr;w<g.length;w++){const E=g[w],S=E[Je].firstChild;null!==S&&Em(E[Je],E,S,d)}const _=c.type;if(8&_)Em(o,s,c.child,d);else if(32&_){const w=hu(c,s);let E;for(;E=w();)d.push(E)}else if(16&_){const w=qg(s,c);if(Array.isArray(w))d.push(...w);else{const E=jo(s[Mr]);Em(E[Je],E,w,d,!0)}}c=h?c.projectionNext:c.next}return d}class Im{get rootNodes(){const s=this._lView,c=s[Je];return Em(c,s,c.firstChild,[])}constructor(s,c){this._lView=s,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[An]}set context(s){this._lView[An]=s}get destroyed(){return 128==(128&this._lView[Rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[wn];if(Ei(s)){const c=s[ns],d=c?c.indexOf(this):-1;d>-1&&(Nf(s,d),ja(c,d))}this._attachedToViewContainer=!1}Td(this._lView[Je],this._lView)}onDestroy(s){kT(this._lView[Je],this._lView,null,s)}markForCheck(){bm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rt]&=-65}reattach(){this._lView[Rt]|=64}detectChanges(){th(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ed(o,s){ql(o,s,s[Bt],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=s}}class G_ extends Im{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;th(s[Je],s,s[An],!1)}checkNoChanges(){}get context(){return null}}class Ow extends Wf{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=nn(s);return new ip(c,this.ngModule)}}function W_(o){const s=[];for(let c in o)o.hasOwnProperty(c)&&s.push({propName:o[c],templateName:c});return s}class Cu{constructor(s,c){this.injector=s,this.parentInjector=c}get(s,c,d){d=et(d);const h=this.injector.get(s,v_,d);return h!==v_||c===v_?h:this.parentInjector.get(s,c,d)}}class ip extends Gf{get inputs(){return W_(this.componentDef.inputs)}get outputs(){return W_(this.componentDef.outputs)}constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=function dw(o){return o.map(uw).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}create(s,c,d,h){let g=(h=h||this.ngModule)instanceof vu?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new Cu(s,g):s,w=_.get(Xl,null);if(null===w)throw new ge(407,!1);const E=_.get(ew,null),S=w.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",R=d?function OT(o,s,c){return o.selectRootElement(s,c===ee.ShadowDom)}(S,d,this.componentDef.encapsulation):fu(S,P,function kw(o){const s=o.toLowerCase();return"svg"===s?kn:"math"===s?"math":null}(P)),q=this.componentDef.onPush?288:272,X=mm(0,null,null,1,0,null,null,null,null,null),be=ep(null,X,null,q,null,null,w,S,E,_,null);let Le,Ge;bl(be);try{const ut=this.componentDef;let xt,Oe=null;ut.findHostDirectiveDefs?(xt=[],Oe=new Map,ut.findHostDirectiveDefs(ut,xt,Oe),xt.push(ut)):xt=[ut];const Vt=function Rw(o,s){const c=o[Je],d=mn;return o[d]=s,Qd(c,d,2,"#host",null)}(be,R),$n=function qT(o,s,c,d,h,g,_,w){const E=h[Je];!function GT(o,s,c,d){for(const h of o)s.mergedAttrs=ao(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(rp(s,s.mergedAttrs,!0),null!==c&&Uf(d,c,s))}(d,o,s,_);const S=g.createRenderer(s,c),P=ep(h,Cw(c),null,c.onPush?32:16,h[o.index],o,g,S,w||null,null,null);return E.firstCreatePass&&_m(E,o,d.length-1),eh(h,P),h[o.index]=P}(Vt,R,ut,xt,be,w,S);Ge=zs(X,mn),R&&function Fw(o,s,c,d){if(d)Mn(o,c,["ng-version",nw.full]);else{const{attrs:h,classes:g}=function Mi(o){const s=[],c=[];let d=1,h=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===h?""!==g&&s.push(g,o[++d]):8===h&&c.push(g);else{if(!Zo(h))break;h=g}d++}return{attrs:s,classes:c}}(s.selectors[0]);h&&Mn(o,c,h),g&&g.length>0&&bs(o,c,g.join(" "))}}(S,ut,R,d),void 0!==c&&function WT(o,s,c){const d=o.projection=[];for(let h=0;h<s.length;h++){const g=c[h];d.push(null!=g?Array.from(g):null)}}(Ge,this.ngContentSelectors,c),Le=function K_(o,s,c,d,h,g){const _=vr(),w=h[Je],E=Wn(_,h);LT(w,h,_,c,null,d);for(let P=0;P<c.length;P++)Vn(Wi(h,w,_.directiveStart+P,_),h);V_(w,h,_),E&&Vn(E,h);const S=Wi(h,w,_.directiveStart+_.componentOffset,_);if(o[An]=h[An]=S,null!==g)for(const P of g)P(S,s);return bw(w,_,o),S}($n,ut,xt,Oe,be,[Lw]),vw(X,be,null)}finally{Cg()}return new Nw(this.componentType,Le,bu(Ge,be),be,Ge)}}class Nw extends hT{constructor(s,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new G_(h),this.componentType=s}setInput(s,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[s])){const g=this._rootLView;q_(g[Je],g,h,s,c),bm(Xn(this._tNode.index,g))}}get injector(){return new Ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Lw(){const o=vr();Sa(_e()[Je],o)}function Tm(o){let s=function Uw(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;s;){let h;if(Wr(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ge(903,!1);h=s.\u0275dir}if(h){if(c){d.push(h);const _=o;_.inputs=Eu(o.inputs),_.declaredInputs=Eu(o.declaredInputs),_.outputs=Eu(o.outputs);const w=h.hostBindings;w&&OA(o,w);const E=h.viewQuery,S=h.contentQueries;if(E&&YT(o,E),S&&op(o,S),me(o.inputs,h.inputs),me(o.declaredInputs,h.declaredInputs),me(o.outputs,h.outputs),Wr(h)&&h.data.animation){const P=o.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const w=g[_];w&&w.ngInherit&&w(o),w===Tm&&(c=!1)}}s=Object.getPrototypeOf(s)}!function KT(o){let s=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=s+=h.hostVars,h.hostAttrs=ao(h.hostAttrs,c=ao(c,h.hostAttrs))}}(d)}function Eu(o){return o===Qe?{}:o===Ke?[]:o}function YT(o,s){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{s(d,h),c(d,h)}:s}function op(o,s){const c=o.contentQueries;o.contentQueries=c?(d,h,g)=>{s(d,h,g),c(d,h,g)}:s}function OA(o,s){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{s(d,h),c(d,h)}:s}function Y_(o){return!!_t(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function _t(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function yn(o,s,c){return!Object.is(o[s],c)&&(o[s]=c,!0)}function Ts(o,s,c,d){const h=_e();return yn(h,cs(),s)&&(Xt(),Is(Cn(),h,o,s,c,d)),Ts}function tv(o,s,c,d,h,g,_,w){const E=_e(),S=Xt(),P=o+mn,R=S.firstCreatePass?function xm(o,s,c,d,h,g,_,w,E){const S=s.consts,P=Qd(s,o,4,_||null,io(S,w));Tw(s,c,P,io(S,E)),Sa(s,P);const R=P.tView=mm(2,P,d,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,P),R.queries=s.queries.embeddedTView(P)),P}(P,S,E,s,c,d,h,g,_):S.data[P];Yr(R,!1);const q=E[Bt].createComment("");Ka(S,E,q,R),Vn(q,E),eh(E,E[P]=j_(q,E,q,R)),Rc(R)&&ww(S,E,R),null!=_&&np(E,R,w)}function Sm(o,s,c){const d=_e();return yn(d,cs(),s)&&function ii(o,s,c,d,h,g,_,w){const E=Wn(s,c);let P,S=s.inputs;!w&&null!=S&&(P=S[d])?(q_(o,c,P,d,h),Ii(s)&&function xA(o,s){const c=Xn(s,o);16&c[Rt]||(c[Rt]|=32)}(c,s.index)):3&s.type&&(d=function Iw(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=_?_(h,s.value||"",d):h,g.setProperty(E,d,h))}(Xt(),Cn(),d,o,s,d[Bt],c,!1),Sm}function iv(o,s,c,d,h){const _=h?"class":"style";q_(o,c,s.inputs[_],_,d)}function Am(o,s,c,d){const h=_e(),g=Xt(),_=mn+o,w=h[Bt],E=g.firstCreatePass?function nD(o,s,c,d,h,g){const _=s.consts,E=Qd(s,o,2,d,io(_,h));return Tw(s,c,E,io(_,g)),null!==E.attrs&&rp(E,E.attrs,!1),null!==E.mergedAttrs&&rp(E,E.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,E),E}(_,g,h,s,c,d):g.data[_],S=h[_]=fu(w,s,function Eg(){return Pt.lFrame.currentNamespace}()),P=Rc(E);return Yr(E,!0),Uf(w,S,E),32!=(32&E.flags)&&Ka(g,h,S,E),0===function pl(){return Pt.lFrame.elementDepthCount}()&&Vn(S,h),function $c(){Pt.lFrame.elementDepthCount++}(),P&&(ww(g,h,E),bw(g,E,h)),null!==d&&np(h,E),Am}function rc(){let o=vr();yl()?_l():(o=o.parent,Yr(o,!1));const s=o;!function Zc(){Pt.lFrame.elementDepthCount--}();const c=Xt();return c.firstCreatePass&&(Sa(c,o),va(o)&&c.queries.elementEnd(o)),null!=s.classesWithoutHost&&function ld(o){return 0!=(8&o.flags)}(s)&&iv(c,s,_e(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function pf(o){return 0!=(16&o.flags)}(s)&&iv(c,s,_e(),s.stylesWithoutHost,!1),rc}function ov(o,s,c,d){return Am(o,s,c,d),rc(),ov}function sv(o,s,c){const d=_e(),h=Xt(),g=o+mn,_=h.firstCreatePass?function zw(o,s,c,d,h){const g=s.consts,_=io(g,d),w=Qd(s,o,8,"ng-container",_);return null!==_&&rp(w,_,!0),Tw(s,c,w,io(g,h)),null!==s.queries&&s.queries.elementStart(s,w),w}(g,h,d,s,c):h.data[g];Yr(_,!0);const w=d[g]=d[Bt].createComment("");return Ka(h,d,w,_),Vn(w,d),Rc(_)&&(ww(h,d,_),bw(h,_,d)),null!=c&&np(d,_),sv}function av(){let o=vr();const s=Xt();return yl()?_l():(o=o.parent,Yr(o,!1)),s.firstCreatePass&&(Sa(s,o),va(o)&&s.queries.elementEnd(o)),av}function iD(){return _e()}function qw(o){return!!o&&"function"==typeof o.then}function oD(o){return!!o&&"function"==typeof o.subscribe}const Gw=oD;function lv(o,s,c,d){const h=_e(),g=Xt(),_=vr();return function aD(o,s,c,d,h,g,_){const w=Rc(d),S=o.firstCreatePass&&z_(o),P=s[An],R=Mw(s);let q=!0;if(3&d.type||_){const Le=Wn(d,s),Ge=_?_(Le):Le,ut=R.length,xt=_?Vt=>_(Un(Vt[d.index])):d.index;let Oe=null;if(!_&&w&&(Oe=function sD(o,s,c,d){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===c&&h[g+1]===d){const w=s[Vr],E=h[g+2];return w.length>E?w[E]:null}"string"==typeof _&&(g+=2)}return null}(o,s,h,d.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=g,Oe.__ngLastListenerFn__=g,q=!1;else{g=Kw(d,s,P,g,!1);const Vt=c.listen(Ge,h,g);R.push(g,Vt),S&&S.push(h,xt,ut,ut+1)}}else g=Kw(d,s,P,g,!1);const X=d.outputs;let be;if(q&&null!==X&&(be=X[h])){const Le=be.length;if(Le)for(let Ge=0;Ge<Le;Ge+=2){const $n=s[be[Ge]][be[Ge+1]].subscribe(g),sr=R.length;R.push(g,$n),S&&S.push(h,d.index,sr,-(sr+1))}}}(g,h,h[Bt],_,o,s,d),lv}function Ww(o,s,c,d){try{return Kr(6,s,c),!1!==c(d)}catch(h){return Cm(o,h),!1}finally{Kr(7,s,c)}}function Kw(o,s,c,d,h){return function g(_){if(_===Function)return d;bm(o.componentOffset>-1?Xn(o.index,s):s);let E=Ww(s,c,d,_),S=g.__ngNextListenerFn__;for(;S;)E=Ww(s,c,S,_)&&E,S=S.__ngNextListenerFn__;return h&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function uv(o=1){return function Xy(o){return(Pt.lFrame.contextLView=function sd(o,s){for(;o>0;)s=s[wi],o--;return s}(o,Pt.lFrame.contextLView))[An]}(o)}function lp(o,s){return o<<17|s<<2}function ic(o){return o>>17&32767}function tC(o){return 2|o}function ah(o){return(131068&o)>>2}function nC(o,s){return-131069&o|s<<2}function rC(o){return 1|o}function lh(o,s,c,d,h){const g=o[c+1],_=null===s;let w=d?ic(g):ah(g),E=!1;for(;0!==w&&(!1===E||_);){const P=o[w+1];fD(o[w],s)&&(E=!0,o[w+1]=d?rC(P):tC(P)),w=d?ic(P):ah(P)}E&&(o[c+1]=d?tC(g):rC(g))}function fD(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Di(o,s)>=0}function pv(o,s,c){return Qi(o,s,c,!1),pv}function Ds(o,s){return Qi(o,s,null,!0),Ds}function Qi(o,s,c,d){const h=_e(),g=Xt(),_=function qi(o){const s=Pt.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,c}(2);g.firstUpdatePass&&function Om(o,s,c,d){const h=o.data;if(null===h[c+1]){const g=h[jr()],_=function sC(o,s){return s>=o.expandoStartIndex}(o,c);(function _v(o,s){return 0!=(o.flags&(s?8:16))})(g,d)&&null===s&&!_&&(s=!1),s=function mD(o,s,c,d){const h=function oo(o){const s=Pt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let g=d?s.residualClasses:s.residualStyles;if(null===h)0===(d?s.classBindings:s.styleBindings)&&(c=hr(c=uh(null,o,s,c,d),s.attrs,d),g=null);else{const _=s.directiveStylingLast;if(-1===_||o[_]!==h)if(c=uh(h,o,s,c,d),null===g){let E=function yD(o,s,c){const d=c?s.classBindings:s.styleBindings;if(0!==ah(d))return o[ic(d)]}(o,s,d);void 0!==E&&Array.isArray(E)&&(E=uh(null,o,s,E[1],d),E=hr(E,s.attrs,d),function _D(o,s,c,d){o[ic(c?s.classBindings:s.styleBindings)]=d}(o,s,d,E))}else g=function mi(o,s,c){let d;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)d=hr(d,o[g].hostAttrs,c);return hr(d,s.attrs,c)}(o,s,d)}return void 0!==g&&(d?s.residualClasses=g:s.residualStyles=g),c}(h,g,s,d),function hD(o,s,c,d,h,g){let _=g?s.classBindings:s.styleBindings,w=ic(_),E=ah(_);o[d]=c;let P,S=!1;if(Array.isArray(c)?(P=c[1],(null===P||Di(c,P)>0)&&(S=!0)):P=c,h)if(0!==E){const q=ic(o[w+1]);o[d+1]=lp(q,w),0!==q&&(o[q+1]=nC(o[q+1],d)),o[w+1]=function LA(o,s){return 131071&o|s<<17}(o[w+1],d)}else o[d+1]=lp(w,0),0!==w&&(o[w+1]=nC(o[w+1],d)),w=d;else o[d+1]=lp(E,0),0===w?w=d:o[E+1]=nC(o[E+1],d),E=d;S&&(o[d+1]=tC(o[d+1])),lh(o,P,d,!0),lh(o,P,d,!1),function oi(o,s,c,d,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof s&&Di(g,s)>=0&&(c[d+1]=rC(c[d+1]))}(s,P,o,d,g),_=lp(w,E),g?s.classBindings=_:s.styleBindings=_}(h,g,s,c,_,d)}}(g,o,_,d),s!==At&&yn(h,_,s)&&function yv(o,s,c,d,h,g,_,w){if(!(3&s.type))return;const E=o.data,S=E[w+1],P=function dD(o){return 1==(1&o)}(S)?si(E,s,c,h,ah(S),_):void 0;km(P)||(km(g)||function FA(o){return 2==(2&o)}(S)&&(g=si(E,null,c,h,w,_)),function Lf(o,s,c,d,h){if(s)h?o.addClass(c,d):o.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:uo.DashCase;null==h?o.removeStyle(c,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=uo.Important),o.setStyle(c,d,h,g))}}(d,_,as(jr(),c),h,g))}(g,g.data[jr()],h,h[Bt],o,h[_+1]=function Nm(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=fe(b(o)))),o}(s,c),d,_)}function uh(o,s,c,d,h){let g=null;const _=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<_&&(g=s[w],d=hr(d,g.hostAttrs,h),g!==o);)w++;return null!==o&&(c.directiveStylingLast=w),d}function hr(o,s,c){const d=c?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const _=s[g];"number"==typeof _?h=_:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Hr(o,_,!!c||s[++g]))}return void 0===o?null:o}function si(o,s,c,d,h,g){const _=null===s;let w;for(;h>0;){const E=o[h],S=Array.isArray(E),P=S?E[1]:E,R=null===P;let q=c[h+1];q===At&&(q=R?Ke:void 0);let X=R?ta(q,d):P===d?q:void 0;if(S&&!km(X)&&(X=ta(E,d)),km(X)&&(w=X,_))return w;const be=o[h+1];h=_?ic(be):ah(be)}if(null!==s){let E=g?s.residualClasses:s.residualStyles;null!=E&&(w=ta(E,d))}return w}function km(o){return void 0!==o}function Rm(o,s=""){const c=_e(),d=Xt(),h=o+mn,g=d.firstCreatePass?Qd(d,h,1,s,null):d.data[h],_=c[h]=function Of(o,s){return o.createText(s)}(c[Bt],s);Ka(d,c,_,g),Yr(g,!1)}function dh(o){return _o("",o,""),dh}function _o(o,s,c){const d=_e(),h=function nh(o,s,c,d){return yn(o,cs(),c)?s+De(c)+d:At}(d,o,s,c);return h!==At&&function Ja(o,s,c){const d=as(s,o);!function Hl(o,s,c){o.setValue(s,c)}(o[Bt],d,c)}(d,jr(),h),_o}const ac=void 0;var mC=["en",[["a","p"],["AM","PM"],ac],[["AM","PM"],ac,ac],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ac,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ac,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ac,"{1} 'at' {0}",ac],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Pv(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let hh={};function gp(o){const s=function TD(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=Zr(s);if(c)return c;const d=s.split("-")[0];if(c=Zr(d),c)return c;if("en"===d)return mC;throw new ge(701,!1)}function kr(o){return gp(o)[Et.PluralCase]}function Zr(o){return o in hh||(hh[o]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[o]),hh[o]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const fh="en-US";let kv=fh;function Dp(o,s,c,d,h){if(o=W(o),Array.isArray(o))for(let g=0;g<o.length;g++)Dp(o[g],s,c,d,h);else{const g=Xt(),_=_e();let w=_u(o)?o:W(o.provide),E=Cs(o);const S=vr(),P=1048575&S.providerIndexes,R=S.directiveStart,q=S.providerIndexes>>20;if(_u(o)||!o.multi){const X=new Ro(E,h,Qa),be=ey(w,s,h?P:P+q,R);-1===be?(Ua(Js(S,_),g,w),xp(g,o,s.length),s.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),c.push(X),_.push(X)):(c[be]=X,_[be]=X)}else{const X=ey(w,s,P+q,R),be=ey(w,s,P,P+q),Ge=be>=0&&c[be];if(h&&!Ge||!h&&!(X>=0&&c[X])){Ua(Js(S,_),g,w);const ut=function jD(o,s,c,d,h){const g=new Ro(o,c,Qa);return g.multi=[],g.index=s,g.componentProviders=0,Zv(g,h,d&&!c),g}(h?BD:zv,c.length,h,d,E);!h&&Ge&&(c[be].providerFactory=ut),xp(g,o,s.length,0),s.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),c.push(ut),_.push(ut)}else xp(g,o,X>-1?X:be,Zv(c[h?be:X],E,!h&&d));!h&&d&&Ge&&c[be].componentProviders++}}}function xp(o,s,c,d){const h=_u(s),g=function aT(o){return!!o.useClass}(s);if(h||g){const E=(g?W(s.useClass):s).prototype.ngOnDestroy;if(E){const S=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const P=S.indexOf(c);-1===P?S.push(c,[d,E]):S[P+1].push(d,E)}else S.push(c,E)}}}function Zv(o,s,c){return c&&o.componentProviders++,o.multi.push(s)-1}function ey(o,s,c,d){for(let h=c;h<d;h++)if(s[h]===o)return h;return-1}function zv(o,s,c,d){return qv(this.multi,[])}function BD(o,s,c,d){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Wi(c,c[Je],this.providerFactory.index,d);g=w.slice(0,_),qv(h,g);for(let E=_;E<w.length;E++)g.push(w[E])}else g=[],qv(h,g);return g}function qv(o,s){for(let c=0;c<o.length;c++)s.push((0,o[c])());return s}function Sp(o,s=[]){return c=>{c.providersResolver=(d,h)=>function zC(o,s,c){const d=Xt();if(d.firstCreatePass){const h=Wr(o);Dp(c,d.data,d.blueprint,h,!0),Dp(s,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,s)}}class da{}class Ap{}function Gv(o,s){return new _h(o,s??null)}class _h extends da{constructor(s,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ow(this);const d=xr(s);this._bootstrapComponents=ca(d.bootstrap),this._r3Injector=IT(s,c,[{provide:da,useValue:this},{provide:Wf,useValue:this.componentFactoryResolver}],fe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Pu extends Ap{constructor(s){super(),this.moduleType=s}create(s){return new _h(this.moduleType,s)}}class $D extends da{constructor(s,c,d){super(),this.componentFactoryResolver=new Ow(this),this.instance=null;const h=new lT([...s,{provide:da,useValue:this},{provide:Wf,useValue:this.componentFactoryResolver}],c||qf(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function jn(o,s,c=null){return new $D(o,s,c).injector}let qC=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=qb(0,c.type),h=d.length>0?jn([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=le({token:o,providedIn:"environment",factory:()=>new o(un(vu))}),o})();function GC(o){o.getStandaloneInjector=s=>s.get(qC).getOrCreateStandaloneInjector(o)}function t0(o,s,c,d){return fc(_e(),er(),o,s,c,d)}function fc(o,s,c,d,h,g){const _=s+c;return yn(o,_,h)?function zo(o,s,c){return o[s]=c}(o,_+1,g?d.call(g,h):d(h)):function bh(o,s){const c=o[s];return c===At?void 0:c}(o,_+1)}function Pp(o,s){const c=Xt();let d;const h=o+mn;c.firstCreatePass?(d=function vo(o,s){if(s)for(let c=s.length-1;c>=0;c--){const d=s[c];if(o===d.name)return d}}(s,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks??(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const g=d.factory||(d.factory=is(d.type)),_=Sn(Qa);try{const w=Ys(!1),E=g();return Ys(w),function nv(o,s,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),s[c]=d}(c,_e(),h,E),E}finally{Sn(_)}}function c0(o,s,c){const d=o+mn,h=_e(),g=function ls(o,s){return o[s]}(h,d);return function Op(o,s){return o[Je].data[s].pure}(h,d)?fc(h,er(),s,g.transform,c,g):g.transform(c)}function iy(o){return s=>{setTimeout(o,void 0,s)}}const ha=class WD extends a.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,c,d){let h=s,g=c||(()=>null),_=d;if(s&&"object"==typeof s){const E=s;h=E.next?.bind(E),g=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(g=iy(g),h&&(h=iy(h)),_&&(_=iy(_)));const w=super.subscribe({next:h,error:g,complete:_});return s instanceof J.w0&&s.add(w),w}};function oy(){return this._results[Symbol.iterator]()}class d0{get changes(){return this._changes||(this._changes=new ha)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=d0.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=oy)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){const d=this;d.dirty=!1;const h=function Jr(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function su(o,s,c){if(o.length!==s.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],g=s[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ch=(()=>{class o{}return o.__NG_ELEMENT_ID__=pc,o})();const zr=Ch,Eh=class extends zr{constructor(s,c,d){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(s,c){const d=this._declarationTContainer.tView,h=ep(this._declarationLView,d,s,16,null,d.declTNode,null,null,null,null,c||null);h[Fs]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[Ci];return null!==_&&(h[Ci]=_.createEmbeddedView(d)),vw(d,h,s),new Im(h)}};function pc(){return Ih(vr(),_e())}function Ih(o,s){return 4&o.type?new Eh(s,o,bu(o,s)):null}let sy=(()=>{class o{}return o.__NG_ELEMENT_ID__=Re,o})();function Re(){return pt(vr(),_e())}const fr=sy,gc=class extends fr{constructor(s,c,d){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=d}get element(){return bu(this._hostTNode,this._hostLView)}get injector(){return new Ti(this._hostTNode,this._hostLView)}get parentInjector(){const s=Tl(this._hostTNode,this._hostLView);if(eu(s)){const c=El(s,this._hostLView),d=ka(s);return new Ti(c[Je].data[d+8],c)}return new Ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=ay(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-Pr}createEmbeddedView(s,c,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const _=s.createEmbeddedView(c||{},g);return this.insert(_,h),_}createComponent(s,c,d,h,g){const _=s&&!function Nl(o){return"function"==typeof o}(s);let w;if(_)w=c;else{const R=c||{};w=R.index,d=R.injector,h=R.projectableNodes,g=R.environmentInjector||R.ngModuleRef}const E=_?s:new ip(nn(s)),S=d||this.parentInjector;if(!g&&null==E.ngModule){const q=(_?S:this.parentInjector).get(vu,null);q&&(g=q)}const P=E.create(S,h,void 0,g);return this.insert(P.hostView,w),P}insert(s,c){const d=s._lView,h=d[Je];if(function hl(o){return Ei(o[wn])}(d)){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const R=d[wn],q=new gc(R,R[Gn],R[wn]);q.detach(q.indexOf(s))}}const g=this._adjustIndex(c),_=this._lContainer;!function Ho(o,s,c,d){const h=Pr+d,g=c.length;d>0&&(c[h-1][Ur]=s),d<g-Pr?(s[Ur]=c[h],Rl(c,Pr+d,s)):(c.push(s),s[Ur]=null),s[wn]=c;const _=s[Fs];null!==_&&c!==_&&function qa(o,s){const c=o[_r];s[Mr]!==s[wn][wn][Mr]&&(o[Yu]=!0),null===c?o[_r]=[s]:c.push(s)}(_,s);const w=s[Ci];null!==w&&w.insertView(o),s[Rt]|=64}(h,d,_,g);const w=ni(g,_),E=d[Bt],S=Wa(E,_[Ls]);return null!==S&&function ia(o,s,c,d,h,g){d[ui]=h,d[Gn]=s,ql(o,d,c,1,h,g)}(h,_[Gn],E,d,S,w),s.attachToViewContainerRef(),Rl(nt(_),g,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=ay(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),d=Nf(this._lContainer,c);d&&(ja(nt(this._lContainer),c),Td(d[Je],d))}detach(s){const c=this._adjustIndex(s,-1),d=Nf(this._lContainer,c);return d&&null!=ja(nt(this._lContainer),c)?new Im(d):null}_adjustIndex(s,c=0){return s??this.length+c}};function ay(o){return o[ns]}function nt(o){return o[ns]||(o[ns]=[])}function pt(o,s){let c;const d=s[o.index];if(Ei(d))c=d;else{let h;if(8&o.type)h=Un(d);else{const g=s[Bt];h=g.createComment("");const _=Wn(o,s);Ga(g,Wa(g,_),h,function Ad(o,s){return o.nextSibling(s)}(g,_),!1)}s[o.index]=c=j_(d,s,h,o),eh(s,c)}return new gc(c,o,s)}class h0{constructor(s){this.queryList=s,this.matches=null}clone(){return new h0(this.queryList)}setDirty(){this.queryList.setDirty()}}class qe{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const d=null!==s.contentQueries?s.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const _=c.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new qe(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==Fn(s,c).matches&&this.queries[c].setDirty()}}class de{constructor(s,c,d=null){this.predicate=s,this.flags=c,this.read=d}}class Ae{constructor(s=[]){this.queries=s}elementStart(s,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(s,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Ae(c):null}template(s,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class pr{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new pr(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(s,c,iE(c,g)),this.matchTNodeWithReadOption(s,c,gs(c,s,g,!1,!1))}else d===Ch?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,gs(c,s,d,!1,!1))}matchTNodeWithReadOption(s,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Kf||h===sy||h===Ch&&4&c.type)this.addMatch(c.index,-2);else{const g=gs(c,s,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function iE(o,s){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===s)return c[d+1];return null}function YD(o,s,c,d){return-1===c?function KD(o,s){return 11&o.type?bu(o,s):4&o.type?Ih(o,s):null}(s,o):-2===c?function QD(o,s,c){return c===Kf?bu(s,o):c===Ch?Ih(s,o):c===sy?pt(s,o):void 0}(o,s,d):Wi(o,o[Je],c,s)}function oE(o,s,c,d){const h=s[Ci].queries[d];if(null===h.matches){const g=o.data,_=c.matches,w=[];for(let E=0;E<_.length;E+=2){const S=_[E];w.push(S<0?null:YD(s,g[S],_[E+1],c.metadata.read))}h.matches=w}return h.matches}function f0(o,s,c,d){const h=o.queries.getByIndex(c),g=h.matches;if(null!==g){const _=oE(o,s,h,c);for(let w=0;w<g.length;w+=2){const E=g[w];if(E>0)d.push(_[w/2]);else{const S=g[w+1],P=s[-E];for(let R=Pr;R<P.length;R++){const q=P[R];q[Fs]===q[wn]&&f0(q[Je],q,S,d)}if(null!==P[_r]){const R=P[_r];for(let q=0;q<R.length;q++){const X=R[q];f0(X[Je],X,S,d)}}}}}return d}function p0(o){const s=_e(),c=Xt(),d=id();Yc(d+1);const h=Fn(c,d);if(o.dirty&&function Ea(o){return 4==(4&o[Rt])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?f0(c,s,d,[]):oE(c,s,h,d);o.reset(g,Xb),o.notifyOnChanges()}return!0}return!1}function XD(o,s,c,d){const h=Xt();if(h.firstCreatePass){const g=vr();(function Ou(o,s,c){null===o.queries&&(o.queries=new Ae),o.queries.track(new pr(s,c))})(h,new de(s,c,d),g.index),function lE(o,s){const c=o.contentQueries||(o.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,s)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}!function Ut(o,s,c){const d=new d0(4==(4&c));kT(o,s,d,d.destroy),null===s[Ci]&&(s[Ci]=new qe),s[Ci].queries.push(new h0(d))}(h,_e(),c)}function sE(){return function aE(o,s){return o[Ci].queries[s].queryList}(_e(),id())}function Fn(o,s){return o.queries.getByIndex(s)}function rl(o){return!!xr(o)}function Ph(...o){}const C0=new Jt("Application Initializer");let Up=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Ph,this.reject=Ph,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(qw(g))c.push(g);else if(Gw(g)){const _=new Promise((w,E)=>{g.subscribe({complete:w,error:E})});c.push(_)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(un(C0,8))},o.\u0275prov=le({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Vp=new Jt("AppId",{providedIn:"root",factory:function Oh(){return`${E0()}${E0()}${E0()}`}});function E0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gE=new Jt("Platform Initializer"),mE=new Jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bc=new Jt("AnimationModuleType");let yE=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=le({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Bp=new Jt("LocaleId",{providedIn:"root",factory:()=>Ee(Bp,tt.Optional|tt.SkipSelf)||function _E(){return typeof $localize<"u"&&$localize.locale||fh}()}),tn=new Jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class I0{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}let bE=(()=>{class o{compileModuleSync(c){return new Pu(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=ca(xr(c).declarations).reduce((_,w)=>{const E=nn(w);return E&&_.push(new ip(E)),_},[]);return new I0(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=le({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const EE=(()=>Promise.resolve(0))();function x0(o){typeof Zone>"u"?EE.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Wo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ha(!1),this.onMicrotaskEmpty=new ha(!1),this.onStable=new ha(!1),this.onError=new ha(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function IE(){let o=fn.requestAnimationFrame,s=fn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function gy(o){const s=()=>{!function or(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(fn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Rr(o),o.isCheckStableRunning=!0,S0(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Rr(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,_,w)=>{try{return vn(o),c.invokeTask(h,g,_,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&s(),A0(o)}},onInvoke:(c,d,h,g,_,w,E)=>{try{return vn(o),c.invoke(h,g,_,w,E)}finally{o.shouldCoalesceRunChangeDetection&&s(),A0(o)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,Rr(o),S0(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wo.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(Wo.isInAngularZone())throw new ge(909,!1)}run(s,c,d){return this._inner.run(s,c,d)}runTask(s,c,d,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,s,kh,Ph,Ph);try{return g.runTask(_,c,d)}finally{g.cancelTask(_)}}runGuarded(s,c,d){return this._inner.runGuarded(s,c,d)}runOutsideAngular(s){return this._outer.run(s)}}const kh={};function S0(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Rr(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function vn(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function A0(o){o._nesting--,S0(o)}class Nh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ha,this.onMicrotaskEmpty=new ha,this.onStable=new ha,this.onError=new ha}run(s,c,d){return s.apply(c,d)}runGuarded(s,c,d){return s.apply(c,d)}runOutsideAngular(s){return s()}runTask(s,c,d,h){return s.apply(c,d)}}const Ni=new Jt(""),qr=new Jt("");let Hp,TE=(()=>{class o{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hp||(function d1(o){Hp=o}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wo.assertNotInAngularZone(),x0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())x0(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(un(Wo),un(Pn),un(qr))},o.\u0275prov=le({token:o,factory:o.\u0275fac}),o})(),Pn=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Hp?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=le({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Ri=!1;let Ko=null;const $p=new Jt("AllowMultipleToken"),Rh=new Jt("PlatformDestroyListeners"),M0=new Jt("appBootstrapListener");class Fh{constructor(s,c){this.name=s,this.token=c}}function Cc(o,s,c=[]){const d=`Platform: ${s}`,h=new Jt(d);return(g=[])=>{let _=Ru();if(!_||_.injector.get($p,!1)){const w=[...c,...g,{provide:h,useValue:!0}];o?o(w):function SE(o){if(Ko&&!Ko.get($p,!1))throw new ge(400,!1);Ko=o;const s=o.get(k0);(function Zp(o){const s=o.get(gE,null);s&&s.forEach(c=>c())})(o)}(function my(o=[],s){return Kd.create({name:s,providers:[{provide:__,useValue:"platform"},{provide:Rh,useValue:new Set([()=>Ko=null])},...o]})}(w,d))}return function Fi(o){const s=Ru();if(!s)throw new ge(401,!1);return s}()}}function Ru(){return Ko?.get(k0)??null}let k0=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function Lh(o,s){let c;return c="noop"===o?new Nh:("zone.js"===o?void 0:o)||new Wo(s),c}(d?.ngZone,function yy(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Wo,useValue:h}];return h.run(()=>{const _=Kd.create({providers:g,parent:this.injector,name:c.moduleType.name}),w=c.create(_),E=w.injector.get(Wd,null);if(!E)throw new ge(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:P=>{E.handleError(P)}});w.onDestroy(()=>{zp(this._modules,w),S.unsubscribe()})}),function N0(o,s,c){try{const d=c();return qw(d)?d.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw s.runOutsideAngular(()=>o.handleError(d)),d}}(E,h,()=>{const S=w.injector.get(Up);return S.runInitializers(),S.donePromise.then(()=>(function wC(o){Q(o,"Expected localeId to be defined"),"string"==typeof o&&(kv=o.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Bp,fh)||fh),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,d=[]){const h=R0({},d);return function DE(o,s,c){const d=new Pu(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(_y);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new ge(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Rh,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(un(Kd))},o.\u0275prov=le({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function R0(o,s){return Array.isArray(s)?s.reduce(R0,o):{...o,...s}}let _y=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new k.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),_=new k.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Wo.assertNotInAngularZone(),x0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Wo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),S.unsubscribe()}});this.isStable=(0,re.T)(g,_.pipe((0,ie.B)()))}bootstrap(c,d){const h=c instanceof Gf;if(!this._injector.get(Up).done){!h&&eo(c);throw new ge(405,Ri)}let _;_=h?c:this._injector.get(Wf).resolveComponentFactory(c),this.componentTypes.push(_.componentType);const w=function xE(o){return o.isBoundToModule}(_)?void 0:this._injector.get(da),S=_.create(Kd.NULL,[],d||_.selector,w),P=S.location.nativeElement,R=S.injector.get(Ni,null);return R?.registerApplication(P),S.onDestroy(()=>{this.detachView(S.hostView),zp(this.components,S),R?.unregisterApplication(P)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;zp(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(M0,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>zp(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new ge(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(un(Wo),un(vu),un(Wd))},o.\u0275prov=le({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function zp(o,s){const c=o.indexOf(s);c>-1&&o.splice(c,1)}function vy(){return!1}let Lu=(()=>{class o{}return o.__NG_ELEMENT_ID__=PE,o})();function PE(o){return function Uu(o,s,c){if(Ii(o)&&!c){const d=Xn(o.index,s);return new Im(d,d)}return 47&o.type?new Im(s[Mr],s):null}(vr(),_e(),16==(16&o))}class RE{constructor(){}supports(s){return Y_(s)}create(s){return new sn(s)}}const Er=(o,s)=>s;class sn{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Er}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const _=!d||c&&c.currentIndex<UE(d,h,g)?c:d,w=UE(_,h,g),E=_.currentIndex;if(_===d)h--,d=d._nextRemoved;else if(c=c._next,null==_.previousIndex)h++;else{g||(g=[]);const S=w-h,P=E-h;if(S!=P){for(let q=0;q<S;q++){const X=q<g.length?g[q]:g[q]=0,be=X+q;P<=be&&be<S&&(g[q]=X+1)}g[_.previousIndex]=P-S}}w!==E&&s(_,w,E)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!Y_(s))throw new ge(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,_,c=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)g=s[w],_=this._trackByFn(w,g),null!==c&&Object.is(c.trackById,_)?(d&&(c=this._verifyReinsertion(c,g,_,w)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,_,w),d=!0),c=c._next}else h=0,function tD(o,s){if(Array.isArray(o))for(let c=0;c<o.length;c++)s(o[c]);else{const c=o[Symbol.iterator]();let d;for(;!(d=c.next()).done;)s(d.value)}}(s,w=>{_=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,_)?(d&&(c=this._verifyReinsertion(c,w,_,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,_,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,d,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,g,h)):s=this._addAfter(new FE(c,d),g,h),s}_verifyReinsertion(s,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,c,d),this._addToMoves(s,d),s}_moveAfter(s,c,d){return this._unlink(s),this._insertAfter(s,c,d),this._addToMoves(s,d),s}_addAfter(s,c,d){return this._insertAfter(s,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,d){const h=null===c?this._itHead:c._next;return s._next=h,s._prev=c,null===h?this._itTail=s:h._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new al),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,d=s._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new al),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class FE{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LE{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const c=s._prevDup,d=s._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class al{constructor(){this.map=new Map}put(s){const c=s.trackById;let d=this.map.get(c);d||(d=new LE,this.map.set(c,d)),d.add(s)}get(s,c){const h=this.map.get(s);return h?h.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UE(o,s,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+s+h}class Li{constructor(){}supports(s){return s instanceof Map||_t(s)}create(){return new VE}}class VE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||_t(s)))throw new ge(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const d=s._prev;return c._next=s,c._prev=d,s._prev=c,d&&(d._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,c);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const d=new Yp(s);return this._records.set(s,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(d=>c(s[d],d))}}class Yp{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function U0(){return new Yo([new RE])}let Yo=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||U0()),deps:[[o,new D,new lu]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new ge(901,!1)}}return o.\u0275prov=le({token:o,providedIn:"root",factory:U0}),o})();function Uh(){return new V0([new Li])}let V0=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Uh()),deps:[[o,new D,new lu]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new ge(901,!1)}}return o.\u0275prov=le({token:o,providedIn:"root",factory:Uh}),o})();const Qp=Cc(null,"core",[]);let Jp=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(un(_y))},o.\u0275mod=Ns({type:o}),o.\u0275inj=Ht({}),o})();function Ey(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(yt,xe,N)=>{N.d(xe,{Z:()=>He});var a=N(2090),J=N(4859),k=N(9681),re=N(1877);class ie{constructor(ge,Se){this._delegate=ge,this.firebase=Se,(0,k._addComponent)(ge,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(ge,Se=k._DEFAULT_ENTRY_NAME){var De;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(ge);return!Ue.isInitialized()&&"EXPLICIT"===(null===(De=Ue.getComponent())||void 0===De?void 0:De.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:Se})}_removeServiceInstance(ge,Se=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Se)}_addComponent(ge){(0,k._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,k._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function he(){const at=function fe(at){const ge={},Se={__esModule:!0,initializeApp:function Ie(Ne,V={}){const ve=k.initializeApp(Ne,V);if((0,a.r3)(ge,ve.name))return ge[ve.name];const Be=new at(ve,Se);return ge[ve.name]=Be,Be},app:Ue,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Me(Ne){const V=Ne.name,ve=V.replace("-compat","");if(k._registerComponent(Ne)&&"PUBLIC"===Ne.type){const Be=(Ze=Ue())=>{if("function"!=typeof Ze[ve])throw me.create("invalid-app-argument",{appName:V});return Ze[ve]()};void 0!==Ne.serviceProps&&(0,a.ZB)(Be,Ne.serviceProps),Se[ve]=Be,at.prototype[ve]=function(...Ze){return this._getService.bind(this,V).apply(this,Ne.multipleInstances?Ze:[])}}return"PUBLIC"===Ne.type?Se[ve]:null},removeApp:function De(Ne){delete ge[Ne]},useAsService:function Fe(Ne,V){return"serverAuth"===V?null:V},modularAPIs:k}};function Ue(Ne){if(!(0,a.r3)(ge,Ne=Ne||k._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Ne});return ge[Ne]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function we(){return Object.keys(ge).map(Ne=>ge[Ne])}}),Ue.App=at,Se}(ie);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function ge(Se){(0,a.ZB)(at,Se)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),at}(),H=new re.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=$;!function Te(at){(0,k.registerVersion)("@firebase/app-compat","0.2.2",at)}()},9681:(yt,xe,N)=>{N.r(xe),N.d(xe,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Tn,_DEFAULT_ENTRY_NAME:()=>ar,_addComponent:()=>ue,_addOrOverwriteComponent:()=>pe,_apps:()=>Q,_clearComponents:()=>Ht,_components:()=>Y,_getProvider:()=>le,_registerComponent:()=>ke,_removeServiceInstance:()=>ze,deleteApp:()=>Jn,getApp:()=>$t,getApps:()=>hn,initializeApp:()=>Ir,onLog:()=>Hi,registerVersion:()=>tt,setLogLevel:()=>Jo});var a=N(5861),J=N(4859),k=N(1877),re=N(2090),ie=N(8766);class ne{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function me(rt){return"VERSION"===rt.getComponent()?.type}(et)){const St=et.getImmediate();return`${St.library}/${St.version}`}return null}).filter(et=>et).join(" ")}}const fe="@firebase/app",$=new k.Yd("@firebase/app"),ar="[DEFAULT]",ma={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Q=new Map,Y=new Map;function ue(rt,Ee){try{rt.container.addComponent(Ee)}catch(et){$.debug(`Component ${Ee.name} failed to register with FirebaseApp ${rt.name}`,et)}}function pe(rt,Ee){rt.container.addOrOverwriteComponent(Ee)}function ke(rt){const Ee=rt.name;if(Y.has(Ee))return $.debug(`There were multiple attempts to register component ${Ee}.`),!1;Y.set(Ee,rt);for(const et of Q.values())ue(et,rt);return!0}function le(rt,Ee){const et=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),rt.container.getProvider(Ee)}function ze(rt,Ee,et=ar){le(rt,Ee).clearInstance(et)}function Ht(){Y.clear()}const mt=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wt{constructor(Ee,et,St){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=St,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw mt.create("app-deleted",{appName:this._name})}}const Tn="9.17.0";function Ir(rt,Ee={}){let et=rt;"object"!=typeof Ee&&(Ee={name:Ee});const St=Object.assign({name:ar,automaticDataCollectionEnabled:!1},Ee),Tt=St.name;if("string"!=typeof Tt||!Tt)throw mt.create("bad-app-name",{appName:String(Tt)});if(et||(et=(0,re.aH)()),!et)throw mt.create("no-options");const qt=Q.get(Tt);if(qt){if((0,re.vZ)(et,qt.options)&&(0,re.vZ)(St,qt.config))return qt;throw mt.create("duplicate-app",{appName:Tt})}const j=new J.H0(Tt);for(const z of Y.values())j.addComponent(z);const U=new Wt(et,St,j);return Q.set(Tt,U),U}function $t(rt=ar){const Ee=Q.get(rt);if(!Ee&&rt===ar)return Ir();if(!Ee)throw mt.create("no-app",{appName:rt});return Ee}function hn(){return Array.from(Q.values())}function Jn(rt){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(rt){const Ee=rt.name;Q.has(Ee)&&(Q.delete(Ee),yield Promise.all(rt.container.getProviders().map(et=>et.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function tt(rt,Ee,et){var St;let Tt=null!==(St=ma[rt])&&void 0!==St?St:rt;et&&(Tt+=`-${et}`);const qt=Tt.match(/\s|\//),j=Ee.match(/\s|\//);if(qt||j){const U=[`Unable to register library "${Tt}" with version "${Ee}":`];return qt&&U.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),qt&&j&&U.push("and"),j&&U.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void $.warn(U.join(" "))}ke(new J.wA(`${Tt}-version`,()=>({library:Tt,version:Ee}),"VERSION"))}function Hi(rt,Ee){if(null!==rt&&"function"!=typeof rt)throw mt.create("invalid-log-argument");(0,k.Am)(rt,Ee)}function Jo(rt){(0,k.Ub)(rt)}const Sn="firebase-heartbeat-database",ai=1,li="firebase-heartbeat-store";let fn=null;function _n(){return fn||(fn=(0,ie.X3)(Sn,ai,{upgrade:(rt,Ee)=>{0===Ee&&rt.createObjectStore(li)}}).catch(rt=>{throw mt.create("idb-open",{originalErrorMessage:rt.message})})),fn}function It(){return(It=(0,a.Z)(function*(rt){try{return(yield _n()).transaction(li).objectStore(li).get(Dn(rt))}catch(Ee){if(Ee instanceof re.ZR)$.warn(Ee.message);else{const et=mt.create("idb-get",{originalErrorMessage:Ee?.message});$.warn(et.message)}}})).apply(this,arguments)}function Lr(rt,Ee){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(rt,Ee){try{const St=(yield _n()).transaction(li,"readwrite");return yield St.objectStore(li).put(Ee,Dn(rt)),St.done}catch(et){if(et instanceof re.ZR)$.warn(et.message);else{const St=mt.create("idb-set",{originalErrorMessage:et?.message});$.warn(St.message)}}})).apply(this,arguments)}function Dn(rt){return`${rt.name}!${rt.options.appId}`}class ya{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new Qt(et),this._heartbeatsCachePromise=this._storage.read().then(St=>(this._heartbeatsCache=St,St))}triggerHeartbeat(){var Ee=this;return(0,a.Z)(function*(){const St=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=cn();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!Ee._heartbeatsCache.heartbeats.some(qt=>qt.date===Tt))return Ee._heartbeatsCache.heartbeats.push({date:Tt,agent:St}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(qt=>{const j=new Date(qt.date).valueOf();return Date.now()-j<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,a.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const et=cn(),{heartbeatsToSend:St,unsentEntries:Tt}=function ci(rt,Ee=1024){const et=[];let St=rt.slice();for(const Tt of rt){const qt=et.find(j=>j.agent===Tt.agent);if(qt){if(qt.dates.push(Tt.date),$i(et)>Ee){qt.dates.pop();break}}else if(et.push({agent:Tt.agent,dates:[Tt.date]}),$i(et)>Ee){et.pop();break}St=St.slice(1)}return{heartbeatsToSend:et,unsentEntries:St}}(Ee._heartbeatsCache.heartbeats),qt=(0,re.L)(JSON.stringify({version:2,heartbeats:St}));return Ee._heartbeatsCache.lastSentHeartbeatDate=et,Tt.length>0?(Ee._heartbeatsCache.heartbeats=Tt,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),qt})()}}function cn(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,a.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function bt(rt){return It.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var et=this;return(0,a.Z)(function*(){var St;if(yield et._canUseIndexedDBPromise){const qt=yield et.read();return Lr(et.app,{lastSentHeartbeatDate:null!==(St=Ee.lastSentHeartbeatDate)&&void 0!==St?St:qt.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var et=this;return(0,a.Z)(function*(){var St;if(yield et._canUseIndexedDBPromise){const qt=yield et.read();return Lr(et.app,{lastSentHeartbeatDate:null!==(St=Ee.lastSentHeartbeatDate)&&void 0!==St?St:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...Ee.heartbeats]})}})()}}function $i(rt){return(0,re.L)(JSON.stringify({version:2,heartbeats:rt})).length}!function un(rt){ke(new J.wA("platform-logger",Ee=>new ne(Ee),"PRIVATE")),ke(new J.wA("heartbeat",Ee=>new ya(Ee),"PRIVATE")),tt(fe,"0.9.2",rt),tt(fe,"0.9.2","esm2017"),tt("fire-js","")}("")},4859:(yt,xe,N)=>{N.d(xe,{H0:()=>fe,wA:()=>k});var a=N(5861),J=N(2090);class k{constructor($,H,W){this.name=$,this.instanceFactory=H,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const re="[DEFAULT]";class ie{constructor($,H){this.name=$,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const H=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(H)){const W=new J.BH;if(this.instancesDeferred.set(H,W),this.isInitialized(H)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:H});je&&W.resolve(je)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate($){var H;const W=this.normalizeInstanceIdentifier($?.identifier),je=null!==(H=$?.optional)&&void 0!==H&&H;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(Te){if(je)return null;throw Te}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function me(he){return"EAGER"===he.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[H,W]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(H);try{const Te=this.getOrInitializeService({instanceIdentifier:je});W.resolve(Te)}catch{}}}}clearInstance($=re){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,a.Z)(function*(){const H=Array.from($.instances.values());yield Promise.all([...H.filter(W=>"INTERNAL"in W).map(W=>W.INTERNAL.delete()),...H.filter(W=>"_delete"in W).map(W=>W._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=re){return this.instances.has($)}getOptions($=re){return this.instancesOptions.get($)||{}}initialize($={}){const{options:H={}}=$,W=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:W,options:H});for(const[Te,He]of this.instancesDeferred.entries())W===this.normalizeInstanceIdentifier(Te)&&He.resolve(je);return je}onInit($,H){var W;const je=this.normalizeInstanceIdentifier(H),Te=null!==(W=this.onInitCallbacks.get(je))&&void 0!==W?W:new Set;Te.add($),this.onInitCallbacks.set(je,Te);const He=this.instances.get(je);return He&&$(He,je),()=>{Te.delete($)}}invokeOnInitCallbacks($,H){const W=this.onInitCallbacks.get(H);if(W)for(const je of W)try{je($,H)}catch{}}getOrInitializeService({instanceIdentifier:$,options:H={}}){let W=this.instances.get($);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:(he=$,he===re?void 0:he),options:H}),this.instances.set($,W),this.instancesOptions.set($,H),this.invokeOnInitCallbacks(W,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,W)}catch{}var he;return W||null}normalizeInstanceIdentifier($=re){return this.component?this.component.multipleInstances?$:re:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor($){this.name=$,this.providers=new Map}addComponent($){const H=this.getProvider($.name);if(H.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);H.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const H=new ie($,this);return this.providers.set($,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,xe,N)=>{N.d(xe,{Am:()=>he,Ub:()=>fe,Yd:()=>me,in:()=>J});const a=[];var J=(()=>{return($=J||(J={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",J;var $})();const k={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},re=J.INFO,ie={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},ne=($,H,...W)=>{if(H<$.logLevel)return;const je=(new Date).toISOString(),Te=ie[H];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Te](`[${je}]  ${$.name}:`,...W)};class me{constructor(H){this.name=H,this._logLevel=re,this._logHandler=ne,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in J))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?k[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...H),this._logHandler(this,J.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...H),this._logHandler(this,J.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,J.INFO,...H),this._logHandler(this,J.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,J.WARN,...H),this._logHandler(this,J.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...H),this._logHandler(this,J.ERROR,...H)}}function fe($){a.forEach(H=>{H.setLogLevel($)})}function he($,H){for(const W of a){let je=null;H&&H.level&&(je=k[H.level]),W.userLogHandler=null===$?null:(Te,He,...at)=>{const ge=at.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");He>=(je??Te.logLevel)&&$({level:J[He].toLowerCase(),message:ge,args:at,type:Te.name})}}}},259:(yt,xe,N)=>{N.d(xe,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=N(9681);(0,a.registerVersion)("firebase","9.17.0","app")},9260:(yt,xe,N)=>{N.d(xe,{Z:()=>a.Z});var a=N(3942);a.Z.registerVersion("firebase","9.17.0","app-compat")},4383:(yt,xe,N)=>{N.r(xe);var a=N(5861),J=N(3942),k=N(2090),re=N(9681),ie=N(1877),ne=N(7582),me=N(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W_EMAIL_SIGNIN="EMAIL_SIGNIN",W_PASSWORD_RESET="PASSWORD_RESET",W_RECOVER_EMAIL="RECOVER_EMAIL",W_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",W_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",W_VERIFY_EMAIL="VERIFY_EMAIL";const He=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},at=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new ie.Yd("@firebase/auth");function Ue(v,...f){De.logLevel<=ie.in.ERROR&&De.error(`Auth (${re.SDK_VERSION}): ${v}`,...f)}function Ie(v,...f){throw Ne(v,...f)}function we(v,...f){return Ne(v,...f)}function Me(v,f,m){const b=Object.assign(Object.assign({},at()),{[f]:m});return new k.LL("auth","Firebase",b).create(f,{appName:v.name})}function Fe(v,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ie(v,"argument-error"),Me(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(v,...f){if("string"!=typeof v){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return ge.create(v,...f)}function V(v,f,...m){if(!v)throw Ne(f,...m)}function ve(v){const f="INTERNAL ASSERTION FAILED: "+v;throw Ue(f),new Error(f)}function Be(v,f){v||ve(f)}const Ze=new Map;function gt(v){Be(v instanceof Function,"Expected a class definition");let f=Ze.get(v);return f?(Be(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,Ze.set(v,f),f)}function mr(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Zn(){return"http:"===ji()||"https:"===ji()}function ji(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Q{constructor(f,m){this.shortDelay=f,this.longDelay=m,Be(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function ar(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zn()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Y(v,f){Be(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class ue{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ke=new Q(3e4,6e4);function le(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function ze(v,f,m,b){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(v,f,m,b,x={}){return ln(v,x,(0,a.Z)(function*(){let O={},G={};b&&("GET"===f?G=b:O={body:JSON.stringify(b)});const ce=(0,k.xO)(Object.assign({key:v.config.apiKey},G)).slice(1),Ve=yield v._getAdditionalHeaders();return Ve["Content-Type"]="application/json",v.languageCode&&(Ve["X-Firebase-Locale"]=v.languageCode),ue.fetch()(Ir(v,v.config.apiHost,m,ce),Object.assign({method:f,headers:Ve,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function ln(v,f,m){return mt.apply(this,arguments)}function mt(){return(mt=(0,a.Z)(function*(v,f,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},pe),f);try{const x=new $t(v),O=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const G=yield O.json();if("needConfirmation"in G)throw hn(v,"account-exists-with-different-credential",G);if(O.ok&&!("errorMessage"in G))return G;{const ce=O.ok?G.errorMessage:G.error.message,[Ve,lt]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw hn(v,"credential-already-in-use",G);if("EMAIL_EXISTS"===Ve)throw hn(v,"email-already-in-use",G);if("USER_DISABLED"===Ve)throw hn(v,"user-disabled",G);const Zt=b[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(lt)throw Me(v,Zt,lt);Ie(v,Zt)}}catch(x){if(x instanceof k.ZR)throw x;Ie(v,"network-request-failed")}})).apply(this,arguments)}function Wt(v,f,m,b){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(function*(v,f,m,b,x={}){const O=yield ze(v,f,m,b,x);return"mfaPendingCredential"in O&&Ie(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Ir(v,f,m,b){const x=`${f}${m}?${b}`;return v.config.emulator?Y(v.config,x):`${v.config.apiScheme}://${x}`}class $t{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(we(this.auth,"network-request-failed")),ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hn(v,f,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const x=we(v,f,b);return x.customData._tokenResponse=m,x}function Yt(){return(Yt=(0,a.Z)(function*(v,f){return ze(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(v,f){return ze(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(v,f){return ze(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ai(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function _n(){return(_n=(0,a.Z)(function*(v,f=!1){const m=(0,k.m9)(v),b=yield m.getIdToken(f),x=It(b);V(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const O="object"==typeof x.firebase?x.firebase:void 0,G=O?.sign_in_provider;return{claims:x,token:b,authTime:ai(bt(x.auth_time)),issuedAtTime:ai(bt(x.iat)),expirationTime:ai(bt(x.exp)),signInProvider:G||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function bt(v){return 1e3*Number(v)}function It(v){const[f,m,b]=v.split(".");if(void 0===f||void 0===m||void 0===b)return Ue("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,k.tV)(m);return x?JSON.parse(x):(Ue("Failed to decode base64 JWT payload"),null)}catch(x){return Ue("Caught error parsing JWT payload as JSON",x?.toString()),null}}function zn(v,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(v,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof k.ZR&&function Ao({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}class Tr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class ya{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ai(this.lastLoginAt),this.creationTime=ai(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cn(v){return ci.apply(this,arguments)}function ci(){return ci=(0,a.Z)(function*(v){var f;const m=v.auth,b=yield v.getIdToken(),x=yield zn(v,function Jo(v,f){return Sn.apply(this,arguments)}(m,{idToken:b}));V(x?.users.length,m,"internal-error");const O=x.users[0];v._notifyReloadListener(O);const G=null!==(f=O.providerUserInfo)&&void 0!==f&&f.length?function rt(v){return v.map(f=>{var{providerId:m}=f,b=(0,ne._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(O.providerUserInfo):[],ce=function un(v,f){return[...v.filter(b=>!f.some(x=>x.providerId===b.providerId)),...f]}(v.providerData,G),Zt=!!v.isAnonymous&&!(v.email&&O.passwordHash||ce?.length),ot={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ce,metadata:new ya(O.createdAt,O.lastLoginAt),isAnonymous:Zt};Object.assign(v,ot)}),ci.apply(this,arguments)}function $i(){return($i=(0,a.Z)(function*(v){const f=(0,k.m9)(v);yield cn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function et(){return(et=(0,a.Z)(function*(v,f){const m=yield ln(v,{},(0,a.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:O}=v.config,G=Ir(v,x,"/v1/token",`key=${O}`),ce=yield v._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(G,{method:"POST",headers:ce,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class St{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){V(f.idToken,"internal-error"),V(typeof f.idToken<"u","internal-error"),V(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Lr(v){const f=It(v);return V(f,"internal-error"),V(typeof f.exp<"u","internal-error"),V(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f){var m=this;return(0,a.Z)(function*(b,x=!1){return V(!m.accessToken||m.refreshToken,b,"user-token-expired"),x||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(b,m.refreshToken),m.accessToken):null:m.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,a.Z)(function*(){const{accessToken:x,refreshToken:O,expiresIn:G}=yield function Ee(v,f){return et.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(x,O,Number(G))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:x,expirationTime:O}=m,G=new St;return b&&(V("string"==typeof b,"internal-error",{appName:f}),G.refreshToken=b),x&&(V("string"==typeof x,"internal-error",{appName:f}),G.accessToken=x),O&&(V("number"==typeof O,"internal-error",{appName:f}),G.expirationTime=O),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new St,this.toJSON())}_performRefresh(){return ve("not implemented")}}function Tt(v,f){V("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class qt{constructor(f){var{uid:m,auth:b,stsTokenManager:x}=f,O=(0,ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new ya(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,a.Z)(function*(){const b=yield zn(m,m.stsTokenManager.getToken(m.auth,f));return V(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function fn(v){return _n.apply(this,arguments)}(this,f)}reload(){return function Qt(v){return $i.apply(this,arguments)}(this)}_assign(f){this!==f&&(V(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new qt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f){var m=this;return(0,a.Z)(function*(b,x=!1){let O=!1;b.idToken&&b.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(b),O=!0),x&&(yield cn(m)),yield m.auth._persistUserIfCurrent(m),O&&m.auth._notifyListenersIfCurrent(m)}).apply(this,arguments)}delete(){var f=this;return(0,a.Z)(function*(){const m=yield f.getIdToken();return yield zn(f,function Jn(v,f){return Yt.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,x,O,G,ce,Ve,lt,Zt;const ot=null!==(b=m.displayName)&&void 0!==b?b:void 0,on=null!==(x=m.email)&&void 0!==x?x:void 0,Ai=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Yl=null!==(G=m.photoURL)&&void 0!==G?G:void 0,Ql=null!==(ce=m.tenantId)&&void 0!==ce?ce:void 0,mu=null!==(Ve=m._redirectEventId)&&void 0!==Ve?Ve:void 0,fo=null!==(lt=m.createdAt)&&void 0!==lt?lt:void 0,Jl=null!==(Zt=m.lastLoginAt)&&void 0!==Zt?Zt:void 0,{uid:jd,emailVerified:Hd,isAnonymous:jf,providerData:$d,stsTokenManager:u_}=m;V(jd&&u_,f,"internal-error");const Vb=St.fromJSON(this.name,u_);V("string"==typeof jd,f,"internal-error"),Tt(ot,f.name),Tt(on,f.name),V("boolean"==typeof Hd,f,"internal-error"),V("boolean"==typeof jf,f,"internal-error"),Tt(Ai,f.name),Tt(Yl,f.name),Tt(Ql,f.name),Tt(mu,f.name),Tt(fo,f.name),Tt(Jl,f.name);const yu=new qt({uid:jd,auth:f,email:on,emailVerified:Hd,displayName:ot,isAnonymous:jf,photoURL:Yl,phoneNumber:Ai,tenantId:Ql,stsTokenManager:Vb,createdAt:fo,lastLoginAt:Jl});return $d&&Array.isArray($d)&&(yu.providerData=$d.map(Hf=>Object.assign({},Hf))),mu&&(yu._redirectEventId=mu),yu}static _fromIdTokenResponse(f,m){return(0,a.Z)(function*(b,x,O=!1){const G=new St;G.updateFromServerResponse(x);const ce=new qt({uid:x.localId,auth:b,stsTokenManager:G,isAnonymous:O});return yield cn(ce),ce}).apply(this,arguments)}}const U=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(m,b){var x=this;return(0,a.Z)(function*(){x.storage[m]=b})()}_get(m){var b=this;return(0,a.Z)(function*(){const x=b.storage[m];return void 0===x?null:x})()}_remove(m){var b=this;return(0,a.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function z(v,f,m){return`firebase:${v}:${f}:${m}`}class ye{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:x,name:O}=this.auth;this.fullUserKey=z(this.userKey,x.apiKey,O),this.fullPersistenceKey=z("persistence",x.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?qt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,a.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m){return(0,a.Z)(function*(b,x,O="authUser"){if(!x.length)return new ye(gt(U),b,O);const G=(yield Promise.all(x.map(function(){var ot=(0,a.Z)(function*(on){if(yield on._isAvailable())return on});return function(on){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let ce=G[0]||gt(U);const Ve=z(O,b.config.apiKey,b.name);let lt=null;for(const ot of x)try{const on=yield ot._get(Ve);if(on){const Ai=qt._fromJSON(b,on);ot!==ce&&(lt=Ai),ce=ot;break}}catch{}const Zt=G.filter(ot=>ot._shouldAllowMigration);return ce._shouldAllowMigration&&Zt.length?(ce=Zt[0],lt&&(yield ce._set(Ve,lt.toJSON())),yield Promise.all(x.map(function(){var ot=(0,a.Z)(function*(on){if(on!==ce)try{yield on._remove(Ve)}catch{}});return function(on){return ot.apply(this,arguments)}}())),new ye(ce,b,O)):new ye(ce,b,O)}).apply(this,arguments)}}function ee(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(yr(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Qe(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Dr(f))return"Blackberry";if(kt(f))return"Webos";if(Ke(f))return"Safari";if((f.includes("chrome/")||rn(f))&&!f.includes("edge/"))return"Chrome";if(bn(f))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Qe(v=(0,k.z$)()){return/firefox\//i.test(v)}function Ke(v=(0,k.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function rn(v=(0,k.z$)()){return/crios\//i.test(v)}function yr(v=(0,k.z$)()){return/iemobile/i.test(v)}function bn(v=(0,k.z$)()){return/android/i.test(v)}function Dr(v=(0,k.z$)()){return/blackberry/i.test(v)}function kt(v=(0,k.z$)()){return/webos/i.test(v)}function Ln(v=(0,k.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function rf(v=(0,k.z$)()){return Ln(v)||bn(v)||kt(v)||Dr(v)||/windows phone/i.test(v)||yr(v)}function Ns(v,f=[]){let m;switch(v){case"Browser":m=ee((0,k.z$)());break;case"Worker":m=`${ee((0,k.z$)())}-${v}`;break;default:m=v}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${re.SDK_VERSION}/${b}`}class Wu{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=O=>new Promise((G,ce)=>{try{G(f(O))}catch(Ve){ce(Ve)}});b.onAbort=m,this.queue.push(b);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,a.Z)(function*(){if(m.auth.currentUser===f)return;const b=[];try{for(const x of m.queue)yield x(f),x.onAbort&&b.push(x.onAbort)}catch(x){b.reverse();for(const O of b)try{O()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}class Ku{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oc(this),this.idTokenSubscription=new Oc(this),this.beforeStateQueue=new Wu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=gt(m)),this._initializationPromise=this.queue((0,a.Z)(function*(){var x,O;if(!b._deleted&&(b.persistenceManager=yield ye.create(b,f),!b._deleted)){if(null!==(x=b._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,a.Z)(function*(){var b;const x=yield m.assertedPersistence.getCurrentUser();let O=x,G=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ce=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Ve=O?._redirectEventId,lt=yield m.tryRedirectSignIn(f);(!ce||ce===Ve)&&lt?.user&&(O=lt.user,G=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(G)try{yield m.beforeStateQueue.runMiddleware(O)}catch(ce){O=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ce))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return V(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(f){var m=this;return(0,a.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,a.Z)(function*(){try{yield cn(f)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ma(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,a.Z)(function*(){const b=f?(0,k.m9)(f):null;return b&&V(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,a.Z)(function*(b,x=!1){if(!m._deleted)return b&&V(m.tenantId===b.tenantId,m,"tenant-id-mismatch"),x||(yield m.beforeStateQueue.runMiddleware(b)),m.queue((0,a.Z)(function*(){yield m.directlySetCurrentUser(b),m.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var f=this;return(0,a.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,a.Z)(function*(){yield m.assertedPersistence.setPersistence(gt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,a.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(m);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,a.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&gt(f)||m._popupRedirectResolver;V(b,m,"argument-error"),m.redirectPersistenceManager=yield ye.create(m,[gt(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,a.Z)(function*(){var b,x;return m._isInitialized&&(yield m.queue((0,a.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,a.Z)(function*(){if(f===m.currentUser)return m.queue((0,a.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,x){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),G=this._isInitialized?Promise.resolve():this._initializationPromise;return V(G,this,"internal-error"),G.then(()=>O(this.currentUser)),"function"==typeof m?f.addObserver(m,b,x):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,a.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ns(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const x=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(b["X-Firebase-Client"]=x),b})()}}function On(v){return(0,k.m9)(v)}class Oc{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(m=>this.observer=m)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qn(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function eo(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class Xo{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ve("not implemented")}_getIdTokenResponse(f){return ve("not implemented")}_linkToIdToken(f,m){return ve("not implemented")}_getReauthenticationResolver(f){return ve("not implemented")}}function Sr(v,f){return es.apply(this,arguments)}function es(){return(es=(0,a.Z)(function*(v,f){return ze(v,"POST","/v1/accounts:resetPassword",le(v,f))})).apply(this,arguments)}function ui(v,f){return Je.apply(this,arguments)}function Je(){return(Je=(0,a.Z)(function*(v,f){return ze(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function wn(){return(wn=(0,a.Z)(function*(v,f){return ze(v,"POST","/v1/accounts:update",le(v,f))})).apply(this,arguments)}function to(){return(to=(0,a.Z)(function*(v,f){return Wt(v,"POST","/v1/accounts:signInWithPassword",le(v,f))})).apply(this,arguments)}function Gn(v,f){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,a.Z)(function*(v,f){return ze(v,"POST","/v1/accounts:sendOobCode",le(v,f))})).apply(this,arguments)}function Rs(){return(Rs=(0,a.Z)(function*(v,f){return Gn(v,f)})).apply(this,arguments)}function Bt(){return(Bt=(0,a.Z)(function*(v,f){return Gn(v,f)})).apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(v,f){return Gn(v,f)})).apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(v,f){return Gn(v,f)})).apply(this,arguments)}function Fs(){return(Fs=(0,a.Z)(function*(v,f){return Wt(v,"POST","/v1/accounts:signInWithEmailLink",le(v,f))})).apply(this,arguments)}function Ci(){return(Ci=(0,a.Z)(function*(v,f){return Wt(v,"POST","/v1/accounts:signInWithEmailLink",le(v,f))})).apply(this,arguments)}class Oo extends Xo{constructor(f,m,b,x=null){super("password",b),this._email=f,this._password=m,this._tenantId=x}static _fromEmailAndPassword(f,m){return new Oo(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new Oo(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,a.Z)(function*(){switch(m.signInMethod){case"password":return function Ur(v,f){return to.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Mr(v,f){return Fs.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ie(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,a.Z)(function*(){switch(b.signInMethod){case"password":return ui(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function ts(v,f){return Ci.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:Ie(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function no(v,f){return mn.apply(this,arguments)}function mn(){return(mn=(0,a.Z)(function*(v,f){return Wt(v,"POST","/v1/accounts:signInWithIdp",le(v,f))})).apply(this,arguments)}class di extends Xo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new di(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:x}=m,O=(0,ne._T)(m,["providerId","signInMethod"]);if(!b||!x)return null;const G=new di(b,x);return G.idToken=O.idToken||void 0,G.accessToken=O.accessToken||void 0,G.secret=O.secret,G.nonce=O.nonce,G.pendingToken=O.pendingToken||null,G}_getIdTokenResponse(f){return no(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,no(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,no(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,k.xO)(m)}return f}}function Ls(){return(Ls=(0,a.Z)(function*(v,f){return ze(v,"POST","/v1/accounts:sendVerificationCode",le(v,f))})).apply(this,arguments)}function _r(){return(_r=(0,a.Z)(function*(v,f){return Wt(v,"POST","/v1/accounts:signInWithPhoneNumber",le(v,f))})).apply(this,arguments)}function Qu(){return(Qu=(0,a.Z)(function*(v,f){const m=yield Wt(v,"POST","/v1/accounts:signInWithPhoneNumber",le(v,f));if(m.temporaryProof)throw hn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Gr={USER_NOT_FOUND:"user-not-found"};function va(){return(va=(0,a.Z)(function*(v,f){return Wt(v,"POST","/v1/accounts:signInWithPhoneNumber",le(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Gr)})).apply(this,arguments)}class Ii extends Xo{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ii({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ii({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function ns(v,f){return _r.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Pr(v,f){return Qu.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ei(v,f){return va.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:x}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:O}=f;return b||m||x||O?new Ii({verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:O}):null}}class ba{constructor(f){var m,b,x,O,G,ce;const Ve=(0,k.zd)((0,k.pd)(f)),lt=null!==(m=Ve.apiKey)&&void 0!==m?m:null,Zt=null!==(b=Ve.oobCode)&&void 0!==b?b:null,ot=function Rc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Ve.mode)&&void 0!==x?x:null);V(lt&&Zt&&ot,"argument-error"),this.apiKey=lt,this.operation=ot,this.code=Zt,this.continueUrl=null!==(O=Ve.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(G=Ve.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(ce=Ve.tenantId)&&void 0!==ce?ce:null}static parseLink(f){const m=function Wr(v){const f=(0,k.zd)((0,k.pd)(v)).link,m=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(v)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||m||f||v}(f);try{return new ba(m)}catch{return null}}}let Fc=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return Oo._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const x=ba.parseLink(b);return V(x,"argument-error"),Oo._fromEmailAndCode(m,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ro{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Us extends ro{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class wa extends Us{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return V("providerId"in m&&"signInMethod"in m,"argument-error"),di._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return V(f.idToken||f.accessToken,"argument-error"),di._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return wa.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return wa.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:O,nonce:G,providerId:ce}=f;if(!b&&!x&&!m&&!O||!ce)return null;try{return new wa(ce)._credential({idToken:m,accessToken:b,nonce:G,pendingToken:O})}catch{return null}}}let Lc=(()=>{class v extends Us{constructor(){super("facebook.com")}static credential(m){return di._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),af=(()=>{class v extends Us{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return di._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:x}=m;if(!b&&!x)return null;try{return v.credential(b,x)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),lf=(()=>{class v extends Us{constructor(){super("github.com")}static credential(m){return di._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Vs extends Xo{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return no(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,no(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,no(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:x,pendingToken:O}=m;return b&&x&&O&&b===x?new Vs(b,O):null}static _create(f,m){return new Vs(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zi extends ro{constructor(f){V(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return zi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return zi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Vs.fromJSON(f);return V(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Vs._create(b,m)}catch{return null}}}let bg=(()=>{class v extends Us{constructor(){super("twitter.com")}static credential(m,b){return di._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=m;if(!b||!x)return null;try{return v.credential(b,x)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Uc(v,f){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,a.Z)(function*(v,f){return Wt(v,"POST","/v1/accounts:signUp",le(v,f))})).apply(this,arguments)}class Br{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b){return(0,a.Z)(function*(x,O,G,ce=!1){const Ve=yield qt._fromIdTokenResponse(x,G,ce),lt=Bc(G);return new Br({user:Ve,providerId:lt,_tokenResponse:G,operationType:O})}).apply(this,arguments)}static _forOperation(f,m,b){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const x=Bc(b);return new Br({user:f,providerId:x,_tokenResponse:b,operationType:m})})()}}function Bc(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function cf(){return(cf=(0,a.Z)(function*(v){var f;const m=On(v);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Br({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Uc(m,{returnSecureToken:!0}),x=yield Br._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class ll extends k.ZR{constructor(f,m,b,x){var O;super(m.code,m.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,ll.prototype),this.customData={appName:f.name,tenantId:null!==(O=f.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,x){return new ll(f,m,b,x)}}function is(v,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?ll._fromErrorAndOperation(v,O,f,b):O})}function os(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function Bs(){return Bs=(0,a.Z)(function*(v,f){const m=(0,k.m9)(v);yield ss(!0,m,f);const{providerUserInfo:b}=yield function tt(v,f){return Hi.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),x=os(b||[]);return m.providerData=m.providerData.filter(O=>x.has(O.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Bs.apply(this,arguments)}function ul(v,f){return js.apply(this,arguments)}function js(){return(js=(0,a.Z)(function*(v,f,m=!1){const b=yield zn(v,f._linkToIdToken(v.auth,yield v.getIdToken()),m);return Br._forOperation(v,"link",b)})).apply(this,arguments)}function ss(v,f,m){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,a.Z)(function*(v,f,m){yield cn(f);const x=!1===v?"provider-already-linked":"no-such-provider";V(os(f.providerData).has(m)===v,f.auth,x)})).apply(this,arguments)}function jc(v,f){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,a.Z)(function*(v,f,m=!1){const{auth:b}=v,x="reauthenticate";try{const O=yield zn(v,is(b,x,f,v),m);V(O.idToken,b,"internal-error");const G=It(O.idToken);V(G,b,"internal-error");const{sub:ce}=G;return V(v.uid===ce,b,"user-mismatch"),Br._forOperation(v,x,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ie(b,"user-mismatch"),O}})).apply(this,arguments)}function $s(v,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,a.Z)(function*(v,f,m=!1){const b="signIn",x=yield is(v,b,f),O=yield Br._fromIdTokenResponse(v,b,x);return m||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function kn(v,f){return dl.apply(this,arguments)}function dl(){return(dl=(0,a.Z)(function*(v,f){return $s(On(v),f)})).apply(this,arguments)}function Un(v,f){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,a.Z)(function*(v,f){const m=(0,k.m9)(v);return yield ss(!1,m,f.providerId),ul(m,f)})).apply(this,arguments)}function as(v,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(v,f){return jc((0,k.m9)(v),f)})).apply(this,arguments)}function zs(){return(zs=(0,a.Z)(function*(v,f){return Wt(v,"POST","/v1/accounts:signInWithCustomToken",le(v,f))})).apply(this,arguments)}function Xn(){return Xn=(0,a.Z)(function*(v,f){const m=On(v),b=yield function Hc(v,f){return zs.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),x=yield Br._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(x.user),x}),Xn.apply(this,arguments)}class Ea{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?qs._fromServerResponse(f,m):Ie(f,"internal-error")}}class qs extends Ea{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new qs(m)}}function hl(v,f,m){var b;V((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),V(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(V(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(V(m.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Ia(){return Ia=(0,a.Z)(function*(v,f,m){const b=(0,k.m9)(v),x={requestType:"PASSWORD_RESET",email:f};m&&hl(b,x,m),yield function Ar(v,f){return Bt.apply(this,arguments)}(b,x)}),Ia.apply(this,arguments)}function Pt(){return(Pt=(0,a.Z)(function*(v,f,m){yield Sr((0,k.m9)(v),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Xu(){return Xu=(0,a.Z)(function*(v,f){yield function Rt(v,f){return wn.apply(this,arguments)}((0,k.m9)(v),{oobCode:f})}),Xu.apply(this,arguments)}function pl(v,f){return $c.apply(this,arguments)}function $c(){return($c=(0,a.Z)(function*(v,f){const m=(0,k.m9)(v),b=yield Sr(m,{oobCode:f}),x=b.requestType;switch(V(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(b.mfaInfo,m,"internal-error");default:V(b.email,m,"internal-error")}let O=null;return b.mfaInfo&&(O=Ea._fromServerResponse(On(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:x}})).apply(this,arguments)}function gl(){return(gl=(0,a.Z)(function*(v,f){const{data:m}=yield pl((0,k.m9)(v),f);return m.email})).apply(this,arguments)}function zc(){return(zc=(0,a.Z)(function*(v,f,m){const b=On(v),x=yield Uc(b,{returnSecureToken:!0,email:f,password:m}),O=yield Br._fromIdTokenResponse(b,"signIn",x);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function qc(){return qc=(0,a.Z)(function*(v,f,m){const b=(0,k.m9)(v),x={requestType:"EMAIL_SIGNIN",email:f};V(m.handleCodeInApp,b,"argument-error"),m&&hl(b,x,m),yield function kc(v,f){return Po.apply(this,arguments)}(b,x)}),qc.apply(this,arguments)}function Da(){return(Da=(0,a.Z)(function*(v,f,m){const b=(0,k.m9)(v),x=Fc.credentialWithLink(f,m||mr());return V(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),kn(b,x)})).apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(v,f){return ze(v,"POST","/v1/accounts:createAuthUri",le(v,f))})).apply(this,arguments)}function _l(){return _l=(0,a.Z)(function*(v,f){const b={identifier:f,continueUri:Zn()?mr():"http://localhost"},{signinMethods:x}=yield function ml(v,f){return Yr.apply(this,arguments)}((0,k.m9)(v),b);return x||[]}),_l.apply(this,arguments)}function Gc(){return Gc=(0,a.Z)(function*(v,f){const m=(0,k.m9)(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&hl(m.auth,x,f);const{email:O}=yield function An(v,f){return Rs.apply(this,arguments)}(m.auth,x);O!==v.email&&(yield v.reload())}),Gc.apply(this,arguments)}function er(){return er=(0,a.Z)(function*(v,f,m){const b=(0,k.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};m&&hl(b.auth,O,m);const{email:G}=yield function Nc(v,f){return wi.apply(this,arguments)}(b.auth,O);G!==v.email&&(yield v.reload())}),er.apply(this,arguments)}function ko(){return(ko=(0,a.Z)(function*(v,f){return ze(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function qi(){return qi=(0,a.Z)(function*(v,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,k.m9)(v),O={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},G=yield zn(b,function Qr(v,f){return ko.apply(this,arguments)}(b.auth,O));b.displayName=G.displayName||null,b.photoURL=G.photoUrl||null;const ce=b.providerData.find(({providerId:Ve})=>"password"===Ve);ce&&(ce.displayName=b.displayName,ce.photoURL=b.photoURL),yield b._updateTokensIfNecessary(G)}),qi.apply(this,arguments)}function rd(v,f,m){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,a.Z)(function*(v,f,m){const{auth:b}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(O.email=f),m&&(O.password=m);const G=yield zn(v,ui(b,O));yield v._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class oo{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class id extends oo{constructor(f,m,b,x){super(f,m,b),this.username=x}}class Yc extends oo{constructor(f,m){super(f,"facebook.com",m)}}class od extends id{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class df extends oo{constructor(f,m){super(f,"google.com",m)}}class bl extends id{constructor(f,m,b){super(f,"twitter.com",m,b)}}function hf(v){const{user:f,_tokenResponse:m}=v;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Kc(v){var f,m;if(!v)return null;const{providerId:b}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&v?.idToken){const G=null===(m=null===(f=It(v.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(G)return new oo(O,"anonymous"!==G&&"custom"!==G?G:null)}if(!b)return null;switch(b){case"facebook.com":return new Yc(O,x);case"github.com":return new od(O,x);case"google.com":return new df(O,x);case"twitter.com":return new bl(O,x,v.screenName||null);case"custom":case"anonymous":return new oo(O,null);default:return new oo(O,b,x)}}(m)}class us{constructor(f,m,b){this.type=f,this.credential=m,this.auth=b}static _fromIdtoken(f,m){return new us("enroll",f,m)}static _fromMfaPendingCredential(f){return new us("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return us._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return us._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Jc{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=On(f),x=m.customData._serverResponse,O=(x.mfaInfo||[]).map(ce=>Ea._fromServerResponse(b,ce));V(x.mfaPendingCredential,b,"internal-error");const G=us._fromMfaPendingCredential(x.mfaPendingCredential);return new Jc(G,O,function(){var ce=(0,a.Z)(function*(Ve){const lt=yield Ve._process(b,G);delete x.mfaInfo,delete x.mfaPendingCredential;const Zt=Object.assign(Object.assign({},x),{idToken:lt.idToken,refreshToken:lt.refreshToken});switch(m.operationType){case"signIn":const ot=yield Br._fromIdTokenResponse(b,m.operationType,Zt);return yield b._updateCurrentUser(ot.user),ot;case"reauthenticate":return V(m.user,b,"internal-error"),Br._forOperation(m.user,m.operationType,Zt);default:Ie(b,"internal-error")}});return function(Ve){return ce.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,a.Z)(function*(){return m.signInResolver(f)})()}}class Sa{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Ea._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Sa(f)}getSession(){var f=this;return(0,a.Z)(function*(){return us._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var b=this;return(0,a.Z)(function*(){const x=f,O=yield b.getSession(),G=yield zn(b.user,x._process(b.user.auth,O,m));return yield b.user._updateTokensIfNecessary(G),b.user.reload()})()}unenroll(f){var m=this;return(0,a.Z)(function*(){const b="string"==typeof f?f:f.uid,x=yield m.user.getIdToken();try{const O=yield zn(m.user,function Ig(v,f){return ze(v,"POST","/v2/accounts/mfaEnrollment:withdraw",le(v,f))}(m.user.auth,{idToken:x,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:G})=>G!==b),yield m.user._updateTokensIfNecessary(O),yield m.user.reload()}catch(O){throw O}})()}}const ds=new WeakMap,No="__sak";class Aa{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(No,"1"),this.storage.removeItem(No),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const wl=(()=>{class v extends Aa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ma(){const v=(0,k.z$)();return Ke(v)||Ln(v)}()&&function Pc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=rf(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),O=this.localCache[b];x!==O&&m(b,O,x)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((ce,Ve,lt)=>{this.notifyListeners(ce,lt)});const x=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(x);if(m.newValue!==ce)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!b)return}const O=()=>{const ce=this.storage.getItem(x);!b&&this.localCache[x]===ce||this.notifyListeners(x,ce)},G=this.storage.getItem(x);!function nf(){return(0,k.w1)()&&10===document.documentMode}()||G===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const O of Array.from(x))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var x=()=>super._set,O=this;return(0,a.Z)(function*(){yield x().call(O,m,b),O.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,x=this;return(0,a.Z)(function*(){const O=yield b().call(x,m);return x.localCache[m]=JSON.stringify(O),O})()}_remove(m){var b=()=>super._remove,x=this;return(0,a.Z)(function*(){yield b().call(x,m),delete x.localCache[m]})()}}return v.type="LOCAL",v})(),hs=(()=>{class v extends Aa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let pf=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(O=>O.isListeningto(m));if(b)return b;const x=new v(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,a.Z)(function*(){const x=m,{eventId:O,eventType:G,data:ce}=x.data,Ve=b.handlersMap[G];if(!Ve?.size)return;x.ports[0].postMessage({status:"ack",eventId:O,eventType:G});const lt=Array.from(Ve).map(function(){var ot=(0,a.Z)(function*(on){return on(x.origin,ce)});return function(on){return ot.apply(this,arguments)}}()),Zt=yield function ld(v){return Promise.all(v.map(function(){var f=(0,a.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(lt);x.ports[0].postMessage({status:"done",eventId:O,eventType:G,response:Zt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function fs(v="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return v+m}class Pa{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m){var b=this;return(0,a.Z)(function*(x,O,G=50){const ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let Ve,lt;return new Promise((Zt,ot)=>{const on=fs("",20);ce.port1.start();const Ai=setTimeout(()=>{ot(new Error("unsupported_event"))},G);lt={messageChannel:ce,onMessage(Yl){const Ql=Yl;if(Ql.data.eventId===on)switch(Ql.data.status){case"ack":clearTimeout(Ai),Ve=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ve),Zt(Ql.data.response);break;default:clearTimeout(Ai),clearTimeout(Ve),ot(new Error("invalid_response"))}}},b.handlers.add(lt),ce.port1.addEventListener("message",lt.onMessage),b.target.postMessage({eventType:x,eventId:on,data:O},[ce.port2])}).finally(()=>{lt&&b.removeMessageHandler(lt)})}).apply(this,arguments)}}function Mn(){return window}function so(){return typeof Mn().WorkerGlobalScope<"u"&&"function"==typeof Mn().importScripts}function Ks(){return(Ks=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Cl="firebaseLocalStorageDb",El=1,Fo="firebaseLocalStorage",Ys="fbase_key";class Qs{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Na(v,f){return v.transaction([Fo],f?"readwrite":"readonly").objectStore(Fo)}function Il(){const v=indexedDB.open(Cl,El);return new Promise((f,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(Fo,{keyPath:Ys})}catch(x){m(x)}}),v.addEventListener("success",(0,a.Z)(function*(){const b=v.result;b.objectStoreNames.contains(Fo)?f(b):(b.close(),yield function Ra(){const v=indexedDB.deleteDatabase(Cl);return new Qs(v).toPromise()}(),f(yield Il()))}))})}function br(v,f,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,a.Z)(function*(v,f,m){const b=Na(v,!0).put({[Ys]:f,value:m});return new Qs(b).toPromise()})).apply(this,arguments)}function Lo(){return(Lo=(0,a.Z)(function*(v,f){const m=Na(v,!1).get(f),b=yield new Qs(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function La(v,f){const m=Na(v,!0).delete(f);return new Qs(m).toPromise()}const ps=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,a.Z)(function*(){return m.db||(m.db=yield Il()),m.db})()}_withRetries(m){var b=this;return(0,a.Z)(function*(){let x=0;for(;;)try{const O=yield b._openDb();return yield m(O)}catch(O){if(x++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,a.Z)(function*(){return so()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,a.Z)(function*(){m.receiver=pf._getInstance(function ka(){return so()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,a.Z)(function*(x,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(x,O){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,a.Z)(function*(x,O){return["keyChanged"]});return function(x,O){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,a.Z)(function*(){var b,x;if(m.activeServiceWorker=yield function ao(){return Ks.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Pa(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);O&&null!==(b=O[0])&&void 0!==b&&b.fulfilled&&null!==(x=O[0])&&void 0!==x&&x.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,a.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function eu(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Il();return yield br(m,No,"1"),yield La(m,No),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,a.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var x=this;return(0,a.Z)(function*(){return x._withPendingWrite((0,a.Z)(function*(){return yield x._withRetries(O=>br(O,m,b)),x.localCache[m]=b,x.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,a.Z)(function*(){const x=yield b._withRetries(O=>function Js(v,f){return Lo.apply(this,arguments)}(O,m));return b.localCache[m]=x,x})()}_remove(m){var b=this;return(0,a.Z)(function*(){return b._withPendingWrite((0,a.Z)(function*(){return yield b._withRetries(x=>La(x,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,a.Z)(function*(){const b=yield m._withRetries(G=>{const ce=Na(G,!1).getAll();return new Qs(ce).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const x=[],O=new Set;for(const{fbase_key:G,value:ce}of b)O.add(G),JSON.stringify(m.localCache[G])!==JSON.stringify(ce)&&(m.notifyListeners(G,ce),x.push(G));for(const G of Object.keys(m.localCache))m.localCache[G]&&!O.has(G)&&(m.notifyListeners(G,null),x.push(G));return x})()}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const O of Array.from(x))O(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Dl(){return(Dl=(0,a.Z)(function*(v){return(yield ze(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wi(v){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=f,b.onerror=x=>{const O=we("internal-error");O.customData=x,m(O)},b.type="text/javascript",b.charset="UTF-8",function gs(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(b)})}function ud(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Ti=1e12;class Tg{constructor(f){this.auth=f,this.counter=Ti,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new dd(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||Ti;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Ti))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,a.Z)(function*(){var b;return null===(b=m._widgets.get(f||Ti))||void 0===b||b.execute(),""})()}}class dd{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;V(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Sl(v){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hd=ud("rcb"),nu=new Q(3e4,6e4);class co{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Mn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return V(function Xs(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Mn().grecaptcha):new Promise((b,x)=>{const O=Mn().setTimeout(()=>{x(we(f,"network-request-failed"))},nu.get());Mn()[hd]=()=>{Mn().clearTimeout(O),delete Mn()[hd];const ce=Mn().grecaptcha;if(!ce)return void x(we(f,"internal-error"));const Ve=ce.render;ce.render=(lt,Zt)=>{const ot=Ve(lt,Zt);return this.counter++,ot},this.hostLanguage=m,b(ce)},Wi(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:hd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),x(we(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Mn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ml{load(f){return(0,a.Z)(function*(){return new Tg(f)})()}clearedOneInstance(){}}const fd="recaptcha",gf={theme:"light",type:"image"};class Ba{constructor(f,m=Object.assign({},gf),b){this.parameters=m,this.type=fd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=On(b),this.isInvisible="invisible"===this.parameters.size,V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;V(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ml:new co,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(O=>{const G=ce=>{ce&&(f.tokenChangeListeners.delete(G),O(ce))};f.tokenChangeListeners.add(G),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=Mn()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){V(Zn()&&!so(),f.auth,"internal-error"),yield function pd(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Gi(v){return Dl.apply(this,arguments)}(f.auth);V(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ru{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ii._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function iu(){return(iu=(0,a.Z)(function*(v,f,m){const b=On(v),x=yield gd(b,f,(0,k.m9)(m));return new ru(x,O=>kn(b,O))})).apply(this,arguments)}function Pl(){return(Pl=(0,a.Z)(function*(v,f,m){const b=(0,k.m9)(v);yield ss(!1,b,"phone");const x=yield gd(b.auth,f,(0,k.m9)(m));return new ru(x,O=>Un(b,O))})).apply(this,arguments)}function yf(){return(yf=(0,a.Z)(function*(v,f,m){const b=(0,k.m9)(v),x=yield gd(b.auth,f,(0,k.m9)(m));return new ru(x,O=>as(b,O))})).apply(this,arguments)}function gd(v,f,m){return _f.apply(this,arguments)}function _f(){return _f=(0,a.Z)(function*(v,f,m){var b;const x=yield m.verify();try{let O;if(V("string"==typeof x,v,"argument-error"),V(m.type===fd,v,"argument-error"),O="string"==typeof f?{phoneNumber:f}:f,"session"in O){const G=O.session;if("phoneNumber"in O)return V("enroll"===G.type,v,"internal-error"),(yield function ff(v,f){return ze(v,"POST","/v2/accounts/mfaEnrollment:start",le(v,f))}(v,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{V("signin"===G.type,v,"internal-error");const ce=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return V(ce,v,"missing-multi-factor-info"),(yield function Va(v,f){return ze(v,"POST","/v2/accounts/mfaSignIn:start",le(v,f))}(v,{mfaPendingCredential:G.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield function Yu(v,f){return Ls.apply(this,arguments)}(v,{phoneNumber:O.phoneNumber,recaptchaToken:x});return G}}finally{m._reset()}}),_f.apply(this,arguments)}function vf(){return(vf=(0,a.Z)(function*(v,f){yield ul((0,k.m9)(v),f)})).apply(this,arguments)}let ou=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=On(m)}verifyPhoneNumber(m,b){return gd(this.auth,m,(0,k.m9)(b))}static credential(m,b){return Ii._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:x}=m;return b&&x?Ii._fromTokenResponse(b,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function En(v,f){return f?gt(f):(V(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class kl extends Xo{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return no(f,this._buildIdpRequest())}_linkToIdToken(f,m){return no(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return no(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Nl(v){return $s(v.auth,new kl(v),v.bypassAuthState)}function su(v){const{auth:f,user:m}=v;return V(m,f,"internal-error"),jc(m,new kl(v),v.bypassAuthState)}function Jr(v){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,a.Z)(function*(v){const{auth:f,user:m}=v;return V(m,f,"internal-error"),ul(m,new kl(v),v.bypassAuthState)})).apply(this,arguments)}class Rl{constructor(f,m,b,x,O=!1){this.auth=f,this.resolver=b,this.user=x,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,a.Z)(function*(b,x){f.pendingPromise={resolve:b,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(O){f.reject(O)}});return function(b,x){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,a.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:O,tenantId:G,error:ce,type:Ve}=f;if(ce)return void m.reject(ce);const lt={auth:m.auth,requestUri:b,sessionId:x,tenantId:G||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ve)(lt))}catch(Zt){m.reject(Zt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Nl;case"linkViaPopup":case"linkViaRedirect":return Jr;case"reauthViaPopup":case"reauthViaRedirect":return su;default:Ie(this.auth,"internal-error")}}resolve(f){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ja=new Q(2e3,1e4);function Fl(){return(Fl=(0,a.Z)(function*(v,f,m){const b=On(v);Fe(v,f,ro);const x=En(b,m);return new ta(b,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function bf(){return(bf=(0,a.Z)(function*(v,f,m){const b=(0,k.m9)(v);Fe(b.auth,f,ro);const x=En(b.auth,m);return new ta(b.auth,"reauthViaPopup",f,x,b).executeNotNull()})).apply(this,arguments)}function Hr(){return(Hr=(0,a.Z)(function*(v,f,m){const b=(0,k.m9)(v);Fe(b.auth,f,ro);const x=En(b.auth,m);return new ta(b.auth,"linkViaPopup",f,x,b).executeNotNull()})).apply(this,arguments)}let ta=(()=>{class v extends Rl{constructor(m,b,x,O,G){super(m,b,O,G),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,a.Z)(function*(){const b=yield m.execute();return V(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,a.Z)(function*(){Be(1===m.filter.length,"Popup operations only handle one event");const b=fs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(we(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,x;this.pollId=null!==(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,ja.get())};m()}}return v.currentPopupAction=null,v})();const Di="pendingRedirect",Xr=new Map;class ms extends Rl{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,a.Z)(function*(){let b=Xr.get(m.auth._key());if(!b){try{const O=(yield function Uo(v,f){return Vo.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(O)}catch(x){b=()=>Promise.reject(x)}Xr.set(m.auth._key(),b)}return m.bypassAuthState||Xr.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const x=yield b.auth._redirectUserForId(f.eventId);if(x)return b.user=x,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Vo(){return(Vo=(0,a.Z)(function*(v,f){const m=Ul(f),b=fi(v);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(m));return yield b._remove(m),x})).apply(this,arguments)}function Ll(v,f){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,a.Z)(function*(v,f){return fi(v)._set(Ul(f),"true")})).apply(this,arguments)}function wf(v,f){Xr.set(v._key(),f)}function fi(v){return gt(v._redirectPersistence)}function Ul(v){return z(Di,v.config.apiKey,v.name)}function md(v,f,m){return function lu(v,f,m){return I.apply(this,arguments)}(v,f,m)}function I(){return(I=(0,a.Z)(function*(v,f,m){const b=On(v);Fe(v,f,ro),yield b._initializationPromise;const x=En(b,m);return yield Ll(x,b),x._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function D(v,f,m){return function M(v,f,m){return F.apply(this,arguments)}(v,f,m)}function F(){return(F=(0,a.Z)(function*(v,f,m){const b=(0,k.m9)(v);Fe(b.auth,f,ro),yield b.auth._initializationPromise;const x=En(b.auth,m);yield Ll(x,b.auth);const O=yield Ot(b);return x._openRedirect(b.auth,f,"reauthViaRedirect",O)})).apply(this,arguments)}function K(v,f,m){return function te(v,f,m){return Pe.apply(this,arguments)}(v,f,m)}function Pe(){return(Pe=(0,a.Z)(function*(v,f,m){const b=(0,k.m9)(v);Fe(b.auth,f,ro),yield b.auth._initializationPromise;const x=En(b.auth,m);yield ss(!1,b,f.providerId),yield Ll(x,b.auth);const O=yield Ot(b);return x._openRedirect(b.auth,f,"linkViaRedirect",O)})).apply(this,arguments)}function ct(){return(ct=(0,a.Z)(function*(v,f){return yield On(v)._initializationPromise,ht(v,f,!1)})).apply(this,arguments)}function ht(v,f){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(v,f,m=!1){const b=On(v),x=En(b,f),G=yield new ms(b,x,m).execute();return G&&!m&&(delete G.user._redirectEventId,yield b._persistUserIfCurrent(G.user),yield b._setRedirectUser(null,f)),G})).apply(this,arguments)}function Ot(v){return ei.apply(this,arguments)}function ei(){return(ei=(0,a.Z)(function*(v){const f=fs(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class Ha{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function xi(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return na(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!na(f)){const x=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(we(this.auth,x))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cu(f))}saveEventToCache(f){this.cachedEventUids.add(cu(f)),this.lastProcessedEventTime=Date.now()}}function cu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function na({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function Bo(v){return ys.apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(v,f={}){return ze(v,"GET","/v1/projects",f)})).apply(this,arguments)}const xg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t_=/^https?/;function Ag(){return(Ag=(0,a.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield Bo(v);for(const m of f)try{if(Mg(m))return}catch{}Ie(v,"unauthorized-domain")})).apply(this,arguments)}function Mg(v){const f=mr(),{protocol:m,hostname:b}=new URL(f);if(v.startsWith("chrome-extension://")){const G=new URL(v);return""===G.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&G.hostname===b}if(!t_.test(m))return!1;if(xg.test(v))return b===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const Pb=new Q(3e4,6e4);function Pg(){const v=Mn().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Vl=null;const kb=new Q(5e3,15e3),Cf="__/auth/iframe",Nb="emulator/auth/iframe",Rb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lb(v){const f=v.config;V(f.authDomain,v,"auth-domain-config-required");const m=f.emulator?Y(f,Nb):`https://${v.config.authDomain}/${Cf}`,b={apiKey:f.apiKey,appName:v.name,v:re.SDK_VERSION},x=Fb.get(v.config.apiHost);x&&(b.eid=x);const O=v._getFrameworks();return O.length&&(b.fw=O.join(",")),`${m}?${(0,k.xO)(b).slice(1)}`}function Ef(){return Ef=(0,a.Z)(function*(v){const f=yield function Ob(v){return Vl=Vl||function n_(v){return new Promise((f,m)=>{var b,x,O;function G(){Pg(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Pg(),m(we(v,"network-request-failed"))},timeout:Pb.get()})}if(null!==(x=null===(b=Mn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==x&&x.Iframe)f(gapi.iframes.getContext());else{if(null===(O=Mn().gapi)||void 0===O||!O.load){const ce=ud("iframefcb");return Mn()[ce]=()=>{gapi.load?G():m(we(v,"network-request-failed"))},Wi(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Ve=>m(Ve))}G()}}).catch(f=>{throw Vl=null,f})}(v),Vl}(v),m=Mn().gapi;return V(m,v,"internal-error"),f.open({where:document.body,url:Lb(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rb,dontclear:!0},b=>new Promise(function(){var x=(0,a.Z)(function*(O,G){yield b.restyle({setHideOnLeave:!1});const ce=we(v,"network-request-failed"),Ve=Mn().setTimeout(()=>{G(ce)},kb.get());function lt(){Mn().clearTimeout(Ve),O(b)}b.ping(lt).then(lt,()=>{G(ce)})});return function(O,G){return x.apply(this,arguments)}}()))}),Ef.apply(this,arguments)}const Og={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},If=500,kg=600,r_="_blank",Ng="http://localhost";class uo{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ra="__/auth/handler",Df="emulator/auth/handler";function $a(v,f,m,b,x,O){V(v.config.authDomain,v,"auth-domain-config-required"),V(v.config.apiKey,v,"invalid-api-key");const G={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:re.SDK_VERSION,eventId:x};if(f instanceof ro){f.setDefaultLanguage(v.languageCode),G.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(G.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ve,lt]of Object.entries(O||{}))G[Ve]=lt}if(f instanceof Us){const Ve=f.getScopes().filter(lt=>""!==lt);Ve.length>0&&(G.scopes=Ve.join(","))}v.tenantId&&(G.tid=v.tenantId);const ce=G;for(const Ve of Object.keys(ce))void 0===ce[Ve]&&delete ce[Ve];return`${function xf({config:v}){return v.emulator?Y(v,Df):`https://${v.authDomain}/${ra}`}(v)}?${(0,k.xO)(ce).slice(1)}`}const uu="webStorageSupport",yd=class Si{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hs,this._completeRedirectFn=ht,this._overrideRedirectResult=wf}_openPopup(f,m,b,x){var O=this;return(0,a.Z)(function*(){var G;Be(null===(G=O.eventManagers[f._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const ce=$a(f,m,b,mr(),x);return function i_(v,f,m,b=If,x=kg){const O=Math.max((window.screen.availHeight-x)/2,0).toString(),G=Math.max((window.screen.availWidth-b)/2,0).toString();let ce="";const Ve=Object.assign(Object.assign({},Og),{width:b.toString(),height:x.toString(),top:O,left:G}),lt=(0,k.z$)().toLowerCase();m&&(ce=rn(lt)?r_:m),Qe(lt)&&(f=f||Ng,Ve.scrollbars="yes");const Zt=Object.entries(Ve).reduce((on,[Ai,Yl])=>`${on}${Ai}=${Yl},`,"");if(function Mo(v=(0,k.z$)()){var f;return Ln(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(lt)&&"_self"!==ce)return function Tf(v,f){const m=document.createElement("a");m.href=v,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",ce),new uo(null);const ot=window.open(f||"",ce,Zt);V(ot,v,"popup-blocked");try{ot.focus()}catch{}return new uo(ot)}(f,ce,fs())})()}_openRedirect(f,m,b,x){var O=this;return(0,a.Z)(function*(){return yield O._originValidation(f),function Oa(v){Mn().location.href=v}($a(f,m,b,mr(),x)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:x,promise:O}=this.eventManagers[m];return x?Promise.resolve(x):(Be(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,a.Z)(function*(){const b=yield function Ub(v){return Ef.apply(this,arguments)}(f),x=new Ha(f);return b.register("authEvent",O=>(V(O?.authEvent,f,"invalid-auth-event"),{status:x.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:x},m.iframes[f._key()]=b,x})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(uu,{type:uu},x=>{var O;const G=null===(O=x?.[0])||void 0===O?void 0:O[uu];void 0!==G&&m(!!G),Ie(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Sg(v){return Ag.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return rf()||Ke()||Ln()}};class Sf{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return ve("unexpected MultiFactorSessionType")}}}class _d extends Sf{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new _d(f)}_finalizeEnroll(f,m,b){return function Eg(v,f){return ze(v,"POST","/v2/accounts/mfaEnrollment:finalize",le(v,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function cd(v,f){return ze(v,"POST","/v2/accounts/mfaSignIn:finalize",le(v,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ti=(()=>{class v{constructor(){}static assertion(m){return _d._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Bl="@firebase/auth";class Af{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,a.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{f(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Za(){return window}(0,k.Pz)("authIdTokenMaxAge"),function jl(v){(0,re._registerComponent)(new me.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),x=f.getProvider("heartbeat"),{apiKey:O,authDomain:G}=b.options;return((ce,Ve)=>{V(O&&!O.includes(":"),"invalid-api-key",{appName:ce.name}),V(!G?.includes(":"),"argument-error",{appName:ce.name});const lt={apiKey:O,authDomain:G,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ns(v)},Zt=new Ku(ce,Ve,lt);return function xn(v,f){const m=f?.persistence||[],b=(Array.isArray(m)?m:[m]).map(gt);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(b,f?.popupRedirectResolver)}(Zt,m),Zt})(b,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new me.wA("auth-internal",f=>{const m=On(f.getProvider("auth").getImmediate());return new Af(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(Bl,"0.21.2",function Vn(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,re.registerVersion)(Bl,"0.21.2","esm2017")}("Browser");const Ug=2e3;function Pf(){return Pf=(0,a.Z)(function*(v,f,m){var b;const{BuildInfo:x}=Za();Be(f.sessionId,"AuthEvent did not contain a session ID");const O=yield function Bg(v){return za.apply(this,arguments)}(f.sessionId),G={};return Ln()?G.ibi=x.packageName:bn()?G.apn=x.packageName:Ie(v,"operation-not-supported-in-this-environment"),x.displayName&&(G.appDisplayName=x.displayName),G.sessionId=O,$a(v,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,G)}),Pf.apply(this,arguments)}function du(){return(du=(0,a.Z)(function*(v){const{BuildInfo:f}=Za(),m={};Ln()?m.iosBundleId=f.packageName:bn()?m.androidPackageName=f.packageName:Ie(v,"operation-not-supported-in-this-environment"),yield Bo(v,m)})).apply(this,arguments)}function jo(){return(jo=(0,a.Z)(function*(v,f,m){const{cordova:b}=Za();let x=()=>{};try{yield new Promise((O,G)=>{let ce=null;function Ve(){var ot;O();const on=null===(ot=b.plugins.browsertab)||void 0===ot?void 0:ot.close;"function"==typeof on&&on(),"function"==typeof m?.close&&m.close()}function lt(){ce||(ce=window.setTimeout(()=>{G(we(v,"redirect-cancelled-by-user"))},Ug))}function Zt(){"visible"===document?.visibilityState&&lt()}f.addPassiveListener(Ve),document.addEventListener("resume",lt,!1),bn()&&document.addEventListener("visibilitychange",Zt,!1),x=()=>{f.removePassiveListener(Ve),document.removeEventListener("resume",lt,!1),document.removeEventListener("visibilitychange",Zt,!1),ce&&window.clearTimeout(ce)}})}finally{x()}})).apply(this,arguments)}function za(){return(za=(0,a.Z)(function*(v){const f=function ho(v){if(Be(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),m=new Uint8Array(f);for(let b=0;b<v.length;b++)m[b]=v.charCodeAt(b);return m}(v),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Cd=20;class _s extends Ha{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,a.Z)(function*(){yield f.initPromise})()}}function kf(v){return fu.apply(this,arguments)}function fu(){return(fu=(0,a.Z)(function*(v){const f=yield Ed()._get(Id(v));return f&&(yield Ed()._remove(Id(v))),f})).apply(this,arguments)}function ia(){const v=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<Cd;m++){const b=Math.floor(Math.random()*f.length);v.push(f.charAt(b))}return v.join("")}function Ed(){return gt(wl)}function Id(v){return z("authEvent",v.config.apiKey,v.name)}function vs(v){if(!v?.includes("?"))return{};const[f,...m]=v.split("?");return(0,k.zd)(m.join("?"))}const Dd=class Td{constructor(){this._redirectPersistence=hs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ht,this._overrideRedirectResult=wf}_initialize(f){var m=this;return(0,a.Z)(function*(){const b=f._key();let x=m.eventManagers.get(b);return x||(x=new _s(f),m.eventManagers.set(b,x),m.attachCallbackListeners(f,x)),x})()}_openPopup(f){Ie(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,x){var O=this;return(0,a.Z)(function*(){!function wd(v){var f,m,b,x,O,G,ce,Ve,lt,Zt;const ot=Za();V("function"==typeof(null===(f=ot?.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof(null===(m=ot?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V("function"==typeof(null===(O=null===(x=null===(b=ot?.cordova)||void 0===b?void 0:b.plugins)||void 0===x?void 0:x.browsertab)||void 0===O?void 0:O.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(Ve=null===(ce=null===(G=ot?.cordova)||void 0===G?void 0:G.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Ve?void 0:Ve.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(Zt=null===(lt=ot?.cordova)||void 0===lt?void 0:lt.InAppBrowser)||void 0===Zt?void 0:Zt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const G=yield O._initialize(f);yield G.initialized(),G.resetRedirect(),function au(){Xr.clear()}(),yield O._originValidation(f);const ce=function Of(v,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:ia(),postBody:null,tenantId:v.tenantId,error:we(v,"no-auth-event")}}(f,b,x);yield function Hl(v,f){return Ed()._set(Id(v),f)}(f,ce);const Ve=yield function vd(v,f,m){return Pf.apply(this,arguments)}(f,ce,m),lt=yield function hu(v){const{cordova:f}=Za();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let x=null;b?f.plugins.browsertab.openUrl(v):x=f.InAppBrowser.open(v,function _a(v=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(x)})})}(Ve);return function bd(v,f,m){return jo.apply(this,arguments)}(f,G,lt)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Vg(v){return du.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:x,BuildInfo:O}=Za(),G=setTimeout((0,a.Z)(function*(){yield kf(f),m.onEvent($l())}),500),ce=function(){var Zt=(0,a.Z)(function*(ot){clearTimeout(G);const on=yield kf(f);let Ai=null;on&&ot?.url&&(Ai=function jg(v,f){var m,b;const x=function qa(v){const f=vs(v),m=f.link?decodeURIComponent(f.link):void 0,b=vs(m).link,x=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return vs(x).link||x||b||m||v}(f);if(x.includes("/__/auth/callback")){const O=vs(x),G=O.firebaseError?function Ho(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,ce=null===(b=null===(m=G?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ve=ce?we(ce):null;return Ve?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:x,postBody:null}}return null}(on,ot.url)),m.onEvent(Ai||$l())});return function(on){return Zt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,ce);const Ve=x,lt=`${O.packageName.toLowerCase()}://`;Za().handleOpenURL=function(){var Zt=(0,a.Z)(function*(ot){if(ot.toLowerCase().startsWith(lt)&&ce({url:ot}),"function"==typeof Ve)try{Ve(ot)}catch(on){console.error(on)}});return function(ot){return Zt.apply(this,arguments)}}()}};function $l(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}const Ga=1e3;function Zl(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function pi(v=(0,k.z$)()){return!("file:"!==Zl()&&"ionic:"!==Zl()&&"capacitor:"!==Zl()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rf(){try{const v=self.localStorage,f=fs();if(v)return v.setItem(f,"1"),v.removeItem(f),!function Zg(v=(0,k.z$)()){return function Wa(){return(0,k.w1)()&&11===document?.documentMode}()||function Ad(v=(0,k.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,k.hl)()}catch{return Md()&&(0,k.hl)()}return!1}function Md(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pd(){return(function $g(){return"http:"===Zl()||"https:"===Zl()}()||(0,k.ru)()||pi())&&!function a_(){return(0,k.b$)()||(0,k.UG)()}()&&Rf()&&!Md()}function zg(){return pi()&&typeof document<"u"}function zl(){return(zl=(0,a.Z)(function*(){return!!zg()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},Ga);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const ni={LOCAL:"local",NONE:"none",SESSION:"session"},$o=V,Ya="persistence";function Od(v){return kd.apply(this,arguments)}function kd(){return(kd=(0,a.Z)(function*(v){yield v._initializationPromise;const f=Lf(),m=z(Ya,v.config.apiKey,v.name);f&&f.setItem(m,v._getPersistence())})).apply(this,arguments)}function Lf(){var v;try{return(null===(v=function qg(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const l_=V;class bs{constructor(){this.browserResolver=gt(yd),this.cordovaResolver=gt(Dd),this.underlyingResolver=null,this._redirectPersistence=hs,this._completeRedirectFn=ht,this._overrideRedirectResult=wf}_initialize(f){var m=this;return(0,a.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,x){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(f,m,b,x)})()}_openRedirect(f,m,b,x){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(f,m,b,x)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return zg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return l_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,a.Z)(function*(){if(f.underlyingResolver)return;const m=yield function Ka(){return zl.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Uf(v){return v.unwrap()}function Vf(v){return oa(v)}function oa(v){const{_tokenResponse:f}=v instanceof k.ZR?v.customData:v;if(!f)return null;if(!(v instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return ou.credentialFromResult(v);const m=f.providerId;if(!m||m===he.PASSWORD)return null;let b;switch(m){case he.GOOGLE:b=af;break;case he.FACEBOOK:b=Lc;break;case he.GITHUB:b=lf;break;case he.TWITTER:b=bg;break;default:const{oauthIdToken:x,oauthAccessToken:O,oauthTokenSecret:G,pendingToken:ce,nonce:Ve}=f;return O||G||x||ce?ce?m.startsWith("saml.")?Vs._create(m,ce):di._fromParams({providerId:m,signInMethod:m,pendingToken:ce,idToken:x,accessToken:O}):new wa(m).credential({idToken:x,accessToken:O,rawNonce:Ve}):null}return v instanceof k.ZR?b.credentialFromError(v):b.credentialFromResult(v)}function $r(v,f){return f.catch(m=>{throw m instanceof k.ZR&&function Gl(v,f){var m;const b=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Bf(v,function cr(v,f){var m;const b=(0,k.m9)(v),x=f;return V(f.customData.operationType,b,"argument-error"),V(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Jc._fromError(b,x)}(v,f));else if(b){const x=oa(f),O=f;x&&(O.credential=x,O.tenantId=b.tenantId||void 0,O.email=b.email||void 0,O.phoneNumber=b.phoneNumber||void 0)}}(v,m),m}).then(m=>{const x=m.user;return{operationType:m.operationType,credential:Vf(m),additionalUserInfo:hf(m),user:ws.getOrCreate(x)}})}function Rd(v,f){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,a.Z)(function*(v,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>$r(v,m.confirm(b))}})).apply(this,arguments)}class Bf{constructor(f,m){this.resolver=m,this.auth=function Nd(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return $r(Uf(this.auth),this.resolver.resolveSignIn(f))}}class ws{constructor(f){this._delegate=f,this.multiFactor=function Xc(v){const f=(0,k.m9)(v);return ds.has(f)||ds.set(f,Sa._fromUser(f)),ds.get(f)}(f)}static getOrCreate(f){return ws.USER_MAP.has(f)||ws.USER_MAP.set(f,new ws(f)),ws.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,a.Z)(function*(){return $r(m.auth,Un(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,a.Z)(function*(){return Rd(b.auth,function Dg(v,f,m){return Pl.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,a.Z)(function*(){return $r(m.auth,function e_(v,f,m){return Hr.apply(this,arguments)}(m._delegate,f,bs))})()}linkWithRedirect(f){var m=this;return(0,a.Z)(function*(){return yield Od(On(m.auth)),K(m._delegate,f,bs)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,a.Z)(function*(){return $r(m.auth,as(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Rd(this.auth,function mf(v,f,m){return yf.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return $r(this.auth,function Mb(v,f,m){return bf.apply(this,arguments)}(this._delegate,f,bs))}reauthenticateWithRedirect(f){var m=this;return(0,a.Z)(function*(){return yield Od(On(m.auth)),D(m._delegate,f,bs)})()}sendEmailVerification(f){return function td(v,f){return Gc.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,a.Z)(function*(){return yield function cl(v,f){return Bs.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function nd(v,f){return rd((0,k.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function xa(v,f){return rd((0,k.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Ol(v,f){return vf.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function cs(v,f){return qi.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function vl(v,f,m){return er.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ws.USER_MAP=new WeakMap;const Kl=V;let pu=(()=>{class v{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=m.options;Kl(x,"invalid-api-key",{appName:m.name}),Kl(x,"invalid-api-key",{appName:m.name});const O=typeof window<"u"?bs:void 0;this._delegate=b.initialize({options:{persistence:Ld(x,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(He),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ws.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function nn(v,f,m){const b=On(v);V(b._canInitEmulator,b,"emulator-config-failed"),V(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const x=!!m?.disableWarnings,O=qn(f),{host:G,port:ce}=function lr(v){const f=qn(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const O=x[1];return{host:O,port:eo(b.substr(O.length+1))}}{const[O,G]=b.split(":");return{host:O,port:eo(G)}}}(f);b.config.emulator={url:`${O}//${G}${null===ce?"":`:${ce}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:G,port:ce,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function xr(){function v(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,b)}applyActionCode(m){return function fl(v,f){return Xu.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return pl(this._delegate,m)}confirmPasswordReset(m,b){return function Ta(v,f,m){return Pt.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var x=this;return(0,a.Z)(function*(){return $r(x._delegate,function uf(v,f,m){return zc.apply(this,arguments)}(x._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function yl(v,f){return _l.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function ed(v,f){return"EMAIL_SIGNIN"===ba.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,a.Z)(function*(){Kl(Pd(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Xe(v,f){return ct.apply(this,arguments)}(m._delegate,bs);return b?$r(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function xd(v,f){On(v)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,x){const{next:O,error:G,complete:ce}=Fd(m,b,x);return this._delegate.onAuthStateChanged(O,G,ce)}onIdTokenChanged(m,b,x){const{next:O,error:G,complete:ce}=Fd(m,b,x);return this._delegate.onIdTokenChanged(O,G,ce)}sendSignInLinkToEmail(m,b){return function Xt(v,f,m){return qc.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function io(v,f,m){return Ia.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,a.Z)(function*(){let x;switch(function ql(v,f){$o(Object.values(ni).includes(f),v,"invalid-persistence-type"),(0,k.b$)()?$o(f!==ni.SESSION,v,"unsupported-persistence-type"):(0,k.UG)()?$o(f===ni.NONE,v,"unsupported-persistence-type"):Md()?$o(f===ni.NONE||f===ni.LOCAL&&(0,k.hl)(),v,"unsupported-persistence-type"):$o(f===ni.NONE||Rf(),v,"unsupported-persistence-type")}(b._delegate,m),m){case ni.SESSION:x=hs;break;case ni.LOCAL:x=(yield gt(ps)._isAvailable())?ps:wl;break;case ni.NONE:x=U;break;default:return Ie("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return $r(this._delegate,function Ju(v){return cf.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return $r(this._delegate,kn(this._delegate,m))}signInWithCustomToken(m){return $r(this._delegate,function ls(v,f){return Xn.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return $r(this._delegate,function _e(v,f,m){return kn((0,k.m9)(v),Fc.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return $r(this._delegate,function vr(v,f,m){return Da.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Rd(this._delegate,function Jt(v,f,m){return iu.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,a.Z)(function*(){return Kl(Pd(),b._delegate,"operation-not-supported-in-this-environment"),$r(b._delegate,function ea(v,f,m){return Fl.apply(this,arguments)}(b._delegate,m,bs))})()}signInWithRedirect(m){var b=this;return(0,a.Z)(function*(){return Kl(Pd(),b._delegate,"operation-not-supported-in-this-environment"),yield Od(b._delegate),md(b._delegate,m,bs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Zc(v,f){return gl.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=ni,v})();function Fd(v,f,m){let b=v;"function"!=typeof v&&({next:b,error:f,complete:m}=v);const x=b;return{next:G=>x(G&&ws.getOrCreate(G)),error:f,complete:m}}function Ld(v,f){const m=function Ff(v,f){const m=Lf();if(!m)return[];const b=z(Ya,v,f);switch(m.getItem(b)){case ni.NONE:return[U];case ni.LOCAL:return[ps,hs];case ni.SESSION:return[hs];default:return[]}}(v,f);if(typeof self<"u"&&!m.includes(ps)&&m.push(ps),typeof window<"u")for(const b of[wl,hs])m.includes(b)||m.push(b);return m.includes(U)||m.push(U),m}class Ud{constructor(){this.providerId="phone",this._delegate=new ou(Uf(J.Z.auth()))}static credential(f,m){return ou.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Ud.PHONE_SIGN_IN_METHOD=ou.PHONE_SIGN_IN_METHOD,Ud.PROVIDER_ID=ou.PROVIDER_ID;const gu=V;class Vd{constructor(f,m,b=J.Z.app()){var x;gu(null===(x=b.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Ba(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function c_(v){v.INTERNAL.registerComponent(new me.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new pu(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:W_EMAIL_SIGNIN,PASSWORD_RESET:W_PASSWORD_RESET,RECOVER_EMAIL:W_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:W_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:W_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:W_VERIFY_EMAIL}},EmailAuthProvider:Fc,FacebookAuthProvider:Lc,GithubAuthProvider:lf,GoogleAuthProvider:af,OAuthProvider:wa,SAMLAuthProvider:zi,PhoneAuthProvider:Ud,PhoneMultiFactorGenerator:ti,RecaptchaVerifier:Vd,TwitterAuthProvider:bg,Auth:pu,AuthCredential:Xo,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.3.2")}(J.Z)},8766:(yt,xe,N)=>{N.d(xe,{Lj:()=>Ie,X3:()=>Ue});var a=N(5861);const J=(V,ve)=>ve.some(Be=>V instanceof Be);let k,re;const me=new WeakMap,fe=new WeakMap,he=new WeakMap,$=new WeakMap,H=new WeakMap;let Te={get(V,ve,Be){if(V instanceof IDBTransaction){if("done"===ve)return fe.get(V);if("objectStoreNames"===ve)return V.objectStoreNames||he.get(V);if("store"===ve)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return Se(V[ve])},set:(V,ve,Be)=>(V[ve]=Be,!0),has:(V,ve)=>V instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in V};function ge(V){return"function"==typeof V?function at(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...ve){return V.apply(De(this),ve),Se(me.get(this))}:function(...ve){return Se(V.apply(De(this),ve))}:function(ve,...Be){const Ze=V.call(De(this),ve,...Be);return he.set(Ze,ve.sort?ve.sort():[ve]),Se(Ze)}}(V):(V instanceof IDBTransaction&&function je(V){if(fe.has(V))return;const ve=new Promise((Be,Ze)=>{const gt=()=>{V.removeEventListener("complete",Ye),V.removeEventListener("error",xn),V.removeEventListener("abort",xn)},Ye=()=>{Be(),gt()},xn=()=>{Ze(V.error||new DOMException("AbortError","AbortError")),gt()};V.addEventListener("complete",Ye),V.addEventListener("error",xn),V.addEventListener("abort",xn)});fe.set(V,ve)}(V),J(V,function ie(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,Te):V)}function Se(V){if(V instanceof IDBRequest)return function W(V){const ve=new Promise((Be,Ze)=>{const gt=()=>{V.removeEventListener("success",Ye),V.removeEventListener("error",xn)},Ye=()=>{Be(Se(V.result)),gt()},xn=()=>{Ze(V.error),gt()};V.addEventListener("success",Ye),V.addEventListener("error",xn)});return ve.then(Be=>{Be instanceof IDBCursor&&me.set(Be,V)}).catch(()=>{}),H.set(ve,V),ve}(V);if($.has(V))return $.get(V);const ve=ge(V);return ve!==V&&($.set(V,ve),H.set(ve,V)),ve}const De=V=>H.get(V);function Ue(V,ve,{blocked:Be,upgrade:Ze,blocking:gt,terminated:Ye}={}){const xn=indexedDB.open(V,ve),mr=Se(xn);return Ze&&xn.addEventListener("upgradeneeded",Zn=>{Ze(Se(xn.result),Zn.oldVersion,Zn.newVersion,Se(xn.transaction))}),Be&&xn.addEventListener("blocked",()=>Be()),mr.then(Zn=>{Ye&&Zn.addEventListener("close",()=>Ye()),gt&&Zn.addEventListener("versionchange",()=>gt())}).catch(()=>{}),mr}function Ie(V,{blocked:ve}={}){const Be=indexedDB.deleteDatabase(V);return ve&&Be.addEventListener("blocked",()=>ve()),Se(Be).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],Me=["put","add","delete","clear"],Fe=new Map;function Ne(V,ve){if(!(V instanceof IDBDatabase)||ve in V||"string"!=typeof ve)return;if(Fe.get(ve))return Fe.get(ve);const Be=ve.replace(/FromIndex$/,""),Ze=ve!==Be,gt=Me.includes(Be);if(!(Be in(Ze?IDBIndex:IDBObjectStore).prototype)||!gt&&!we.includes(Be))return;const Ye=function(){var xn=(0,a.Z)(function*(mr,...Zn){const ji=this.transaction(mr,gt?"readwrite":"readonly");let ar=ji.store;return Ze&&(ar=ar.index(Zn.shift())),(yield Promise.all([ar[Be](...Zn),gt&&ji.done]))[0]});return function(Zn){return xn.apply(this,arguments)}}();return Fe.set(ve,Ye),Ye}!function He(V){Te=V(Te)}(V=>({...V,get:(ve,Be,Ze)=>Ne(ve,Be)||V.get(ve,Be,Ze),has:(ve,Be)=>!!Ne(ve,Be)||V.has(ve,Be)}))},5861:(yt,xe,N)=>{function a(k,re,ie,ne,me,fe,he){try{var $=k[fe](he),H=$.value}catch(W){return void ie(W)}$.done?re(H):Promise.resolve(H).then(ne,me)}function J(k){return function(){var re=this,ie=arguments;return new Promise(function(ne,me){var fe=k.apply(re,ie);function he(H){a(fe,ne,me,he,$,"next",H)}function $(H){a(fe,ne,me,he,$,"throw",H)}he(void 0)})}}N.d(xe,{Z:()=>J})},7582:(yt,xe,N)=>{function re(Q,Y){var ue={};for(var pe in Q)Object.prototype.hasOwnProperty.call(Q,pe)&&Y.indexOf(pe)<0&&(ue[pe]=Q[pe]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(pe=Object.getOwnPropertySymbols(Q);ke<pe.length;ke++)Y.indexOf(pe[ke])<0&&Object.prototype.propertyIsEnumerable.call(Q,pe[ke])&&(ue[pe[ke]]=Q[pe[ke]])}return ue}function W(Q,Y,ue,pe){return new(ue||(ue=Promise))(function(le,ze){function Ht(Wt){try{mt(pe.next(Wt))}catch(Tn){ze(Tn)}}function ln(Wt){try{mt(pe.throw(Wt))}catch(Tn){ze(Tn)}}function mt(Wt){Wt.done?le(Wt.value):function ke(le){return le instanceof ue?le:new ue(function(ze){ze(le)})}(Wt.value).then(Ht,ln)}mt((pe=pe.apply(Q,Y||[])).next())})}function Ie(Q){return this instanceof Ie?(this.v=Q,this):new Ie(Q)}function we(Q,Y,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,pe=ue.apply(Q,Y||[]),le=[];return ke=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ht("next"),Ht("throw"),Ht("return",function ze($t){return function(hn){return Promise.resolve(hn).then($t,Tn)}}),ke[Symbol.asyncIterator]=function(){return this},ke;function Ht($t,hn){pe[$t]&&(ke[$t]=function(Jn){return new Promise(function(Yt,tt){le.push([$t,Jn,Yt,tt])>1||ln($t,Jn)})},hn&&(ke[$t]=hn(ke[$t])))}function ln($t,hn){try{!function mt($t){$t.value instanceof Ie?Promise.resolve($t.value.v).then(Wt,Tn):Ir(le[0][2],$t)}(pe[$t](hn))}catch(Jn){Ir(le[0][3],Jn)}}function Wt($t){ln("next",$t)}function Tn($t){ln("throw",$t)}function Ir($t,hn){$t(hn),le.shift(),le.length&&ln(le[0][0],le[0][1])}}function Fe(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,Y=Q[Symbol.asyncIterator];return Y?Y.call(Q):(Q=function at(Q){var Y="function"==typeof Symbol&&Symbol.iterator,ue=Y&&Q[Y],pe=0;if(ue)return ue.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&pe>=Q.length&&(Q=void 0),{value:Q&&Q[pe++],done:!Q}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),ue={},pe("next"),pe("throw"),pe("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function pe(le){ue[le]=Q[le]&&function(ze){return new Promise(function(Ht,ln){!function ke(le,ze,Ht,ln){Promise.resolve(ln).then(function(mt){le({value:mt,done:Ht})},ze)}(Ht,ln,(ze=Q[le](ze)).done,ze.value)})}}}N.d(xe,{FC:()=>we,KL:()=>Fe,_T:()=>re,mG:()=>W,qq:()=>Ie}),"function"==typeof SuppressedError&&SuppressedError}},yt=>{yt(yt.s=7034)}]);